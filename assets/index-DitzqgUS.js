(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function Pr(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Qy(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var s=function r(){return this instanceof r?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(r){var u=Object.getOwnPropertyDescriptor(l,r);Object.defineProperty(s,r,u.get?u:{enumerable:!0,get:function(){return l[r]}})}),s}var dc={exports:{}},os={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function Py(){if(Zg)return os;Zg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(r,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:l,type:r,key:f,ref:u!==void 0?u:null,props:c}}return os.Fragment=a,os.jsx=s,os.jsxs=s,os}var Qg;function Fy(){return Qg||(Qg=1,dc.exports=Py()),dc.exports}var h=Fy(),fc={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function Wy(){if(Pg)return Le;Pg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,O={};function R(j,I,W){this.props=j,this.context=I,this.refs=O,this.updater=W||N}R.prototype.isReactComponent={},R.prototype.setState=function(j,I){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,I,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function G(){}G.prototype=R.prototype;function C(j,I,W){this.props=j,this.context=I,this.refs=O,this.updater=W||N}var J=C.prototype=new G;J.constructor=C,k(J,R.prototype),J.isPureReactComponent=!0;var me=Array.isArray;function te(){}var P={H:null,A:null,T:null,S:null},Me=Object.prototype.hasOwnProperty;function V(j,I,W){var se=W.ref;return{$$typeof:l,type:j,key:I,ref:se!==void 0?se:null,props:W}}function oe(j,I){return V(j.type,I,j.props)}function ie(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function ue(j){var I={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(W){return I[W]})}var ze=/\/+/g;function gt(j,I){return typeof j=="object"&&j!==null&&j.key!=null?ue(""+j.key):I.toString(36)}function He(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(te,te):(j.status="pending",j.then(function(I){j.status==="pending"&&(j.status="fulfilled",j.value=I)},function(I){j.status==="pending"&&(j.status="rejected",j.reason=I)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function B(j,I,W,se,Ee){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var et=!1;if(j===null)et=!0;else switch(ke){case"bigint":case"string":case"number":et=!0;break;case"object":switch(j.$$typeof){case l:case a:et=!0;break;case v:return et=j._init,B(et(j._payload),I,W,se,Ee)}}if(et)return Ee=Ee(j),et=se===""?"."+gt(j,0):se,me(Ee)?(W="",et!=null&&(W=et.replace(ze,"$&/")+"/"),B(Ee,I,W,"",function(Ye){return Ye})):Ee!=null&&(ie(Ee)&&(Ee=oe(Ee,W+(Ee.key==null||j&&j.key===Ee.key?"":(""+Ee.key).replace(ze,"$&/")+"/")+et)),I.push(Ee)),1;et=0;var ce=se===""?".":se+":";if(me(j))for(var de=0;de<j.length;de++)se=j[de],ke=ce+gt(se,de),et+=B(se,I,W,ke,Ee);else if(de=E(j),typeof de=="function")for(j=de.call(j),de=0;!(se=j.next()).done;)se=se.value,ke=ce+gt(se,de++),et+=B(se,I,W,ke,Ee);else if(ke==="object"){if(typeof j.then=="function")return B(He(j),I,W,se,Ee);throw I=String(j),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return et}function F(j,I,W){if(j==null)return j;var se=[],Ee=0;return B(j,se,"","",function(ke){return I.call(W,ke,Ee++)}),se}function he(j){if(j._status===-1){var I=j._result;I=I(),I.then(function(W){(j._status===0||j._status===-1)&&(j._status=1,j._result=W)},function(W){(j._status===0||j._status===-1)&&(j._status=2,j._result=W)}),j._status===-1&&(j._status=0,j._result=I)}if(j._status===1)return j._result.default;throw j._result}var ve=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Je={map:F,forEach:function(j,I,W){F(j,function(){I.apply(this,arguments)},W)},count:function(j){var I=0;return F(j,function(){I++}),I},toArray:function(j){return F(j,function(I){return I})||[]},only:function(j){if(!ie(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Le.Activity=w,Le.Children=Je,Le.Component=R,Le.Fragment=s,Le.Profiler=u,Le.PureComponent=C,Le.StrictMode=r,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return P.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(j,I,W){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var se=k({},j.props),Ee=j.key;if(I!=null)for(ke in I.key!==void 0&&(Ee=""+I.key),I)!Me.call(I,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&I.ref===void 0||(se[ke]=I[ke]);var ke=arguments.length-2;if(ke===1)se.children=W;else if(1<ke){for(var et=Array(ke),ce=0;ce<ke;ce++)et[ce]=arguments[ce+2];se.children=et}return V(j.type,Ee,se)},Le.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Le.createElement=function(j,I,W){var se,Ee={},ke=null;if(I!=null)for(se in I.key!==void 0&&(ke=""+I.key),I)Me.call(I,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Ee[se]=I[se]);var et=arguments.length-2;if(et===1)Ee.children=W;else if(1<et){for(var ce=Array(et),de=0;de<et;de++)ce[de]=arguments[de+2];Ee.children=ce}if(j&&j.defaultProps)for(se in et=j.defaultProps,et)Ee[se]===void 0&&(Ee[se]=et[se]);return V(j,ke,Ee)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:m,render:j}},Le.isValidElement=ie,Le.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:he}},Le.memo=function(j,I){return{$$typeof:g,type:j,compare:I===void 0?null:I}},Le.startTransition=function(j){var I=P.T,W={};P.T=W;try{var se=j(),Ee=P.S;Ee!==null&&Ee(W,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(te,ve)}catch(ke){ve(ke)}finally{I!==null&&W.types!==null&&(I.types=W.types),P.T=I}},Le.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Le.use=function(j){return P.H.use(j)},Le.useActionState=function(j,I,W){return P.H.useActionState(j,I,W)},Le.useCallback=function(j,I){return P.H.useCallback(j,I)},Le.useContext=function(j){return P.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,I){return P.H.useDeferredValue(j,I)},Le.useEffect=function(j,I){return P.H.useEffect(j,I)},Le.useEffectEvent=function(j){return P.H.useEffectEvent(j)},Le.useId=function(){return P.H.useId()},Le.useImperativeHandle=function(j,I,W){return P.H.useImperativeHandle(j,I,W)},Le.useInsertionEffect=function(j,I){return P.H.useInsertionEffect(j,I)},Le.useLayoutEffect=function(j,I){return P.H.useLayoutEffect(j,I)},Le.useMemo=function(j,I){return P.H.useMemo(j,I)},Le.useOptimistic=function(j,I){return P.H.useOptimistic(j,I)},Le.useReducer=function(j,I,W){return P.H.useReducer(j,I,W)},Le.useRef=function(j){return P.H.useRef(j)},Le.useState=function(j){return P.H.useState(j)},Le.useSyncExternalStore=function(j,I,W){return P.H.useSyncExternalStore(j,I,W)},Le.useTransition=function(){return P.H.useTransition()},Le.version="19.2.0",Le}var Fg;function Gc(){return Fg||(Fg=1,fc.exports=Wy()),fc.exports}var _=Gc();const ev=Pr(_);var hc={exports:{}},us={},gc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function tv(){return Wg||(Wg=1,(function(l){function a(B,F){var he=B.length;B.push(F);e:for(;0<he;){var ve=he-1>>>1,Je=B[ve];if(0<u(Je,F))B[ve]=F,B[he]=Je,he=ve;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],he=B.pop();if(he!==F){B[0]=he;e:for(var ve=0,Je=B.length,j=Je>>>1;ve<j;){var I=2*(ve+1)-1,W=B[I],se=I+1,Ee=B[se];if(0>u(W,he))se<Je&&0>u(Ee,W)?(B[ve]=Ee,B[se]=he,ve=se):(B[ve]=W,B[I]=he,ve=I);else if(se<Je&&0>u(Ee,he))B[ve]=Ee,B[se]=he,ve=se;else break e}}return F}function u(B,F){var he=B.sortIndex-F.sortIndex;return he!==0?he:B.id-F.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();l.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,w=null,x=3,E=!1,N=!1,k=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function J(B){for(var F=s(g);F!==null;){if(F.callback===null)r(g);else if(F.startTime<=B)r(g),F.sortIndex=F.expirationTime,a(p,F);else break;F=s(g)}}function me(B){if(k=!1,J(B),!N)if(s(p)!==null)N=!0,te||(te=!0,ue());else{var F=s(g);F!==null&&He(me,F.startTime-B)}}var te=!1,P=-1,Me=5,V=-1;function oe(){return O?!0:!(l.unstable_now()-V<Me)}function ie(){if(O=!1,te){var B=l.unstable_now();V=B;var F=!0;try{e:{N=!1,k&&(k=!1,G(P),P=-1),E=!0;var he=x;try{t:{for(J(B),w=s(p);w!==null&&!(w.expirationTime>B&&oe());){var ve=w.callback;if(typeof ve=="function"){w.callback=null,x=w.priorityLevel;var Je=ve(w.expirationTime<=B);if(B=l.unstable_now(),typeof Je=="function"){w.callback=Je,J(B),F=!0;break t}w===s(p)&&r(p),J(B)}else r(p);w=s(p)}if(w!==null)F=!0;else{var j=s(g);j!==null&&He(me,j.startTime-B),F=!1}}break e}finally{w=null,x=he,E=!1}F=void 0}}finally{F?ue():te=!1}}}var ue;if(typeof C=="function")ue=function(){C(ie)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,gt=ze.port2;ze.port1.onmessage=ie,ue=function(){gt.postMessage(null)}}else ue=function(){R(ie,0)};function He(B,F){P=R(function(){B(l.unstable_now())},F)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(B){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var he=x;x=F;try{return B()}finally{x=he}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var he=x;x=B;try{return F()}finally{x=he}},l.unstable_scheduleCallback=function(B,F,he){var ve=l.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ve+he:ve):he=ve,B){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=he+Je,B={id:v++,callback:F,priorityLevel:B,startTime:he,expirationTime:Je,sortIndex:-1},he>ve?(B.sortIndex=he,a(g,B),s(p)===null&&B===s(g)&&(k?(G(P),P=-1):k=!0,He(me,he-ve))):(B.sortIndex=Je,a(p,B),N||E||(N=!0,te||(te=!0,ue()))),B},l.unstable_shouldYield=oe,l.unstable_wrapCallback=function(B){var F=x;return function(){var he=x;x=F;try{return B.apply(this,arguments)}finally{x=he}}}})(mc)),mc}var em;function nv(){return em||(em=1,gc.exports=tv()),gc.exports}var pc={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function av(){if(tm)return Wt;tm=1;var l=Gc();function a(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,g,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:p,containerInfo:g,implementation:v}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return c(p,g,null,v)},Wt.flushSync=function(p){var g=f.T,v=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=g,r.p=v,r.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:E}):v==="script"&&r.d.X(p,{crossOrigin:w,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,w=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},Wt.requestFormReset=function(p){r.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var nm;function Xm(){if(nm)return pc.exports;nm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),pc.exports=av(),pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var am;function iv(){if(am)return us;am=1;var l=nv(),a=Gc(),s=Xm();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return p(o),e;if(d===i)return p(o),t;d=d.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=d;else{for(var y=!1,b=o.child;b;){if(b===n){y=!0,n=o,i=d;break}if(b===i){y=!0,i=o,n=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===n){y=!0,n=d,i=o;break}if(b===i){y=!0,i=d,n=o;break}b=b.sibling}if(!y)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),C=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case me:return"Suspense";case te:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case C:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:gt(e.type)||"Memo";case Me:t=e._payload,e=e._init;try{return gt(e(t))}catch{}}return null}var He=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ve=[],Je=-1;function j(e){return{current:e}}function I(e){0>Je||(e.current=ve[Je],ve[Je]=null,Je--)}function W(e,t){Je++,ve[Je]=e.current,e.current=t}var se=j(null),Ee=j(null),ke=j(null),et=j(null);function ce(e,t){switch(W(ke,t),W(Ee,e),W(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=vg(t),e=bg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(se),W(se,e)}function de(){I(se),I(Ee),I(ke)}function Ye(e){e.memoizedState!==null&&W(et,e);var t=se.current,n=bg(t,e.type);t!==n&&(W(Ee,e),W(se,n))}function fe(e){Ee.current===e&&(I(se),I(Ee)),et.current===e&&(I(et),is._currentValue=he)}var Ce,qe;function ut(e){if(Ce===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ce=t&&t[1]||"",qe=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+e+qe}var Ze=!1;function at(e,t){if(!e||Ze)return"";Ze=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(z){var U=z}Reflect.construct(e,[],X)}else{try{X.call()}catch(z){U=z}e.call(X.prototype)}}else{try{throw Error()}catch(z){U=z}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(z){if(z&&U&&typeof z.stack=="string")return[z.stack,U.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var S=y.split(`
`),D=b.split(`
`);for(o=i=0;i<S.length&&!S[i].includes("DetermineComponentFrameRoot");)i++;for(;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;if(i===S.length||o===D.length)for(i=S.length-1,o=D.length-1;1<=i&&0<=o&&S[i]!==D[o];)o--;for(;1<=i&&0<=o;i--,o--)if(S[i]!==D[o]){if(i!==1||o!==1)do if(i--,o--,0>o||S[i]!==D[o]){var q=`
`+S[i].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=i&&0<=o);break}}}finally{Ze=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ut(n):""}function _t(e,t){switch(e.tag){case 26:case 27:case 5:return ut(e.type);case 16:return ut("Lazy");case 13:return e.child!==t&&t!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return ut("Activity");default:return""}}function H(e){try{var t="",n=null;do t+=_t(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var K=Object.prototype.hasOwnProperty,ee=l.unstable_scheduleCallback,Q=l.unstable_cancelCallback,Oe=l.unstable_shouldYield,xe=l.unstable_requestPaint,be=l.unstable_now,pe=l.unstable_getCurrentPriorityLevel,ae=l.unstable_ImmediatePriority,_e=l.unstable_UserBlockingPriority,ft=l.unstable_NormalPriority,Ot=l.unstable_LowPriority,ht=l.unstable_IdlePriority,lt=l.log,mt=l.unstable_setDisableYieldValue,Ae=null,we=null;function Ne(e){if(typeof lt=="function"&&mt(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Ae,e)}catch{}}var Ve=Math.clz32?Math.clz32:L,st=Math.log,$=Math.LN2;function L(e){return e>>>=0,e===0?32:31-(st(e)/$|0)|0}var Z=256,le=262144,ne=4194304;function re(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function De(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=i&134217727;return b!==0?(i=b&~d,i!==0?o=re(i):(y&=b,y!==0?o=re(y):n||(n=b&~e,n!==0&&(o=re(n))))):(b=i&~d,b!==0?o=re(b):y!==0?o=re(y):n||(n=i&~e,n!==0&&(o=re(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function $e(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ct(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var e=ne;return ne<<=1,(ne&62914560)===0&&(ne=4194304),e}function Nt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ue(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xe(e,t,n,i,o,d){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,D=e.hiddenUpdates;for(n=y&~n;0<n;){var q=31-Ve(n),X=1<<q;b[q]=0,S[q]=-1;var U=D[q];if(U!==null)for(D[q]=null,q=0;q<U.length;q++){var z=U[q];z!==null&&(z.lane&=-536870913)}n&=~X}i!==0&&Qe(e,i,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function Qe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ve(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ve(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Pe(e,t){var n=t&-t;return n=(n&42)!==0?1:Et(n),(n&(e.suspendedLanes|t))!==0?0:n}function Et(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ke(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tn(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Ig(e.type))}function ha(e,t){var n=F.p;try{return F.p=e,t()}finally{F.p=n}}var kn=Math.random().toString(36).slice(2),zt="__reactFiber$"+kn,nn="__reactProps$"+kn,mi="__reactContainer$"+kn,to="__reactEvents$"+kn,H0="__reactListeners$"+kn,q0="__reactHandles$"+kn,id="__reactResources$"+kn,bl="__reactMarker$"+kn;function no(e){delete e[zt],delete e[nn],delete e[to],delete e[H0],delete e[q0]}function pi(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tg(e);e!==null;){if(n=e[zt])return n;e=Tg(e)}return t}e=n,n=e.parentNode}return null}function yi(e){if(e=e[zt]||e[mi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function vi(e){var t=e[id];return t||(t=e[id]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xt(e){e[bl]=!0}var ld=new Set,sd={};function Ya(e,t){bi(e,t),bi(e+"Capture",t)}function bi(e,t){for(sd[e]=t,e=0;e<t.length;e++)ld.add(t[e])}var $0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},od={};function I0(e){return K.call(od,e)?!0:K.call(rd,e)?!1:$0.test(e)?od[e]=!0:(rd[e]=!0,!1)}function Es(e,t,n){if(I0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function js(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Xn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Y0(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){n=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(y){n=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){if(!e._valueTracker){var t=ud(e)?"checked":"value";e._valueTracker=Y0(e,t,""+e[t])}}function cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ud(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var G0=/[\n"\\]/g;function wn(e){return e.replace(G0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function io(e,t,n,i,o,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bn(t)):e.value!==""+bn(t)&&(e.value=""+bn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?lo(e,y,bn(t)):n!=null?lo(e,y,bn(n)):i!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+bn(b):e.removeAttribute("name")}function dd(e,t,n,i,o,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ao(e);return}n=n!=null?""+bn(n):"",t=t!=null?""+bn(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=b?e.checked:!!i,e.defaultChecked=!!i,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ao(e)}function lo(e,t,n){t==="number"&&Ts(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wi(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function fd(e,t,n){if(t!=null&&(t=""+bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bn(n):""}function hd(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(He(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=bn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),ao(e)}function xi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var V0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gd(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||V0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function md(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&gd(e,o,i)}else for(var d in t)t.hasOwnProperty(d)&&gd(e,d,t[d])}function so(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(e){return K0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var ro=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Si=null;function pd(e){var t=yi(e);if(t&&(e=t.stateNode)){var n=e[nn]||null;e:switch(e=t.stateNode,t.type){case"input":if(io(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[nn]||null;if(!o)throw Error(r(90));io(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&cd(i)}break e;case"textarea":fd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wi(e,!!n.multiple,t,!1)}}}var uo=!1;function yd(e,t,n){if(uo)return e(t,n);uo=!0;try{var i=e(t);return i}finally{if(uo=!1,(_i!==null||Si!==null)&&(gr(),_i&&(t=_i,e=Si,Si=_i=null,pd(t),e)))for(t=0;t<e.length;t++)pd(e[t])}}function xl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[nn]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=!1;if(Jn)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){co=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{co=!1}var ga=null,fo=null,As=null;function vd(){if(As)return As;var e,t=fo,n=t.length,i,o="value"in ga?ga.value:ga.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var y=n-e;for(i=1;i<=y&&t[n-i]===o[d-i];i++);return As=o.slice(e,1<i?1-i:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Os(){return!0}function bd(){return!1}function an(e){function t(n,i,o,d,y){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Os:bd,this.isPropagationStopped=bd,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=an(Ga),Sl=w({},Ga,{view:0,detail:0}),J0=an(Sl),ho,go,El,ks=w({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==El&&(El&&e.type==="mousemove"?(ho=e.screenX-El.screenX,go=e.screenY-El.screenY):go=ho=0,El=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:go}}),wd=an(ks),Z0=w({},ks,{dataTransfer:0}),Q0=an(Z0),P0=w({},Sl,{relatedTarget:0}),mo=an(P0),F0=w({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=an(F0),ep=w({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tp=an(ep),np=w({},Ga,{data:0}),xd=an(np),ap={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lp[e])?!!t[e]:!1}function po(){return sp}var rp=w({},Sl,{key:function(e){if(e.key){var t=ap[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),op=an(rp),up=w({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=an(up),cp=w({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),dp=an(cp),fp=w({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=an(fp),gp=w({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mp=an(gp),pp=w({},Ga,{newState:0,oldState:0}),yp=an(pp),vp=[9,13,27,32],yo=Jn&&"CompositionEvent"in window,jl=null;Jn&&"documentMode"in document&&(jl=document.documentMode);var bp=Jn&&"TextEvent"in window&&!jl,Sd=Jn&&(!yo||jl&&8<jl&&11>=jl),Ed=" ",jd=!1;function Td(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function wp(e,t){switch(e){case"compositionend":return Cd(t);case"keypress":return t.which!==32?null:(jd=!0,Ed);case"textInput":return e=t.data,e===Ed&&jd?null:e;default:return null}}function xp(e,t){if(Ei)return e==="compositionend"||!yo&&Td(e,t)?(e=vd(),As=fo=ga=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_p[e.type]:t==="textarea"}function Rd(e,t,n,i){_i?Si?Si.push(i):Si=[i]:_i=i,t=xr(t,"onChange"),0<t.length&&(n=new Ns("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Tl=null,Cl=null;function Sp(e){fg(e,0)}function Ms(e){var t=wl(e);if(cd(t))return e}function Od(e,t){if(e==="change")return t}var Nd=!1;if(Jn){var vo;if(Jn){var bo="oninput"in document;if(!bo){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),bo=typeof kd.oninput=="function"}vo=bo}else vo=!1;Nd=vo&&(!document.documentMode||9<document.documentMode)}function Md(){Tl&&(Tl.detachEvent("onpropertychange",Dd),Cl=Tl=null)}function Dd(e){if(e.propertyName==="value"&&Ms(Cl)){var t=[];Rd(t,Cl,e,oo(e)),yd(Sp,t)}}function Ep(e,t,n){e==="focusin"?(Md(),Tl=t,Cl=n,Tl.attachEvent("onpropertychange",Dd)):e==="focusout"&&Md()}function jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(Cl)}function Tp(e,t){if(e==="click")return Ms(t)}function Cp(e,t){if(e==="input"||e==="change")return Ms(t)}function Ap(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:Ap;function Al(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!K.call(t,o)||!dn(e[o],t[o]))return!1}return!0}function Ud(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zd(e,t){var n=Ud(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ud(n)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ts(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ts(e.document)}return t}function wo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Rp=Jn&&"documentMode"in document&&11>=document.documentMode,ji=null,xo=null,Rl=null,_o=!1;function Hd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_o||ji==null||ji!==Ts(i)||(i=ji,"selectionStart"in i&&wo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Rl&&Al(Rl,i)||(Rl=i,i=xr(xo,"onSelect"),0<i.length&&(t=new Ns("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ji)))}function Va(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ti={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},So={},qd={};Jn&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function Xa(e){if(So[e])return So[e];if(!Ti[e])return e;var t=Ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qd)return So[e]=t[n];return e}var $d=Xa("animationend"),Id=Xa("animationiteration"),Yd=Xa("animationstart"),Op=Xa("transitionrun"),Np=Xa("transitionstart"),kp=Xa("transitioncancel"),Gd=Xa("transitionend"),Vd=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function Mn(e,t){Vd.set(e,t),Ya(t,[e])}var Ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Ci=0,jo=0;function Us(){for(var e=Ci,t=jo=Ci=0;t<e;){var n=xn[t];xn[t++]=null;var i=xn[t];xn[t++]=null;var o=xn[t];xn[t++]=null;var d=xn[t];if(xn[t++]=null,i!==null&&o!==null){var y=i.pending;y===null?o.next=o:(o.next=y.next,y.next=o),i.pending=o}d!==0&&Xd(n,o,d)}}function zs(e,t,n,i){xn[Ci++]=e,xn[Ci++]=t,xn[Ci++]=n,xn[Ci++]=i,jo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function To(e,t,n,i){return zs(e,t,n,i),Ls(e)}function Ka(e,t){return zs(e,null,null,t),Ls(e)}function Xd(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,i=d.alternate,i!==null&&(i.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Ve(n),e=d.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),d):null}function Ls(e){if(50<Pl)throw Pl=0,Uu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ai={};function Mp(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,n,i){return new Mp(e,t,n,i)}function Co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,t){var n=e.alternate;return n===null?(n=fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Kd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bs(e,t,n,i,o,d){var y=0;if(i=e,typeof e=="function")Co(e)&&(y=1);else if(typeof e=="string")y=By(e,n,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=fn(31,n,t,o),e.elementType=V,e.lanes=d,e;case k:return Ja(n.children,o,d,t);case O:y=8,o|=24;break;case R:return e=fn(12,n,t,o|2),e.elementType=R,e.lanes=d,e;case me:return e=fn(13,n,t,o),e.elementType=me,e.lanes=d,e;case te:return e=fn(19,n,t,o),e.elementType=te,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:y=10;break e;case G:y=9;break e;case J:y=11;break e;case P:y=14;break e;case Me:y=16,i=null;break e}y=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=fn(y,n,t,o),t.elementType=e,t.type=i,t.lanes=d,t}function Ja(e,t,n,i){return e=fn(7,e,i,t),e.lanes=n,e}function Ao(e,t,n){return e=fn(6,e,null,t),e.lanes=n,e}function Jd(e){var t=fn(18,null,null,0);return t.stateNode=e,t}function Ro(e,t,n){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Zd=new WeakMap;function _n(e,t){if(typeof e=="object"&&e!==null){var n=Zd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:H(t)},Zd.set(e,t),t)}return{value:e,source:t,stack:H(t)}}var Ri=[],Oi=0,Hs=null,Ol=0,Sn=[],En=0,ma=null,Hn=1,qn="";function Qn(e,t){Ri[Oi++]=Ol,Ri[Oi++]=Hs,Hs=e,Ol=t}function Qd(e,t,n){Sn[En++]=Hn,Sn[En++]=qn,Sn[En++]=ma,ma=e;var i=Hn;e=qn;var o=32-Ve(i)-1;i&=~(1<<o),n+=1;var d=32-Ve(t)+o;if(30<d){var y=o-o%5;d=(i&(1<<y)-1).toString(32),i>>=y,o-=y,Hn=1<<32-Ve(t)+o|n<<o|i,qn=d+e}else Hn=1<<d|n<<o|i,qn=e}function Oo(e){e.return!==null&&(Qn(e,1),Qd(e,1,0))}function No(e){for(;e===Hs;)Hs=Ri[--Oi],Ri[Oi]=null,Ol=Ri[--Oi],Ri[Oi]=null;for(;e===ma;)ma=Sn[--En],Sn[En]=null,qn=Sn[--En],Sn[En]=null,Hn=Sn[--En],Sn[En]=null}function Pd(e,t){Sn[En++]=Hn,Sn[En++]=qn,Sn[En++]=ma,Hn=t.id,qn=t.overflow,ma=e}var Zt=null,Tt=null,it=!1,pa=null,jn=!1,ko=Error(r(519));function ya(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(_n(t,e)),ko}function Fd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[zt]=e,t[nn]=i,n){case"dialog":We("cancel",t),We("close",t);break;case"iframe":case"object":case"embed":We("load",t);break;case"video":case"audio":for(n=0;n<Wl.length;n++)We(Wl[n],t);break;case"source":We("error",t);break;case"img":case"image":case"link":We("error",t),We("load",t);break;case"details":We("toggle",t);break;case"input":We("invalid",t),dd(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":We("invalid",t);break;case"textarea":We("invalid",t),hd(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||pg(t.textContent,n)?(i.popover!=null&&(We("beforetoggle",t),We("toggle",t)),i.onScroll!=null&&We("scroll",t),i.onScrollEnd!=null&&We("scrollend",t),i.onClick!=null&&(t.onclick=Kn),t=!0):t=!1,t||ya(e,!0)}function Wd(e){for(Zt=e.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Zt=Zt.return}}function Ni(e){if(e!==Zt)return!1;if(!it)return Wd(e),it=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Qu(e.type,e.memoizedProps)),n=!n),n&&Tt&&ya(e),Wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Tt=jg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Tt=jg(e)}else t===27?(t=Tt,Na(e.type)?(e=tc,tc=null,Tt=e):Tt=t):Tt=Zt?Cn(e.stateNode.nextSibling):null;return!0}function Za(){Tt=Zt=null,it=!1}function Mo(){var e=pa;return e!==null&&(on===null?on=e:on.push.apply(on,e),pa=null),e}function Nl(e){pa===null?pa=[e]:pa.push(e)}var Do=j(null),Qa=null,Pn=null;function va(e,t,n){W(Do,t._currentValue),t._currentValue=n}function Fn(e){e._currentValue=Do.current,I(Do)}function Uo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zo(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var y=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){d.lanes|=n,b=d.alternate,b!==null&&(b.lanes|=n),Uo(d.return,n,e),i||(y=null);break e}d=b.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(r(341));y.lanes|=n,d=y.alternate,d!==null&&(d.lanes|=n),Uo(y,n,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function ki(e,t,n,i){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=o.type;dn(o.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(o===et.current){if(y=o.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(is):e=[is])}o=o.return}e!==null&&zo(t,e,n,i),t.flags|=262144}function qs(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Qa=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return ef(Qa,e)}function $s(e,t){return Qa===null&&Pa(e),ef(e,t)}function ef(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pn===null){if(e===null)throw Error(r(308));Pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pn=Pn.next=t;return n}var Dp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Up=l.unstable_scheduleCallback,zp=l.unstable_NormalPriority,Lt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lo(){return{controller:new Dp,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&Up(zp,function(){e.controller.abort()})}var Ml=null,Bo=0,Mi=0,Di=null;function Lp(e,t){if(Ml===null){var n=Ml=[];Bo=0,Mi=$u(),Di={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Bo++,t.then(tf,tf),t}function tf(){if(--Bo===0&&Ml!==null){Di!==null&&(Di.status="fulfilled");var e=Ml;Ml=null,Mi=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bp(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var nf=B.S;B.S=function(e,t){qh=be(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lp(e,t),nf!==null&&nf(e,t)};var Fa=j(null);function Ho(){var e=Fa.current;return e!==null?e:St.pooledCache}function Is(e,t){t===null?W(Fa,Fa.current):W(Fa,t.pool)}function af(){var e=Ho();return e===null?null:{parent:Lt._currentValue,pool:e}}var Ui=Error(r(460)),qo=Error(r(474)),Ys=Error(r(542)),Gs={then:function(){}};function lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Kn,Kn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,of(e),e;default:if(typeof t.status=="string")t.then(Kn,Kn);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,of(e),e}throw ei=t,Ui}}function Wa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ei=n,Ui):n}}var ei=null;function rf(){if(ei===null)throw Error(r(459));var e=ei;return ei=null,e}function of(e){if(e===Ui||e===Ys)throw Error(r(483))}var zi=null,Dl=0;function Vs(e){var t=Dl;return Dl+=1,zi===null&&(zi=[]),sf(zi,e,t)}function Ul(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xs(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function uf(e){function t(A,T){if(e){var M=A.deletions;M===null?(A.deletions=[T],A.flags|=16):M.push(T)}}function n(A,T){if(!e)return null;for(;T!==null;)t(A,T),T=T.sibling;return null}function i(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function o(A,T){return A=Zn(A,T),A.index=0,A.sibling=null,A}function d(A,T,M){return A.index=M,e?(M=A.alternate,M!==null?(M=M.index,M<T?(A.flags|=67108866,T):M):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function y(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function b(A,T,M,Y){return T===null||T.tag!==6?(T=Ao(M,A.mode,Y),T.return=A,T):(T=o(T,M),T.return=A,T)}function S(A,T,M,Y){var Se=M.type;return Se===k?q(A,T,M.props.children,Y,M.key):T!==null&&(T.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Me&&Wa(Se)===T.type)?(T=o(T,M.props),Ul(T,M),T.return=A,T):(T=Bs(M.type,M.key,M.props,null,A.mode,Y),Ul(T,M),T.return=A,T)}function D(A,T,M,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==M.containerInfo||T.stateNode.implementation!==M.implementation?(T=Ro(M,A.mode,Y),T.return=A,T):(T=o(T,M.children||[]),T.return=A,T)}function q(A,T,M,Y,Se){return T===null||T.tag!==7?(T=Ja(M,A.mode,Y,Se),T.return=A,T):(T=o(T,M),T.return=A,T)}function X(A,T,M){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Ao(""+T,A.mode,M),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return M=Bs(T.type,T.key,T.props,null,A.mode,M),Ul(M,T),M.return=A,M;case N:return T=Ro(T,A.mode,M),T.return=A,T;case Me:return T=Wa(T),X(A,T,M)}if(He(T)||ue(T))return T=Ja(T,A.mode,M,null),T.return=A,T;if(typeof T.then=="function")return X(A,Vs(T),M);if(T.$$typeof===C)return X(A,$s(A,T),M);Xs(A,T)}return null}function U(A,T,M,Y){var Se=T!==null?T.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return Se!==null?null:b(A,T,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return M.key===Se?S(A,T,M,Y):null;case N:return M.key===Se?D(A,T,M,Y):null;case Me:return M=Wa(M),U(A,T,M,Y)}if(He(M)||ue(M))return Se!==null?null:q(A,T,M,Y,null);if(typeof M.then=="function")return U(A,T,Vs(M),Y);if(M.$$typeof===C)return U(A,T,$s(A,M),Y);Xs(A,M)}return null}function z(A,T,M,Y,Se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return A=A.get(M)||null,b(T,A,""+Y,Se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return A=A.get(Y.key===null?M:Y.key)||null,S(T,A,Y,Se);case N:return A=A.get(Y.key===null?M:Y.key)||null,D(T,A,Y,Se);case Me:return Y=Wa(Y),z(A,T,M,Y,Se)}if(He(Y)||ue(Y))return A=A.get(M)||null,q(T,A,Y,Se,null);if(typeof Y.then=="function")return z(A,T,M,Vs(Y),Se);if(Y.$$typeof===C)return z(A,T,M,$s(T,Y),Se);Xs(T,Y)}return null}function ge(A,T,M,Y){for(var Se=null,rt=null,ye=T,Ge=T=0,nt=null;ye!==null&&Ge<M.length;Ge++){ye.index>Ge?(nt=ye,ye=null):nt=ye.sibling;var ot=U(A,ye,M[Ge],Y);if(ot===null){ye===null&&(ye=nt);break}e&&ye&&ot.alternate===null&&t(A,ye),T=d(ot,T,Ge),rt===null?Se=ot:rt.sibling=ot,rt=ot,ye=nt}if(Ge===M.length)return n(A,ye),it&&Qn(A,Ge),Se;if(ye===null){for(;Ge<M.length;Ge++)ye=X(A,M[Ge],Y),ye!==null&&(T=d(ye,T,Ge),rt===null?Se=ye:rt.sibling=ye,rt=ye);return it&&Qn(A,Ge),Se}for(ye=i(ye);Ge<M.length;Ge++)nt=z(ye,A,Ge,M[Ge],Y),nt!==null&&(e&&nt.alternate!==null&&ye.delete(nt.key===null?Ge:nt.key),T=d(nt,T,Ge),rt===null?Se=nt:rt.sibling=nt,rt=nt);return e&&ye.forEach(function(za){return t(A,za)}),it&&Qn(A,Ge),Se}function Re(A,T,M,Y){if(M==null)throw Error(r(151));for(var Se=null,rt=null,ye=T,Ge=T=0,nt=null,ot=M.next();ye!==null&&!ot.done;Ge++,ot=M.next()){ye.index>Ge?(nt=ye,ye=null):nt=ye.sibling;var za=U(A,ye,ot.value,Y);if(za===null){ye===null&&(ye=nt);break}e&&ye&&za.alternate===null&&t(A,ye),T=d(za,T,Ge),rt===null?Se=za:rt.sibling=za,rt=za,ye=nt}if(ot.done)return n(A,ye),it&&Qn(A,Ge),Se;if(ye===null){for(;!ot.done;Ge++,ot=M.next())ot=X(A,ot.value,Y),ot!==null&&(T=d(ot,T,Ge),rt===null?Se=ot:rt.sibling=ot,rt=ot);return it&&Qn(A,Ge),Se}for(ye=i(ye);!ot.done;Ge++,ot=M.next())ot=z(ye,A,Ge,ot.value,Y),ot!==null&&(e&&ot.alternate!==null&&ye.delete(ot.key===null?Ge:ot.key),T=d(ot,T,Ge),rt===null?Se=ot:rt.sibling=ot,rt=ot);return e&&ye.forEach(function(Zy){return t(A,Zy)}),it&&Qn(A,Ge),Se}function xt(A,T,M,Y){if(typeof M=="object"&&M!==null&&M.type===k&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case E:e:{for(var Se=M.key;T!==null;){if(T.key===Se){if(Se=M.type,Se===k){if(T.tag===7){n(A,T.sibling),Y=o(T,M.props.children),Y.return=A,A=Y;break e}}else if(T.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Me&&Wa(Se)===T.type){n(A,T.sibling),Y=o(T,M.props),Ul(Y,M),Y.return=A,A=Y;break e}n(A,T);break}else t(A,T);T=T.sibling}M.type===k?(Y=Ja(M.props.children,A.mode,Y,M.key),Y.return=A,A=Y):(Y=Bs(M.type,M.key,M.props,null,A.mode,Y),Ul(Y,M),Y.return=A,A=Y)}return y(A);case N:e:{for(Se=M.key;T!==null;){if(T.key===Se)if(T.tag===4&&T.stateNode.containerInfo===M.containerInfo&&T.stateNode.implementation===M.implementation){n(A,T.sibling),Y=o(T,M.children||[]),Y.return=A,A=Y;break e}else{n(A,T);break}else t(A,T);T=T.sibling}Y=Ro(M,A.mode,Y),Y.return=A,A=Y}return y(A);case Me:return M=Wa(M),xt(A,T,M,Y)}if(He(M))return ge(A,T,M,Y);if(ue(M)){if(Se=ue(M),typeof Se!="function")throw Error(r(150));return M=Se.call(M),Re(A,T,M,Y)}if(typeof M.then=="function")return xt(A,T,Vs(M),Y);if(M.$$typeof===C)return xt(A,T,$s(A,M),Y);Xs(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,T!==null&&T.tag===6?(n(A,T.sibling),Y=o(T,M),Y.return=A,A=Y):(n(A,T),Y=Ao(M,A.mode,Y),Y.return=A,A=Y),y(A)):n(A,T)}return function(A,T,M,Y){try{Dl=0;var Se=xt(A,T,M,Y);return zi=null,Se}catch(ye){if(ye===Ui||ye===Ys)throw ye;var rt=fn(29,ye,null,A.mode);return rt.lanes=Y,rt.return=A,rt}finally{}}}var ti=uf(!0),cf=uf(!1),ba=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(dt&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=Ls(e),Xd(e,null,n),t}return zs(e,i,t,n),Ls(e)}function zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,pt(e,n)}}function Yo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=y:d=d.next=y,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Go=!1;function Ll(){if(Go){var e=Di;if(e!==null)throw e}}function Bl(e,t,n,i){Go=!1;var o=e.updateQueue;ba=!1;var d=o.firstBaseUpdate,y=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,D=S.next;S.next=null,y===null?d=D:y.next=D,y=S;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==y&&(b===null?q.firstBaseUpdate=D:b.next=D,q.lastBaseUpdate=S))}if(d!==null){var X=o.baseState;y=0,q=D=S=null,b=d;do{var U=b.lane&-536870913,z=U!==b.lane;if(z?(tt&U)===U:(i&U)===U){U!==0&&U===Mi&&(Go=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=e,Re=b;U=t;var xt=n;switch(Re.tag){case 1:if(ge=Re.payload,typeof ge=="function"){X=ge.call(xt,X,U);break e}X=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Re.payload,U=typeof ge=="function"?ge.call(xt,X,U):ge,U==null)break e;X=w({},X,U);break e;case 2:ba=!0}}U=b.callback,U!==null&&(e.flags|=64,z&&(e.flags|=8192),z=o.callbacks,z===null?o.callbacks=[U]:z.push(U))}else z={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(D=q=z,S=X):q=q.next=z,y|=U;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;z=b,b=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);q===null&&(S=X),o.baseState=S,o.firstBaseUpdate=D,o.lastBaseUpdate=q,d===null&&(o.shared.lanes=0),Ta|=y,e.lanes=y,e.memoizedState=X}}function df(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function ff(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)df(n[e],t)}var Li=j(null),Ks=j(0);function hf(e,t){e=ra,W(Ks,e),W(Li,t),ra=e|t.baseLanes}function Vo(){W(Ks,ra),W(Li,Li.current)}function Xo(){ra=Ks.current,I(Li),I(Ks)}var hn=j(null),Tn=null;function _a(e){var t=e.alternate;W(Dt,Dt.current&1),W(hn,e),Tn===null&&(t===null||Li.current!==null||t.memoizedState!==null)&&(Tn=e)}function Ko(e){W(Dt,Dt.current),W(hn,e),Tn===null&&(Tn=e)}function gf(e){e.tag===22?(W(Dt,Dt.current),W(hn,e),Tn===null&&(Tn=e)):Sa()}function Sa(){W(Dt,Dt.current),W(hn,hn.current)}function gn(e){I(hn),Tn===e&&(Tn=null),I(Dt)}var Dt=j(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Wu(n)||ec(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wn=0,Ie=null,bt=null,Bt=null,Zs=!1,Bi=!1,ni=!1,Qs=0,Hl=0,Hi=null,Hp=0;function kt(){throw Error(r(321))}function Jo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function Zo(e,t,n,i,o,d){return Wn=d,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Pf:cu,ni=!1,d=n(i,o),ni=!1,Bi&&(d=pf(t,n,i,o)),mf(e),d}function mf(e){B.H=Il;var t=bt!==null&&bt.next!==null;if(Wn=0,Bt=bt=Ie=null,Zs=!1,Hl=0,Hi=null,t)throw Error(r(300));e===null||Ht||(e=e.dependencies,e!==null&&qs(e)&&(Ht=!0))}function pf(e,t,n,i){Ie=e;var o=0;do{if(Bi&&(Hi=null),Hl=0,Bi=!1,25<=o)throw Error(r(301));if(o+=1,Bt=bt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=Ff,d=t(n,i)}while(Bi);return d}function qp(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?ql(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(Ie.flags|=1024),t}function Qo(){var e=Qs!==0;return Qs=0,e}function Po(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fo(e){if(Zs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zs=!1}Wn=0,Bt=bt=Ie=null,Bi=!1,Hl=Qs=0,Hi=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Ie.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Ut(){if(bt===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Bt===null?Ie.memoizedState:Bt.next;if(t!==null)Bt=t,bt=e;else{if(e===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Bt===null?Ie.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(e){var t=Hl;return Hl+=1,Hi===null&&(Hi=[]),e=sf(Hi,e,t),t=Ie,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Pf:cu),e}function Fs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===C)return Qt(e)}throw Error(r(438,String(e)))}function Wo(e){var t=null,n=Ie.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Ie.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ps(),Ie.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=oe;return t.index++,n}function ea(e,t){return typeof t=="function"?t(e):t}function Ws(e){var t=Ut();return eu(t,bt,e)}function eu(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var o=e.baseQueue,d=i.pending;if(d!==null){if(o!==null){var y=o.next;o.next=d.next,d.next=y}t.baseQueue=o=d,i.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=y=null,S=null,D=t,q=!1;do{var X=D.lane&-536870913;if(X!==D.lane?(tt&X)===X:(Wn&X)===X){var U=D.revertLane;if(U===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),X===Mi&&(q=!0);else if((Wn&U)===U){D=D.next,U===Mi&&(q=!0);continue}else X={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},S===null?(b=S=X,y=d):S=S.next=X,Ie.lanes|=U,Ta|=U;X=D.action,ni&&n(d,X),d=D.hasEagerState?D.eagerState:n(d,X)}else U={lane:X,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},S===null?(b=S=U,y=d):S=S.next=U,Ie.lanes|=X,Ta|=X;D=D.next}while(D!==null&&D!==t);if(S===null?y=d:S.next=b,!dn(d,e.memoizedState)&&(Ht=!0,q&&(n=Di,n!==null)))throw n;e.memoizedState=d,e.baseState=y,e.baseQueue=S,i.lastRenderedState=d}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function tu(e){var t=Ut(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var y=o=o.next;do d=e(d,y.action),y=y.next;while(y!==o);dn(d,t.memoizedState)||(Ht=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,i]}function yf(e,t,n){var i=Ie,o=Ut(),d=it;if(d){if(n===void 0)throw Error(r(407));n=n()}else n=t();var y=!dn((bt||o).memoizedState,n);if(y&&(o.memoizedState=n,Ht=!0),o=o.queue,iu(wf.bind(null,i,o,e),[e]),o.getSnapshot!==t||y||Bt!==null&&Bt.memoizedState.tag&1){if(i.flags|=2048,qi(9,{destroy:void 0},bf.bind(null,i,o,n,t),null),St===null)throw Error(r(349));d||(Wn&127)!==0||vf(i,t,n)}return n}function vf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t=Ps(),Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function bf(e,t,n,i){t.value=n,t.getSnapshot=i,xf(t)&&_f(e)}function wf(e,t,n){return n(function(){xf(t)&&_f(e)})}function xf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function _f(e){var t=Ka(e,2);t!==null&&un(t,e,2)}function nu(e){var t=en();if(typeof e=="function"){var n=e;if(e=n(),ni){Ne(!0);try{n()}finally{Ne(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t}function Sf(e,t,n,i){return e.baseState=n,eu(e,bt,typeof i=="function"?i:ea)}function $p(e,t,n,i,o){if(nr(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};B.T!==null?n(!0):d.isTransition=!1,i(d),n=t.pending,n===null?(d.next=t.pending=d,Ef(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Ef(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var d=B.T,y={};B.T=y;try{var b=n(o,i),S=B.S;S!==null&&S(y,b),jf(e,t,b)}catch(D){au(e,t,D)}finally{d!==null&&y.types!==null&&(d.types=y.types),B.T=d}}else try{d=n(o,i),jf(e,t,d)}catch(D){au(e,t,D)}}function jf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Tf(e,t,i)},function(i){return au(e,t,i)}):Tf(e,t,n)}function Tf(e,t,n){t.status="fulfilled",t.value=n,Cf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ef(e,n)))}function au(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Cf(t),t=t.next;while(t!==i)}e.action=null}function Cf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Af(e,t){return t}function Rf(e,t){if(it){var n=St.formState;if(n!==null){e:{var i=Ie;if(it){if(Tt){t:{for(var o=Tt,d=jn;o.nodeType!==8;){if(!d){o=null;break t}if(o=Cn(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Tt=Cn(o.nextSibling),i=o.data==="F!";break e}}ya(i)}i=!1}i&&(t=n[0])}}return n=en(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:t},n.queue=i,n=Jf.bind(null,Ie,i),i.dispatch=n,i=nu(!1),d=uu.bind(null,Ie,!1,i.queue),i=en(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=$p.bind(null,Ie,o,d,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Of(e){var t=Ut();return Nf(t,bt,e)}function Nf(e,t,n){if(t=eu(e,t,Af)[0],e=Ws(ea)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ql(t)}catch(y){throw y===Ui?Ys:y}else i=t;t=Ut();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(Ie.flags|=2048,qi(9,{destroy:void 0},Ip.bind(null,o,n),null)),[i,d,e]}function Ip(e,t){e.action=t}function kf(e){var t=Ut(),n=bt;if(n!==null)return Nf(t,n,e);Ut(),t=t.memoizedState,n=Ut();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function qi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Ie.updateQueue,t===null&&(t=Ps(),Ie.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Mf(){return Ut().memoizedState}function er(e,t,n,i){var o=en();Ie.flags|=e,o.memoizedState=qi(1|t,{destroy:void 0},n,i===void 0?null:i)}function tr(e,t,n,i){var o=Ut();i=i===void 0?null:i;var d=o.memoizedState.inst;bt!==null&&i!==null&&Jo(i,bt.memoizedState.deps)?o.memoizedState=qi(t,d,n,i):(Ie.flags|=e,o.memoizedState=qi(1|t,d,n,i))}function Df(e,t){er(8390656,8,e,t)}function iu(e,t){tr(2048,8,e,t)}function Yp(e){Ie.flags|=4;var t=Ie.updateQueue;if(t===null)t=Ps(),Ie.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Uf(e){var t=Ut().memoizedState;return Yp({ref:t,nextImpl:e}),function(){if((dt&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function zf(e,t){return tr(4,2,e,t)}function Lf(e,t){return tr(4,4,e,t)}function Bf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hf(e,t,n){n=n!=null?n.concat([e]):null,tr(4,4,Bf.bind(null,t,e),n)}function lu(){}function qf(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Jo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function $f(e,t){var n=Ut();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Jo(t,i[1]))return i[0];if(i=e(),ni){Ne(!0);try{e()}finally{Ne(!1)}}return n.memoizedState=[i,t],i}function su(e,t,n){return n===void 0||(Wn&1073741824)!==0&&(tt&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Ih(),Ie.lanes|=e,Ta|=e,n)}function If(e,t,n,i){return dn(n,t)?n:Li.current!==null?(e=su(e,n,i),dn(e,t)||(Ht=!0),e):(Wn&42)===0||(Wn&1073741824)!==0&&(tt&261930)===0?(Ht=!0,e.memoizedState=n):(e=Ih(),Ie.lanes|=e,Ta|=e,t)}function Yf(e,t,n,i,o){var d=F.p;F.p=d!==0&&8>d?d:8;var y=B.T,b={};B.T=b,uu(e,!1,t,n);try{var S=o(),D=B.S;if(D!==null&&D(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=Bp(S,i);$l(e,t,q,yn(e))}else $l(e,t,i,yn(e))}catch(X){$l(e,t,{then:function(){},status:"rejected",reason:X},yn())}finally{F.p=d,y!==null&&b.types!==null&&(y.types=b.types),B.T=y}}function Gp(){}function ru(e,t,n,i){if(e.tag!==5)throw Error(r(476));var o=Gf(e).queue;Yf(e,o,t,he,n===null?Gp:function(){return Vf(e),n(i)})}function Gf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:he},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Vf(e){var t=Gf(e);t.next===null&&(t=e.alternate.memoizedState),$l(e,t.next.queue,{},yn())}function ou(){return Qt(is)}function Xf(){return Ut().memoizedState}function Kf(){return Ut().memoizedState}function Vp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=yn();e=wa(n);var i=xa(t,e,n);i!==null&&(un(i,t,n),zl(i,t,n)),t={cache:Lo()},e.payload=t;return}t=t.return}}function Xp(e,t,n){var i=yn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},nr(e)?Zf(t,n):(n=To(e,t,n,i),n!==null&&(un(n,e,i),Qf(n,t,i)))}function Jf(e,t,n){var i=yn();$l(e,t,n,i)}function $l(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(nr(e))Zf(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,b=d(y,n);if(o.hasEagerState=!0,o.eagerState=b,dn(b,y))return zs(e,t,o,0),St===null&&Us(),!1}catch{}finally{}if(n=To(e,t,o,i),n!==null)return un(n,e,i),Qf(n,t,i),!0}return!1}function uu(e,t,n,i){if(i={lane:2,revertLane:$u(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},nr(e)){if(t)throw Error(r(479))}else t=To(e,n,i,2),t!==null&&un(t,e,2)}function nr(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function Zf(e,t){Bi=Zs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,pt(e,n)}}var Il={readContext:Qt,use:Fs,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Il.useEffectEvent=kt;var Pf={readContext:Qt,use:Fs,useCallback:function(e,t){return en().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:Df,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,er(4194308,4,Bf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return er(4194308,4,e,t)},useInsertionEffect:function(e,t){er(4,2,e,t)},useMemo:function(e,t){var n=en();t=t===void 0?null:t;var i=e();if(ni){Ne(!0);try{e()}finally{Ne(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=en();if(n!==void 0){var o=n(t);if(ni){Ne(!0);try{n(t)}finally{Ne(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Xp.bind(null,Ie,e),[i.memoizedState,e]},useRef:function(e){var t=en();return e={current:e},t.memoizedState=e},useState:function(e){e=nu(e);var t=e.queue,n=Jf.bind(null,Ie,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:lu,useDeferredValue:function(e,t){var n=en();return su(n,e,t)},useTransition:function(){var e=nu(!1);return e=Yf.bind(null,Ie,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Ie,o=en();if(it){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),St===null)throw Error(r(349));(tt&127)!==0||vf(i,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,Df(wf.bind(null,i,d,e),[e]),i.flags|=2048,qi(9,{destroy:void 0},bf.bind(null,i,d,n,t),null),n},useId:function(){var e=en(),t=St.identifierPrefix;if(it){var n=qn,i=Hn;n=(i&~(1<<32-Ve(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Qs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Hp++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:Rf,useActionState:Rf,useOptimistic:function(e){var t=en();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uu.bind(null,Ie,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wo,useCacheRefresh:function(){return en().memoizedState=Vp.bind(null,Ie)},useEffectEvent:function(e){var t=en(),n={impl:e};return t.memoizedState=n,function(){if((dt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},cu={readContext:Qt,use:Fs,useCallback:qf,useContext:Qt,useEffect:iu,useImperativeHandle:Hf,useInsertionEffect:zf,useLayoutEffect:Lf,useMemo:$f,useReducer:Ws,useRef:Mf,useState:function(){return Ws(ea)},useDebugValue:lu,useDeferredValue:function(e,t){var n=Ut();return If(n,bt.memoizedState,e,t)},useTransition:function(){var e=Ws(ea)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:yf,useId:Xf,useHostTransitionStatus:ou,useFormState:Of,useActionState:Of,useOptimistic:function(e,t){var n=Ut();return Sf(n,bt,e,t)},useMemoCache:Wo,useCacheRefresh:Kf};cu.useEffectEvent=Uf;var Ff={readContext:Qt,use:Fs,useCallback:qf,useContext:Qt,useEffect:iu,useImperativeHandle:Hf,useInsertionEffect:zf,useLayoutEffect:Lf,useMemo:$f,useReducer:tu,useRef:Mf,useState:function(){return tu(ea)},useDebugValue:lu,useDeferredValue:function(e,t){var n=Ut();return bt===null?su(n,e,t):If(n,bt.memoizedState,e,t)},useTransition:function(){var e=tu(ea)[0],t=Ut().memoizedState;return[typeof e=="boolean"?e:ql(e),t]},useSyncExternalStore:yf,useId:Xf,useHostTransitionStatus:ou,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var n=Ut();return bt!==null?Sf(n,bt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:Kf};Ff.useEffectEvent=Uf;function du(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=yn(),o=wa(i);o.payload=t,n!=null&&(o.callback=n),t=xa(e,o,i),t!==null&&(un(t,e,i),zl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=yn(),o=wa(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=xa(e,o,i),t!==null&&(un(t,e,i),zl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yn(),i=wa(n);i.tag=2,t!=null&&(i.callback=t),t=xa(e,i,n),t!==null&&(un(t,e,n),zl(t,e,n))}};function Wf(e,t,n,i,o,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,y):t.prototype&&t.prototype.isPureReactComponent?!Al(n,i)||!Al(o,d):!0}function eh(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&fu.enqueueReplaceState(t,t.state,null)}function ai(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function th(e){Ds(e)}function nh(e){console.error(e)}function ah(e){Ds(e)}function ar(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function ih(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function hu(e,t,n){return n=wa(n),n.tag=3,n.payload={element:null},n.callback=function(){ar(e,t)},n}function lh(e){return e=wa(e),e.tag=3,e}function sh(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=i.value;e.payload=function(){return o(d)},e.callback=function(){ih(t,n,i)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,i),typeof o!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})})}function Kp(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ki(t,n,o,!0),n=hn.current,n!==null){switch(n.tag){case 31:case 13:return Tn===null?mr():n.alternate===null&&Mt===0&&(Mt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Gs?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Bu(e,i,o)),!1;case 22:return n.flags|=65536,i===Gs?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Bu(e,i,o)),!1}throw Error(r(435,n.tag))}return Bu(e,i,o),mr(),!1}if(it)return t=hn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==ko&&(e=Error(r(422),{cause:i}),Nl(_n(e,n)))):(i!==ko&&(t=Error(r(423),{cause:i}),Nl(_n(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=_n(i,n),o=hu(e.stateNode,i,o),Yo(e,o),Mt!==4&&(Mt=2)),!1;var d=Error(r(520),{cause:i});if(d=_n(d,n),Ql===null?Ql=[d]:Ql.push(d),Mt!==4&&(Mt=2),t===null)return!0;i=_n(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=hu(n.stateNode,i,e),Yo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ca===null||!Ca.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=lh(o),sh(o,e,n,i),Yo(n,o),!1}n=n.return}while(n!==null);return!1}var gu=Error(r(461)),Ht=!1;function Pt(e,t,n,i){t.child=e===null?cf(t,null,n,i):ti(t,e.child,n,i)}function rh(e,t,n,i,o){n=n.render;var d=t.ref;if("ref"in i){var y={};for(var b in i)b!=="ref"&&(y[b]=i[b])}else y=i;return Pa(t),i=Zo(e,t,n,y,d,o),b=Qo(),e!==null&&!Ht?(Po(e,t,o),ta(e,t,o)):(it&&b&&Oo(t),t.flags|=1,Pt(e,t,i,o),t.child)}function oh(e,t,n,i,o){if(e===null){var d=n.type;return typeof d=="function"&&!Co(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,uh(e,t,d,i,o)):(e=Bs(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!_u(e,o)){var y=d.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(y,i)&&e.ref===t.ref)return ta(e,t,o)}return t.flags|=1,e=Zn(d,i),e.ref=t.ref,e.return=t,t.child=e}function uh(e,t,n,i,o){if(e!==null){var d=e.memoizedProps;if(Al(d,i)&&e.ref===t.ref)if(Ht=!1,t.pendingProps=i=d,_u(e,o))(e.flags&131072)!==0&&(Ht=!0);else return t.lanes=e.lanes,ta(e,t,o)}return mu(e,t,n,i,o)}function ch(e,t,n,i){var o=i.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~d}else i=0,t.child=null;return dh(e,t,d,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Is(t,d!==null?d.cachePool:null),d!==null?hf(t,d):Vo(),gf(t);else return i=t.lanes=536870912,dh(e,t,d!==null?d.baseLanes|n:n,n,i)}else d!==null?(Is(t,d.cachePool),hf(t,d),Sa(),t.memoizedState=null):(e!==null&&Is(t,null),Vo(),Sa());return Pt(e,t,o,n),t.child}function Yl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,i,o){var d=Ho();return d=d===null?null:{parent:Lt._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&Is(t,null),Vo(),gf(t),e!==null&&ki(e,t,i,!0),t.childLanes=o,null}function ir(e,t){return t=sr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fh(e,t,n){return ti(t,e.child,null,n),e=ir(t,t.pendingProps),e.flags|=2,gn(t),t.memoizedState=null,e}function Jp(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(it){if(i.mode==="hidden")return e=ir(t,i),t.lanes=536870912,Yl(null,e);if(Ko(t),(e=Tt)?(e=Eg(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:Hn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},n=Jd(e),n.return=t,t.child=n,Zt=t,Tt=null)):e=null,e===null)throw ya(t);return t.lanes=536870912,null}return ir(t,i)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Ko(t),o)if(t.flags&256)t.flags&=-257,t=fh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Ht||ki(e,t,n,!1),o=(n&e.childLanes)!==0,Ht||o){if(i=St,i!==null&&(y=Pe(i,n),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ka(e,y),un(i,e,y),gu;mr(),t=fh(e,t,n)}else e=d.treeContext,Tt=Cn(y.nextSibling),Zt=t,it=!0,pa=null,jn=!1,e!==null&&Pd(t,e),t=ir(t,i),t.flags|=4096;return t}return e=Zn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function mu(e,t,n,i,o){return Pa(t),n=Zo(e,t,n,i,void 0,o),i=Qo(),e!==null&&!Ht?(Po(e,t,o),ta(e,t,o)):(it&&i&&Oo(t),t.flags|=1,Pt(e,t,n,o),t.child)}function hh(e,t,n,i,o,d){return Pa(t),t.updateQueue=null,n=pf(t,i,n,o),mf(e),i=Qo(),e!==null&&!Ht?(Po(e,t,d),ta(e,t,d)):(it&&i&&Oo(t),t.flags|=1,Pt(e,t,n,d),t.child)}function gh(e,t,n,i,o){if(Pa(t),t.stateNode===null){var d=Ai,y=n.contextType;typeof y=="object"&&y!==null&&(d=Qt(y)),d=new n(i,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=i,d.state=t.memoizedState,d.refs={},$o(t),y=n.contextType,d.context=typeof y=="object"&&y!==null?Qt(y):Ai,d.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(du(t,n,y,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&fu.enqueueReplaceState(d,d.state,null),Bl(t,i,d,o),Ll(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,S=ai(n,b);d.props=S;var D=d.context,q=n.contextType;y=Ai,typeof q=="object"&&q!==null&&(y=Qt(q));var X=n.getDerivedStateFromProps;q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||D!==y)&&eh(t,d,i,y),ba=!1;var U=t.memoizedState;d.state=U,Bl(t,i,d,o),Ll(),D=t.memoizedState,b||U!==D||ba?(typeof X=="function"&&(du(t,n,X,i),D=t.memoizedState),(S=ba||Wf(t,n,S,i,U,D,y))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=D),d.props=i,d.state=D,d.context=y,i=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,Io(e,t),y=t.memoizedProps,q=ai(n,y),d.props=q,X=t.pendingProps,U=d.context,D=n.contextType,S=Ai,typeof D=="object"&&D!==null&&(S=Qt(D)),b=n.getDerivedStateFromProps,(D=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==X||U!==S)&&eh(t,d,i,S),ba=!1,U=t.memoizedState,d.state=U,Bl(t,i,d,o),Ll();var z=t.memoizedState;y!==X||U!==z||ba||e!==null&&e.dependencies!==null&&qs(e.dependencies)?(typeof b=="function"&&(du(t,n,b,i),z=t.memoizedState),(q=ba||Wf(t,n,q,i,U,z,S)||e!==null&&e.dependencies!==null&&qs(e.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,z,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,z,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=z),d.props=i,d.state=z,d.context=S,i=q):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),i=!1)}return d=i,lr(e,t),i=(t.flags&128)!==0,d||i?(d=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&i?(t.child=ti(t,e.child,null,o),t.child=ti(t,null,n,o)):Pt(e,t,n,o),t.memoizedState=d.state,e=t.child):e=ta(e,t,o),e}function mh(e,t,n,i){return Za(),t.flags|=256,Pt(e,t,n,i),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(e){return{baseLanes:e,cachePool:af()}}function vu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=pn),e}function ph(e,t,n){var i=t.pendingProps,o=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(it){if(o?_a(t):Sa(),(e=Tt)?(e=Eg(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ma!==null?{id:Hn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},n=Jd(e),n.return=t,t.child=n,Zt=t,Tt=null)):e=null,e===null)throw ya(t);return ec(e)?t.lanes=32:t.lanes=536870912,null}var b=i.children;return i=i.fallback,o?(Sa(),o=t.mode,b=sr({mode:"hidden",children:b},o),i=Ja(i,o,n,null),b.return=t,i.return=t,b.sibling=i,t.child=b,i=t.child,i.memoizedState=yu(n),i.childLanes=vu(e,y,n),t.memoizedState=pu,Yl(null,i)):(_a(t),bu(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(d)t.flags&256?(_a(t),t.flags&=-257,t=wu(e,t,n)):t.memoizedState!==null?(Sa(),t.child=e.child,t.flags|=128,t=null):(Sa(),b=i.fallback,o=t.mode,i=sr({mode:"visible",children:i.children},o),b=Ja(b,o,n,null),b.flags|=2,i.return=t,b.return=t,i.sibling=b,t.child=i,ti(t,e.child,null,n),i=t.child,i.memoizedState=yu(n),i.childLanes=vu(e,y,n),t.memoizedState=pu,t=Yl(null,i));else if(_a(t),ec(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var D=y.dgst;y=D,i=Error(r(419)),i.stack="",i.digest=y,Nl({value:i,source:null,stack:null}),t=wu(e,t,n)}else if(Ht||ki(e,t,n,!1),y=(n&e.childLanes)!==0,Ht||y){if(y=St,y!==null&&(i=Pe(y,n),i!==0&&i!==S.retryLane))throw S.retryLane=i,Ka(e,i),un(y,e,i),gu;Wu(b)||mr(),t=wu(e,t,n)}else Wu(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Tt=Cn(b.nextSibling),Zt=t,it=!0,pa=null,jn=!1,e!==null&&Pd(t,e),t=bu(t,i.children),t.flags|=4096);return t}return o?(Sa(),b=i.fallback,o=t.mode,S=e.child,D=S.sibling,i=Zn(S,{mode:"hidden",children:i.children}),i.subtreeFlags=S.subtreeFlags&65011712,D!==null?b=Zn(D,b):(b=Ja(b,o,n,null),b.flags|=2),b.return=t,i.return=t,i.sibling=b,t.child=i,Yl(null,i),i=t.child,b=e.child.memoizedState,b===null?b=yu(n):(o=b.cachePool,o!==null?(S=Lt._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=af(),b={baseLanes:b.baseLanes|n,cachePool:o}),i.memoizedState=b,i.childLanes=vu(e,y,n),t.memoizedState=pu,Yl(e.child,i)):(_a(t),n=e.child,e=n.sibling,n=Zn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function bu(e,t){return t=sr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sr(e,t){return e=fn(22,e,null,t),e.lanes=0,e}function wu(e,t,n){return ti(t,e.child,null,n),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Uo(e.return,t,n)}function xu(e,t,n,i,o,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:d}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=n,y.tailMode=o,y.treeForkCount=d)}function vh(e,t,n){var i=t.pendingProps,o=i.revealOrder,d=i.tail;i=i.children;var y=Dt.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,W(Dt,y),Pt(e,t,i,n),i=it?Ol:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yh(e,n,t);else if(e.tag===19)yh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Js(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),xu(t,!1,o,n,d,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Js(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}xu(t,!0,n,null,d,i);break;case"together":xu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ta(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ta|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ki(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _u(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&qs(e)))}function Zp(e,t,n){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),va(t,Lt,e.memoizedState.cache),Za();break;case 27:case 5:Ye(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ko(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(_a(t),t.flags|=128,null):(n&t.child.childLanes)!==0?ph(e,t,n):(_a(t),e=ta(e,t,n),e!==null?e.sibling:null);_a(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ki(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return vh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Dt,Dt.current),i)break;return null;case 22:return t.lanes=0,ch(e,t,n,t.pendingProps);case 24:va(t,Lt,e.memoizedState.cache)}return ta(e,t,n)}function bh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ht=!0;else{if(!_u(e,n)&&(t.flags&128)===0)return Ht=!1,Zp(e,t,n);Ht=(e.flags&131072)!==0}else Ht=!1,it&&(t.flags&1048576)!==0&&Qd(t,Ol,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Wa(t.elementType),t.type=e,typeof e=="function")Co(e)?(i=ai(e,i),t.tag=1,t=gh(null,t,e,i,n)):(t.tag=0,t=mu(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=rh(null,t,e,i,n);break e}else if(o===P){t.tag=14,t=oh(null,t,e,i,n);break e}}throw t=gt(e)||e,Error(r(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=ai(i,t.pendingProps),gh(e,t,i,o,n);case 3:e:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var d=t.memoizedState;o=d.element,Io(e,t),Bl(t,i,null,n);var y=t.memoizedState;if(i=y.cache,va(t,Lt,i),i!==d.cache&&zo(t,[Lt],n,!0),Ll(),i=y.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=mh(e,t,i,n);break e}else if(i!==o){o=_n(Error(r(424)),t),Nl(o),t=mh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=Cn(e.firstChild),Zt=t,it=!0,pa=null,jn=!0,n=cf(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Za(),i===o){t=ta(e,t,n);break e}Pt(e,t,i,n)}t=t.child}return t;case 26:return lr(e,t),e===null?(n=Og(t.type,null,t.pendingProps,null))?t.memoizedState=n:it||(n=t.type,e=t.pendingProps,i=_r(ke.current).createElement(n),i[zt]=t,i[nn]=e,Ft(i,n,e),Xt(i),t.stateNode=i):t.memoizedState=Og(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ye(t),e===null&&it&&(i=t.stateNode=Cg(t.type,t.pendingProps,ke.current),Zt=t,jn=!0,o=Tt,Na(t.type)?(tc=o,Tt=Cn(i.firstChild)):Tt=o),Pt(e,t,t.pendingProps.children,n),lr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&it&&((o=i=Tt)&&(i=jy(i,t.type,t.pendingProps,jn),i!==null?(t.stateNode=i,Zt=t,Tt=Cn(i.firstChild),jn=!1,o=!0):o=!1),o||ya(t)),Ye(t),o=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,i=d.children,Qu(o,d)?i=null:y!==null&&Qu(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=Zo(e,t,qp,null,null,n),is._currentValue=o),lr(e,t),Pt(e,t,i,n),t.child;case 6:return e===null&&it&&((e=n=Tt)&&(n=Ty(n,t.pendingProps,jn),n!==null?(t.stateNode=n,Zt=t,Tt=null,e=!0):e=!1),e||ya(t)),null;case 13:return ph(e,t,n);case 4:return ce(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ti(t,null,i,n):Pt(e,t,i,n),t.child;case 11:return rh(e,t,t.type,t.pendingProps,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,va(t,t.type,i.value),Pt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Pa(t),o=Qt(o),i=i(o),t.flags|=1,Pt(e,t,i,n),t.child;case 14:return oh(e,t,t.type,t.pendingProps,n);case 15:return uh(e,t,t.type,t.pendingProps,n);case 19:return vh(e,t,n);case 31:return Jp(e,t,n);case 22:return ch(e,t,n,t.pendingProps);case 24:return Pa(t),i=Qt(Lt),e===null?(o=Ho(),o===null&&(o=St,d=Lo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:i,cache:o},$o(t),va(t,Lt,o)):((e.lanes&n)!==0&&(Io(e,t),Bl(t,null,null,n),Ll()),o=e.memoizedState,d=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),va(t,Lt,i)):(i=d.cache,va(t,Lt,i),i!==o.cache&&zo(t,[Lt],n,!0))),Pt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function na(e){e.flags|=4}function Su(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Xh())e.flags|=8192;else throw ei=Gs,qo}else e.flags&=-16777217}function wh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ug(t))if(Xh())e.flags|=8192;else throw ei=Gs,qo}function rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vt():536870912,e.lanes|=t,Gi|=t)}function Gl(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Qp(e,t,n){var i=t.pendingProps;switch(No(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Fn(Lt),de(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ni(t)?na(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Mo())),Ct(t),null;case 26:var o=t.type,d=t.memoizedState;return e===null?(na(t),d!==null?(Ct(t),wh(t,d)):(Ct(t),Su(t,o,null,i,n))):d?d!==e.memoizedState?(na(t),Ct(t),wh(t,d)):(Ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&na(t),Ct(t),Su(t,o,e,i,n)),null;case 27:if(fe(t),n=ke.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&na(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ct(t),null}e=se.current,Ni(t)?Fd(t):(e=Cg(o,i,n),t.stateNode=e,na(t))}return Ct(t),null;case 5:if(fe(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&na(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ct(t),null}if(d=se.current,Ni(t))Fd(t);else{var y=_r(ke.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?y.createElement("select",{is:i.is}):y.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?y.createElement(o,{is:i.is}):y.createElement(o)}}d[zt]=t,d[nn]=i;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=d;e:switch(Ft(d,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&na(t)}}return Ct(t),Su(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&na(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ke.current,Ni(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=Zt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[zt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||pg(e.nodeValue,n)),e||ya(t,!0)}else e=_r(e).createTextNode(i),e[zt]=t,t.stateNode=e}return Ct(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ni(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[zt]=t}else Za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),e=!1}else n=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(gn(t),t):(gn(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ct(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ni(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[zt]=t}else Za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),o=!1}else o=Mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(gn(t),t):(gn(t),null)}return gn(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),rr(t,t.updateQueue),Ct(t),null);case 4:return de(),e===null&&Vu(t.stateNode.containerInfo),Ct(t),null;case 10:return Fn(t.type),Ct(t),null;case 19:if(I(Dt),i=t.memoizedState,i===null)return Ct(t),null;if(o=(t.flags&128)!==0,d=i.rendering,d===null)if(o)Gl(i,!1);else{if(Mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Js(e),d!==null){for(t.flags|=128,Gl(i,!1),e=d.updateQueue,t.updateQueue=e,rr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Kd(n,e),n=n.sibling;return W(Dt,Dt.current&1|2),it&&Qn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&be()>fr&&(t.flags|=128,o=!0,Gl(i,!1),t.lanes=4194304)}else{if(!o)if(e=Js(d),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,rr(t,e),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!it)return Ct(t),null}else 2*be()-i.renderingStartTime>fr&&n!==536870912&&(t.flags|=128,o=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(d.sibling=t.child,t.child=d):(e=i.last,e!==null?e.sibling=d:t.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=be(),e.sibling=null,n=Dt.current,W(Dt,o?n&1|2:n&1),it&&Qn(t,i.treeForkCount),e):(Ct(t),null);case 22:case 23:return gn(t),Xo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),n=t.updateQueue,n!==null&&rr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&I(Fa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fn(Lt),Ct(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Pp(e,t){switch(No(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(Lt),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fe(t),null;case 31:if(t.memoizedState!==null){if(gn(t),t.alternate===null)throw Error(r(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Dt),null;case 4:return de(),null;case 10:return Fn(t.type),null;case 22:case 23:return gn(t),Xo(),e!==null&&I(Fa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fn(Lt),null;case 25:return null;default:return null}}function xh(e,t){switch(No(t),t.tag){case 3:Fn(Lt),de();break;case 26:case 27:case 5:fe(t);break;case 4:de();break;case 31:t.memoizedState!==null&&gn(t);break;case 13:gn(t);break;case 19:I(Dt);break;case 10:Fn(t.type);break;case 22:case 23:gn(t),Xo(),e!==null&&I(Fa);break;case 24:Fn(Lt)}}function Vl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var d=n.create,y=n.inst;i=d(),y.destroy=i}n=n.next}while(n!==o)}}catch(b){vt(t,t.return,b)}}function Ea(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){var y=i.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,o=t;var S=n,D=b;try{D()}catch(q){vt(o,S,q)}}}i=i.next}while(i!==d)}}catch(q){vt(t,t.return,q)}}function _h(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ff(t,n)}catch(i){vt(e,e.return,i)}}}function Sh(e,t,n){n.props=ai(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){vt(e,t,i)}}function Xl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){vt(e,t,o)}}function $n(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){vt(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){vt(e,t,o)}else n.current=null}function Eh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){vt(e,e.return,o)}}function Eu(e,t,n){try{var i=e.stateNode;by(i,e.type,n,t),i[nn]=t}catch(o){vt(e,e.return,o)}}function jh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Na(e.type)||e.tag===4}function ju(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kn));else if(i!==4&&(i===27&&Na(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Tu(e,t,n),e=e.sibling;e!==null;)Tu(e,t,n),e=e.sibling}function or(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Na(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(or(e,t,n),e=e.sibling;e!==null;)or(e,t,n),e=e.sibling}function Th(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ft(t,i,n),t[zt]=e,t[nn]=n}catch(d){vt(e,e.return,d)}}var aa=!1,qt=!1,Cu=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Fp(e,t){if(e=e.containerInfo,Ju=Rr,e=Bd(e),wo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var y=0,b=-1,S=-1,D=0,q=0,X=e,U=null;t:for(;;){for(var z;X!==n||o!==0&&X.nodeType!==3||(b=y+o),X!==d||i!==0&&X.nodeType!==3||(S=y+i),X.nodeType===3&&(y+=X.nodeValue.length),(z=X.firstChild)!==null;)U=X,X=z;for(;;){if(X===e)break t;if(U===n&&++D===o&&(b=y),U===d&&++q===i&&(S=y),(z=X.nextSibling)!==null)break;X=U,U=X.parentNode}X=z}n=b===-1||S===-1?null:{start:b,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zu={focusedElem:e,selectionRange:n},Rr=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,i=n.stateNode;try{var ge=ai(n.type,o);e=i.getSnapshotBeforeUpdate(ge,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(Re){vt(n,n.return,Re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Fu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function Ah(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:la(e,n),i&4&&Vl(5,n);break;case 1:if(la(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){vt(n,n.return,y)}else{var o=ai(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){vt(n,n.return,y)}}i&64&&_h(n),i&512&&Xl(n,n.return);break;case 3:if(la(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ff(e,t)}catch(y){vt(n,n.return,y)}}break;case 27:t===null&&i&4&&Th(n);case 26:case 5:la(e,n),t===null&&i&4&&Eh(n),i&512&&Xl(n,n.return);break;case 12:la(e,n);break;case 31:la(e,n),i&4&&Nh(e,n);break;case 13:la(e,n),i&4&&kh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ry.bind(null,n),Cy(e,n))));break;case 22:if(i=n.memoizedState!==null||aa,!i){t=t!==null&&t.memoizedState!==null||qt,o=aa;var d=qt;aa=i,(qt=t)&&!d?sa(e,n,(n.subtreeFlags&8772)!==0):la(e,n),aa=o,qt=d}break;case 30:break;default:la(e,n)}}function Rh(e){var t=e.alternate;t!==null&&(e.alternate=null,Rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&no(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,ln=!1;function ia(e,t,n){for(n=n.child;n!==null;)Oh(e,t,n),n=n.sibling}function Oh(e,t,n){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Ae,n)}catch{}switch(n.tag){case 26:qt||$n(n,t),ia(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:qt||$n(n,t);var i=At,o=ln;Na(n.type)&&(At=n.stateNode,ln=!1),ia(e,t,n),ts(n.stateNode),At=i,ln=o;break;case 5:qt||$n(n,t);case 6:if(i=At,o=ln,At=null,ia(e,t,n),At=i,ln=o,At!==null)if(ln)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(d){vt(n,t,d)}else try{At.removeChild(n.stateNode)}catch(d){vt(n,t,d)}break;case 18:At!==null&&(ln?(e=At,_g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Fi(e)):_g(At,n.stateNode));break;case 4:i=At,o=ln,At=n.stateNode.containerInfo,ln=!0,ia(e,t,n),At=i,ln=o;break;case 0:case 11:case 14:case 15:Ea(2,n,t),qt||Ea(4,n,t),ia(e,t,n);break;case 1:qt||($n(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Sh(n,t,i)),ia(e,t,n);break;case 21:ia(e,t,n);break;case 22:qt=(i=qt)||n.memoizedState!==null,ia(e,t,n),qt=i;break;default:ia(e,t,n)}}function Nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fi(e)}catch(n){vt(t,t.return,n)}}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fi(e)}catch(n){vt(t,t.return,n)}}function Wp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ch),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ch),t;default:throw Error(r(435,e.tag))}}function ur(e,t){var n=Wp(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=oy.bind(null,e,i);i.then(o,o)}})}function sn(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],d=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Na(b.type)){At=b.stateNode,ln=!1;break e}break;case 5:At=b.stateNode,ln=!1;break e;case 3:case 4:At=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(At===null)throw Error(r(160));Oh(d,y,o),At=null,ln=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mh(t,e),t=t.sibling}var Dn=null;function Mh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(t,e),rn(e),i&4&&(Ea(3,e,e.return),Vl(3,e),Ea(5,e,e.return));break;case 1:sn(t,e),rn(e),i&512&&(qt||n===null||$n(n,n.return)),i&64&&aa&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=Dn;if(sn(t,e),rn(e),i&512&&(qt||n===null||$n(n,n.return)),i&4){var d=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":d=o.getElementsByTagName("title")[0],(!d||d[bl]||d[zt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(i),o.head.insertBefore(d,o.querySelector("head > title"))),Ft(d,i,n),d[zt]=e,Xt(d),i=d;break e;case"link":var y=Mg("link","href",o).get(i+(n.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(b,1);break t}}d=o.createElement(i),Ft(d,i,n),o.head.appendChild(d);break;case"meta":if(y=Mg("meta","content",o).get(i+(n.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(b,1);break t}}d=o.createElement(i),Ft(d,i,n),o.head.appendChild(d);break;default:throw Error(r(468,i))}d[zt]=e,Xt(d),i=d}e.stateNode=i}else Dg(o,e.type,e.stateNode);else e.stateNode=kg(o,i,e.memoizedProps);else d!==i?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,i===null?Dg(o,e.type,e.stateNode):kg(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Eu(e,e.memoizedProps,n.memoizedProps)}break;case 27:sn(t,e),rn(e),i&512&&(qt||n===null||$n(n,n.return)),n!==null&&i&4&&Eu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sn(t,e),rn(e),i&512&&(qt||n===null||$n(n,n.return)),e.flags&32){o=e.stateNode;try{xi(o,"")}catch(ge){vt(e,e.return,ge)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Eu(e,o,n!==null?n.memoizedProps:o)),i&1024&&(Cu=!0);break;case 6:if(sn(t,e),rn(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(ge){vt(e,e.return,ge)}}break;case 3:if(jr=null,o=Dn,Dn=Sr(t.containerInfo),sn(t,e),Dn=o,rn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(ge){vt(e,e.return,ge)}Cu&&(Cu=!1,Dh(e));break;case 4:i=Dn,Dn=Sr(e.stateNode.containerInfo),sn(t,e),rn(e),Dn=i;break;case 12:sn(t,e),rn(e);break;case 31:sn(t,e),rn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ur(e,i)));break;case 13:sn(t,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dr=be()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ur(e,i)));break;case 22:o=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,D=aa,q=qt;if(aa=D||o,qt=q||S,sn(t,e),qt=q,aa=D,rn(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||S||aa||qt||ii(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(d=S.stateNode,o)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=S.stateNode;var X=S.memoizedProps.style,U=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ge){vt(S,S.return,ge)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(ge){vt(S,S.return,ge)}}}else if(t.tag===18){if(n===null){S=t;try{var z=S.stateNode;o?Sg(z,!0):Sg(S.stateNode,!1)}catch(ge){vt(S,S.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,ur(e,n))));break;case 19:sn(t,e),rn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,ur(e,i)));break;case 30:break;case 21:break;default:sn(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(jh(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode,d=ju(e);or(e,d,o);break;case 5:var y=n.stateNode;n.flags&32&&(xi(y,""),n.flags&=-33);var b=ju(e);or(e,b,y);break;case 3:case 4:var S=n.stateNode.containerInfo,D=ju(e);Tu(e,D,S);break;default:throw Error(r(161))}}catch(q){vt(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Dh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function la(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ah(e,t.alternate,t),t=t.sibling}function ii(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ea(4,t,t.return),ii(t);break;case 1:$n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Sh(t,t.return,n),ii(t);break;case 27:ts(t.stateNode);case 26:case 5:$n(t,t.return),ii(t);break;case 22:t.memoizedState===null&&ii(t);break;case 30:ii(t);break;default:ii(t)}e=e.sibling}}function sa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:sa(o,d,n),Vl(4,d);break;case 1:if(sa(o,d,n),i=d,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(D){vt(i,i.return,D)}if(i=d,o=i.updateQueue,o!==null){var b=i.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)df(S[o],b)}catch(D){vt(i,i.return,D)}}n&&y&64&&_h(d),Xl(d,d.return);break;case 27:Th(d);case 26:case 5:sa(o,d,n),n&&i===null&&y&4&&Eh(d),Xl(d,d.return);break;case 12:sa(o,d,n);break;case 31:sa(o,d,n),n&&y&4&&Nh(o,d);break;case 13:sa(o,d,n),n&&y&4&&kh(o,d);break;case 22:d.memoizedState===null&&sa(o,d,n),Xl(d,d.return);break;case 30:break;default:sa(o,d,n)}t=t.sibling}}function Au(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&kl(n))}function Ru(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kl(e))}function Un(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uh(e,t,n,i),t=t.sibling}function Uh(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Un(e,t,n,i),o&2048&&Vl(9,t);break;case 1:Un(e,t,n,i);break;case 3:Un(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&kl(e)));break;case 12:if(o&2048){Un(e,t,n,i),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){vt(t,t.return,S)}}else Un(e,t,n,i);break;case 31:Un(e,t,n,i);break;case 13:Un(e,t,n,i);break;case 23:break;case 22:d=t.stateNode,y=t.alternate,t.memoizedState!==null?d._visibility&2?Un(e,t,n,i):Kl(e,t):d._visibility&2?Un(e,t,n,i):(d._visibility|=2,$i(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Au(y,t);break;case 24:Un(e,t,n,i),o&2048&&Ru(t.alternate,t);break;default:Un(e,t,n,i)}}function $i(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,y=t,b=n,S=i,D=y.flags;switch(y.tag){case 0:case 11:case 15:$i(d,y,b,S,o),Vl(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?$i(d,y,b,S,o):Kl(d,y):(q._visibility|=2,$i(d,y,b,S,o)),o&&D&2048&&Au(y.alternate,y);break;case 24:$i(d,y,b,S,o),o&&D&2048&&Ru(y.alternate,y);break;default:$i(d,y,b,S,o)}t=t.sibling}}function Kl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:Kl(n,i),o&2048&&Au(i.alternate,i);break;case 24:Kl(n,i),o&2048&&Ru(i.alternate,i);break;default:Kl(n,i)}t=t.sibling}}var Jl=8192;function Ii(e,t,n){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)zh(e,t,n),e=e.sibling}function zh(e,t,n){switch(e.tag){case 26:Ii(e,t,n),e.flags&Jl&&e.memoizedState!==null&&Hy(n,Dn,e.memoizedState,e.memoizedProps);break;case 5:Ii(e,t,n);break;case 3:case 4:var i=Dn;Dn=Sr(e.stateNode.containerInfo),Ii(e,t,n),Dn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Jl,Jl=16777216,Ii(e,t,n),Jl=i):Ii(e,t,n));break;default:Ii(e,t,n)}}function Lh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Zl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,Hh(i,e)}Lh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bh(e),e=e.sibling}function Bh(e){switch(e.tag){case 0:case 11:case 15:Zl(e),e.flags&2048&&Ea(9,e,e.return);break;case 3:Zl(e);break;case 12:Zl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cr(e)):Zl(e);break;default:Zl(e)}}function cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Kt=i,Hh(i,e)}Lh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ea(8,t,t.return),cr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,cr(t));break;default:cr(t)}e=e.sibling}}function Hh(e,t){for(;Kt!==null;){var n=Kt;switch(n.tag){case 0:case 11:case 15:Ea(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:kl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Kt=i;else e:for(n=e;Kt!==null;){i=Kt;var o=i.sibling,d=i.return;if(Rh(i),i===n){Kt=null;break e}if(o!==null){o.return=d,Kt=o;break e}Kt=d}}}var ey={getCacheForType:function(e){var t=Qt(Lt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Qt(Lt).controller.signal}},ty=typeof WeakMap=="function"?WeakMap:Map,dt=0,St=null,Fe=null,tt=0,yt=0,mn=null,ja=!1,Yi=!1,Ou=!1,ra=0,Mt=0,Ta=0,li=0,Nu=0,pn=0,Gi=0,Ql=null,on=null,ku=!1,dr=0,qh=0,fr=1/0,hr=null,Ca=null,Yt=0,Aa=null,Vi=null,oa=0,Mu=0,Du=null,$h=null,Pl=0,Uu=null;function yn(){return(dt&2)!==0&&tt!==0?tt&-tt:B.T!==null?$u():tn()}function Ih(){if(pn===0)if((tt&536870912)===0||it){var e=le;le<<=1,(le&3932160)===0&&(le=262144),pn=e}else pn=536870912;return e=hn.current,e!==null&&(e.flags|=32),pn}function un(e,t,n){(e===St&&(yt===2||yt===9)||e.cancelPendingCommit!==null)&&(Xi(e,0),Ra(e,tt,pn,!1)),Ue(e,n),((dt&2)===0||e!==St)&&(e===St&&((dt&2)===0&&(li|=n),Mt===4&&Ra(e,tt,pn,!1)),In(e))}function Yh(e,t,n){if((dt&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||$e(e,t),o=i?iy(e,t):Lu(e,t,!0),d=i;do{if(o===0){Yi&&!i&&Ra(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!ny(n)){o=Lu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;o=Ql;var S=b.current.memoizedState.isDehydrated;if(S&&(Xi(b,y).flags|=256),y=Lu(b,y,!1),y!==2){if(Ou&&!S){b.errorRecoveryDisabledLanes|=d,li|=d,o=4;break e}d=on,on=o,d!==null&&(on===null?on=d:on.push.apply(on,d))}o=y}if(d=!1,o!==2)continue}}if(o===1){Xi(e,0),Ra(e,t,0,!0);break}e:{switch(i=e,d=o,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ra(i,t,pn,!ja);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=dr+300-be(),10<o)){if(Ra(i,t,pn,!ja),De(i,0,!0)!==0)break e;oa=t,i.timeoutHandle=wg(Gh.bind(null,i,n,on,hr,ku,t,pn,li,Gi,ja,d,"Throttled",-0,0),o);break e}Gh(i,n,on,hr,ku,t,pn,li,Gi,ja,d,null,-0,0)}}break}while(!0);In(e)}function Gh(e,t,n,i,o,d,y,b,S,D,q,X,U,z){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},zh(t,d,X);var ge=(d&62914560)===d?dr-be():(d&4194048)===d?qh-be():0;if(ge=qy(X,ge),ge!==null){oa=d,e.cancelPendingCommit=ge(Fh.bind(null,e,t,d,n,i,o,y,b,S,q,X,null,U,z)),Ra(e,d,y,!D);return}}Fh(e,t,d,n,i,o,y,b,S)}function ny(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],d=o.getSnapshot;o=o.value;try{if(!dn(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ra(e,t,n,i){t&=~Nu,t&=~li,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var d=31-Ve(o),y=1<<d;i[d]=-1,o&=~y}n!==0&&Qe(e,n,t)}function gr(){return(dt&6)===0?(Fl(0),!1):!0}function zu(){if(Fe!==null){if(yt===0)var e=Fe.return;else e=Fe,Pn=Qa=null,Fo(e),zi=null,Dl=0,e=Fe;for(;e!==null;)xh(e.alternate,e),e=e.return;Fe=null}}function Xi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_y(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),oa=0,zu(),St=e,Fe=n=Zn(e.current,null),tt=t,yt=0,mn=null,ja=!1,Yi=$e(e,t),Ou=!1,Gi=pn=Nu=li=Ta=Mt=0,on=Ql=null,ku=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Ve(i),d=1<<o;t|=e[o],i&=~d}return ra=t,Us(),n}function Vh(e,t){Ie=null,B.H=Il,t===Ui||t===Ys?(t=rf(),yt=3):t===qo?(t=rf(),yt=4):yt=t===gu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,mn=t,Fe===null&&(Mt=1,ar(e,_n(t,e.current)))}function Xh(){var e=hn.current;return e===null?!0:(tt&4194048)===tt?Tn===null:(tt&62914560)===tt||(tt&536870912)!==0?e===Tn:!1}function Kh(){var e=B.H;return B.H=Il,e===null?Il:e}function Jh(){var e=B.A;return B.A=ey,e}function mr(){Mt=4,ja||(tt&4194048)!==tt&&hn.current!==null||(Yi=!0),(Ta&134217727)===0&&(li&134217727)===0||St===null||Ra(St,tt,pn,!1)}function Lu(e,t,n){var i=dt;dt|=2;var o=Kh(),d=Jh();(St!==e||tt!==t)&&(hr=null,Xi(e,t)),t=!1;var y=Mt;e:do try{if(yt!==0&&Fe!==null){var b=Fe,S=mn;switch(yt){case 8:zu(),y=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(t=!0);var D=yt;if(yt=0,mn=null,Ki(e,b,S,D),n&&Yi){y=0;break e}break;default:D=yt,yt=0,mn=null,Ki(e,b,S,D)}}ay(),y=Mt;break}catch(q){Vh(e,q)}while(!0);return t&&e.shellSuspendCounter++,Pn=Qa=null,dt=i,B.H=o,B.A=d,Fe===null&&(St=null,tt=0,Us()),y}function ay(){for(;Fe!==null;)Zh(Fe)}function iy(e,t){var n=dt;dt|=2;var i=Kh(),o=Jh();St!==e||tt!==t?(hr=null,fr=be()+500,Xi(e,t)):Yi=$e(e,t);e:do try{if(yt!==0&&Fe!==null){t=Fe;var d=mn;t:switch(yt){case 1:yt=0,mn=null,Ki(e,t,d,1);break;case 2:case 9:if(lf(d)){yt=0,mn=null,Qh(t);break}t=function(){yt!==2&&yt!==9||St!==e||(yt=7),In(e)},d.then(t,t);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:lf(d)?(yt=0,mn=null,Qh(t)):(yt=0,mn=null,Ki(e,t,d,7));break;case 5:var y=null;switch(Fe.tag){case 26:y=Fe.memoizedState;case 5:case 27:var b=Fe;if(y?Ug(y):b.stateNode.complete){yt=0,mn=null;var S=b.sibling;if(S!==null)Fe=S;else{var D=b.return;D!==null?(Fe=D,pr(D)):Fe=null}break t}}yt=0,mn=null,Ki(e,t,d,5);break;case 6:yt=0,mn=null,Ki(e,t,d,6);break;case 8:zu(),Mt=6;break e;default:throw Error(r(462))}}ly();break}catch(q){Vh(e,q)}while(!0);return Pn=Qa=null,B.H=i,B.A=o,dt=n,Fe!==null?0:(St=null,tt=0,Us(),Mt)}function ly(){for(;Fe!==null&&!Oe();)Zh(Fe)}function Zh(e){var t=bh(e.alternate,e,ra);e.memoizedProps=e.pendingProps,t===null?pr(e):Fe=t}function Qh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hh(n,t,t.pendingProps,t.type,void 0,tt);break;case 11:t=hh(n,t,t.pendingProps,t.type.render,t.ref,tt);break;case 5:Fo(t);default:xh(n,t),t=Fe=Kd(t,ra),t=bh(n,t,ra)}e.memoizedProps=e.pendingProps,t===null?pr(e):Fe=t}function Ki(e,t,n,i){Pn=Qa=null,Fo(t),zi=null,Dl=0;var o=t.return;try{if(Kp(e,o,t,n,tt)){Mt=1,ar(e,_n(n,e.current)),Fe=null;return}}catch(d){if(o!==null)throw Fe=o,d;Mt=1,ar(e,_n(n,e.current)),Fe=null;return}t.flags&32768?(it||i===1?e=!0:Yi||(tt&536870912)!==0?e=!1:(ja=e=!0,(i===2||i===9||i===3||i===6)&&(i=hn.current,i!==null&&i.tag===13&&(i.flags|=16384))),Ph(t,e)):pr(t)}function pr(e){var t=e;do{if((t.flags&32768)!==0){Ph(t,ja);return}e=t.return;var n=Qp(t.alternate,t,ra);if(n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);Mt===0&&(Mt=5)}function Ph(e,t){do{var n=Pp(e.alternate,e);if(n!==null){n.flags&=32767,Fe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fe=e;return}Fe=e=n}while(e!==null);Mt=6,Fe=null}function Fh(e,t,n,i,o,d,y,b,S){e.cancelPendingCommit=null;do yr();while(Yt!==0);if((dt&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=jo,Xe(e,n,d,y,b,S),e===St&&(Fe=St=null,tt=0),Vi=t,Aa=e,oa=n,Mu=d,Du=o,$h=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,uy(ft,function(){return ag(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,o=F.p,F.p=2,y=dt,dt|=4;try{Fp(e,t,n)}finally{dt=y,F.p=o,B.T=i}}Yt=1,Wh(),eg(),tg()}}function Wh(){if(Yt===1){Yt=0;var e=Aa,t=Vi,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var i=F.p;F.p=2;var o=dt;dt|=4;try{Mh(t,e);var d=Zu,y=Bd(e.containerInfo),b=d.focusedElem,S=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&Ld(b.ownerDocument.documentElement,b)){if(S!==null&&wo(b)){var D=S.start,q=S.end;if(q===void 0&&(q=D),"selectionStart"in b)b.selectionStart=D,b.selectionEnd=Math.min(q,b.value.length);else{var X=b.ownerDocument||document,U=X&&X.defaultView||window;if(U.getSelection){var z=U.getSelection(),ge=b.textContent.length,Re=Math.min(S.start,ge),xt=S.end===void 0?Re:Math.min(S.end,ge);!z.extend&&Re>xt&&(y=xt,xt=Re,Re=y);var A=zd(b,Re),T=zd(b,xt);if(A&&T&&(z.rangeCount!==1||z.anchorNode!==A.node||z.anchorOffset!==A.offset||z.focusNode!==T.node||z.focusOffset!==T.offset)){var M=X.createRange();M.setStart(A.node,A.offset),z.removeAllRanges(),Re>xt?(z.addRange(M),z.extend(T.node,T.offset)):(M.setEnd(T.node,T.offset),z.addRange(M))}}}}for(X=[],z=b;z=z.parentNode;)z.nodeType===1&&X.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var Y=X[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Rr=!!Ju,Zu=Ju=null}finally{dt=o,F.p=i,B.T=n}}e.current=t,Yt=2}}function eg(){if(Yt===2){Yt=0;var e=Aa,t=Vi,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var i=F.p;F.p=2;var o=dt;dt|=4;try{Ah(e,t.alternate,t)}finally{dt=o,F.p=i,B.T=n}}Yt=3}}function tg(){if(Yt===4||Yt===3){Yt=0,xe();var e=Aa,t=Vi,n=oa,i=$h;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Yt=5:(Yt=0,Vi=Aa=null,ng(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Ca=null),Ke(n),t=t.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Ae,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,o=F.p,F.p=2,B.T=null;try{for(var d=e.onRecoverableError,y=0;y<i.length;y++){var b=i[y];d(b.value,{componentStack:b.stack})}}finally{B.T=t,F.p=o}}(oa&3)!==0&&yr(),In(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Uu?Pl++:(Pl=0,Uu=e):Pl=0,Fl(0)}}function ng(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,kl(t)))}function yr(){return Wh(),eg(),tg(),ag()}function ag(){if(Yt!==5)return!1;var e=Aa,t=Mu;Mu=0;var n=Ke(oa),i=B.T,o=F.p;try{F.p=32>n?32:n,B.T=null,n=Du,Du=null;var d=Aa,y=oa;if(Yt=0,Vi=Aa=null,oa=0,(dt&6)!==0)throw Error(r(331));var b=dt;if(dt|=4,Bh(d.current),Uh(d,d.current,y,n),dt=b,Fl(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Ae,d)}catch{}return!0}finally{F.p=o,B.T=i,ng(e,t)}}function ig(e,t,n){t=_n(n,t),t=hu(e.stateNode,t,2),e=xa(e,t,2),e!==null&&(Ue(e,2),In(e))}function vt(e,t,n){if(e.tag===3)ig(e,e,n);else for(;t!==null;){if(t.tag===3){ig(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ca===null||!Ca.has(i))){e=_n(n,e),n=lh(2),i=xa(t,n,2),i!==null&&(sh(n,i,t,e),Ue(i,2),In(i));break}}t=t.return}}function Bu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new ty;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(Ou=!0,o.add(n),e=sy.bind(null,e,t,n),t.then(e,e))}function sy(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,St===e&&(tt&n)===n&&(Mt===4||Mt===3&&(tt&62914560)===tt&&300>be()-dr?(dt&2)===0&&Xi(e,0):Nu|=n,Gi===tt&&(Gi=0)),In(e)}function lg(e,t){t===0&&(t=Vt()),e=Ka(e,t),e!==null&&(Ue(e,t),In(e))}function ry(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lg(e,n)}function oy(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),lg(e,n)}function uy(e,t){return ee(e,t)}var vr=null,Ji=null,Hu=!1,br=!1,qu=!1,Oa=0;function In(e){e!==Ji&&e.next===null&&(Ji===null?vr=Ji=e:Ji=Ji.next=e),br=!0,Hu||(Hu=!0,dy())}function Fl(e,t){if(!qu&&br){qu=!0;do for(var n=!1,i=vr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var d=0;else{var y=i.suspendedLanes,b=i.pingedLanes;d=(1<<31-Ve(42|e)+1)-1,d&=o&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,ug(i,d))}else d=tt,d=De(i,i===St?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||$e(i,d)||(n=!0,ug(i,d));i=i.next}while(n);qu=!1}}function cy(){sg()}function sg(){br=Hu=!1;var e=0;Oa!==0&&xy()&&(e=Oa);for(var t=be(),n=null,i=vr;i!==null;){var o=i.next,d=rg(i,t);d===0?(i.next=null,n===null?vr=o:n.next=o,o===null&&(Ji=n)):(n=i,(e!==0||(d&3)!==0)&&(br=!0)),i=o}Yt!==0&&Yt!==5||Fl(e),Oa!==0&&(Oa=0)}function rg(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Ve(d),b=1<<y,S=o[y];S===-1?((b&n)===0||(b&i)!==0)&&(o[y]=ct(b,t)):S<=t&&(e.expiredLanes|=b),d&=~b}if(t=St,n=tt,n=De(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(yt===2||yt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Q(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||$e(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Q(i),Ke(n)){case 2:case 8:n=_e;break;case 32:n=ft;break;case 268435456:n=ht;break;default:n=ft}return i=og.bind(null,e),n=ee(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Q(i),e.callbackPriority=2,e.callbackNode=null,2}function og(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yr()&&e.callbackNode!==n)return null;var i=tt;return i=De(e,e===St?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Yh(e,i,t),rg(e,be()),e.callbackNode!=null&&e.callbackNode===n?og.bind(null,e):null)}function ug(e,t){if(yr())return null;Yh(e,t,!0)}function dy(){Sy(function(){(dt&6)!==0?ee(ae,cy):sg()})}function $u(){if(Oa===0){var e=Mi;e===0&&(e=Z,Z<<=1,(Z&261888)===0&&(Z=256)),Oa=e}return Oa}function cg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cs(""+e)}function dg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function fy(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var d=cg((o[nn]||null).action),y=i.submitter;y&&(t=(t=y[nn]||null)?cg(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var b=new Ns("action","action",null,i,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Oa!==0){var S=y?dg(o,y):new FormData(o);ru(n,{pending:!0,data:S,method:o.method,action:d},null,S)}}else typeof d=="function"&&(b.preventDefault(),S=y?dg(o,y):new FormData(o),ru(n,{pending:!0,data:S,method:o.method,action:d},d,S))},currentTarget:o}]})}}for(var Iu=0;Iu<Eo.length;Iu++){var Yu=Eo[Iu],hy=Yu.toLowerCase(),gy=Yu[0].toUpperCase()+Yu.slice(1);Mn(hy,"on"+gy)}Mn($d,"onAnimationEnd"),Mn(Id,"onAnimationIteration"),Mn(Yd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(Op,"onTransitionRun"),Mn(Np,"onTransitionStart"),Mn(kp,"onTransitionCancel"),Mn(Gd,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),my=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function fg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var y=i.length-1;0<=y;y--){var b=i[y],S=b.instance,D=b.currentTarget;if(b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch(q){Ds(q)}o.currentTarget=null,d=S}else for(y=0;y<i.length;y++){if(b=i[y],S=b.instance,D=b.currentTarget,b=b.listener,S!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=D;try{d(o)}catch(q){Ds(q)}o.currentTarget=null,d=S}}}}function We(e,t){var n=t[to];n===void 0&&(n=t[to]=new Set);var i=e+"__bubble";n.has(i)||(hg(t,e,2,!1),n.add(i))}function Gu(e,t,n){var i=0;t&&(i|=4),hg(n,e,i,t)}var wr="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[wr]){e[wr]=!0,ld.forEach(function(n){n!=="selectionchange"&&(my.has(n)||Gu(n,!1,e),Gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wr]||(t[wr]=!0,Gu("selectionchange",!1,t))}}function hg(e,t,n,i){switch(Ig(t)){case 2:var o=Yy;break;case 8:o=Gy;break;default:o=sc}n=o.bind(null,t,n,e),o=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xu(e,t,n,i,o){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var y=i.tag;if(y===3||y===4){var b=i.stateNode.containerInfo;if(b===o)break;if(y===4)for(y=i.return;y!==null;){var S=y.tag;if((S===3||S===4)&&y.stateNode.containerInfo===o)return;y=y.return}for(;b!==null;){if(y=pi(b),y===null)return;if(S=y.tag,S===5||S===6||S===26||S===27){i=d=y;continue e}b=b.parentNode}}i=i.return}yd(function(){var D=d,q=oo(n),X=[];e:{var U=Vd.get(e);if(U!==void 0){var z=Ns,ge=e;switch(e){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":z=op;break;case"focusin":ge="focus",z=mo;break;case"focusout":ge="blur",z=mo;break;case"beforeblur":case"afterblur":z=mo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=dp;break;case $d:case Id:case Yd:z=W0;break;case Gd:z=hp;break;case"scroll":case"scrollend":z=J0;break;case"wheel":z=mp;break;case"copy":case"cut":case"paste":z=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=_d;break;case"toggle":case"beforetoggle":z=yp}var Re=(t&4)!==0,xt=!Re&&(e==="scroll"||e==="scrollend"),A=Re?U!==null?U+"Capture":null:U;Re=[];for(var T=D,M;T!==null;){var Y=T;if(M=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||M===null||A===null||(Y=xl(T,A),Y!=null&&Re.push(es(T,Y,M))),xt)break;T=T.return}0<Re.length&&(U=new z(U,ge,null,n,q),X.push({event:U,listeners:Re}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",U&&n!==ro&&(ge=n.relatedTarget||n.fromElement)&&(pi(ge)||ge[mi]))break e;if((z||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,z?(ge=n.relatedTarget||n.toElement,z=D,ge=ge?pi(ge):null,ge!==null&&(xt=c(ge),Re=ge.tag,ge!==xt||Re!==5&&Re!==27&&Re!==6)&&(ge=null)):(z=null,ge=D),z!==ge)){if(Re=wd,Y="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Re=_d,Y="onPointerLeave",A="onPointerEnter",T="pointer"),xt=z==null?U:wl(z),M=ge==null?U:wl(ge),U=new Re(Y,T+"leave",z,n,q),U.target=xt,U.relatedTarget=M,Y=null,pi(q)===D&&(Re=new Re(A,T+"enter",ge,n,q),Re.target=M,Re.relatedTarget=xt,Y=Re),xt=Y,z&&ge)t:{for(Re=py,A=z,T=ge,M=0,Y=A;Y;Y=Re(Y))M++;Y=0;for(var Se=T;Se;Se=Re(Se))Y++;for(;0<M-Y;)A=Re(A),M--;for(;0<Y-M;)T=Re(T),Y--;for(;M--;){if(A===T||T!==null&&A===T.alternate){Re=A;break t}A=Re(A),T=Re(T)}Re=null}else Re=null;z!==null&&gg(X,U,z,Re,!1),ge!==null&&xt!==null&&gg(X,xt,ge,Re,!0)}}e:{if(U=D?wl(D):window,z=U.nodeName&&U.nodeName.toLowerCase(),z==="select"||z==="input"&&U.type==="file")var rt=Od;else if(Ad(U))if(Nd)rt=Cp;else{rt=jp;var ye=Ep}else z=U.nodeName,!z||z.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&so(D.elementType)&&(rt=Od):rt=Tp;if(rt&&(rt=rt(e,D))){Rd(X,rt,n,q);break e}ye&&ye(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&lo(U,"number",U.value)}switch(ye=D?wl(D):window,e){case"focusin":(Ad(ye)||ye.contentEditable==="true")&&(ji=ye,xo=D,Rl=null);break;case"focusout":Rl=xo=ji=null;break;case"mousedown":_o=!0;break;case"contextmenu":case"mouseup":case"dragend":_o=!1,Hd(X,n,q);break;case"selectionchange":if(Rp)break;case"keydown":case"keyup":Hd(X,n,q)}var Ge;if(yo)e:{switch(e){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Ei?Td(e,n)&&(nt="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(nt="onCompositionStart");nt&&(Sd&&n.locale!=="ko"&&(Ei||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Ei&&(Ge=vd()):(ga=q,fo="value"in ga?ga.value:ga.textContent,Ei=!0)),ye=xr(D,nt),0<ye.length&&(nt=new xd(nt,e,null,n,q),X.push({event:nt,listeners:ye}),Ge?nt.data=Ge:(Ge=Cd(n),Ge!==null&&(nt.data=Ge)))),(Ge=bp?wp(e,n):xp(e,n))&&(nt=xr(D,"onBeforeInput"),0<nt.length&&(ye=new xd("onBeforeInput","beforeinput",null,n,q),X.push({event:ye,listeners:nt}),ye.data=Ge)),fy(X,e,D,n,q)}fg(X,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xr(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=xl(e,n),o!=null&&i.unshift(es(e,o,d)),o=xl(e,t),o!=null&&i.push(es(e,o,d))),e.tag===3)return i;e=e.return}return[]}function py(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gg(e,t,n,i,o){for(var d=t._reactName,y=[];n!==null&&n!==i;){var b=n,S=b.alternate,D=b.stateNode;if(b=b.tag,S!==null&&S===i)break;b!==5&&b!==26&&b!==27||D===null||(S=D,o?(D=xl(n,d),D!=null&&y.unshift(es(n,D,S))):o||(D=xl(n,d),D!=null&&y.push(es(n,D,S)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var yy=/\r\n?/g,vy=/\u0000|\uFFFD/g;function mg(e){return(typeof e=="string"?e:""+e).replace(yy,`
`).replace(vy,"")}function pg(e,t){return t=mg(t),mg(e)===t}function wt(e,t,n,i,o,d){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||xi(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&xi(e,""+i);break;case"className":js(e,"class",i);break;case"tabIndex":js(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":js(e,n,i);break;case"style":md(e,i,d);break;case"data":if(t!=="object"){js(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&wt(e,t,"name",o.name,o,null),wt(e,t,"formEncType",o.formEncType,o,null),wt(e,t,"formMethod",o.formMethod,o,null),wt(e,t,"formTarget",o.formTarget,o,null)):(wt(e,t,"encType",o.encType,o,null),wt(e,t,"method",o.method,o,null),wt(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Cs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Kn);break;case"onScroll":i!=null&&We("scroll",e);break;case"onScrollEnd":i!=null&&We("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Cs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":We("beforetoggle",e),We("toggle",e),Es(e,"popover",i);break;case"xlinkActuate":Xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Xn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Xn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Xn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Xn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Es(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=X0.get(n)||n,Es(e,n,i))}}function Ku(e,t,n,i,o,d){switch(n){case"style":md(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?xi(e,i):(typeof i=="number"||typeof i=="bigint")&&xi(e,""+i);break;case"onScroll":i!=null&&We("scroll",e);break;case"onScrollEnd":i!=null&&We("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[nn]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof i=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Es(e,n,i)}}}function Ft(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",e),We("load",e);var i=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var y=n[d];if(y!=null)switch(d){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:wt(e,t,d,y,n,null)}}o&&wt(e,t,"srcSet",n.srcSet,n,null),i&&wt(e,t,"src",n.src,n,null);return;case"input":We("invalid",e);var b=d=y=o=null,S=null,D=null;for(i in n)if(n.hasOwnProperty(i)){var q=n[i];if(q!=null)switch(i){case"name":o=q;break;case"type":y=q;break;case"checked":S=q;break;case"defaultChecked":D=q;break;case"value":d=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,t));break;default:wt(e,t,i,q,n,null)}}dd(e,d,b,S,D,y,o,!1);return;case"select":We("invalid",e),i=y=d=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":i=b;default:wt(e,t,o,b,n,null)}t=d,n=y,e.multiple=!!i,t!=null?wi(e,!!i,t,!1):n!=null&&wi(e,!!i,n,!0);return;case"textarea":We("invalid",e),d=o=i=null;for(y in n)if(n.hasOwnProperty(y)&&(b=n[y],b!=null))switch(y){case"value":i=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:wt(e,t,y,b,n,null)}hd(e,i,o,d);return;case"option":for(S in n)if(n.hasOwnProperty(S)&&(i=n[S],i!=null))switch(S){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:wt(e,t,S,i,n,null)}return;case"dialog":We("beforetoggle",e),We("toggle",e),We("cancel",e),We("close",e);break;case"iframe":case"object":We("load",e);break;case"video":case"audio":for(i=0;i<Wl.length;i++)We(Wl[i],e);break;case"image":We("error",e),We("load",e);break;case"details":We("toggle",e);break;case"embed":case"source":case"link":We("error",e),We("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(i=n[D],i!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:wt(e,t,D,i,n,null)}return;default:if(so(t)){for(q in n)n.hasOwnProperty(q)&&(i=n[q],i!==void 0&&Ku(e,t,q,i,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(i=n[b],i!=null&&wt(e,t,b,i,n,null))}function by(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,y=null,b=null,S=null,D=null,q=null;for(z in n){var X=n[z];if(n.hasOwnProperty(z)&&X!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":S=X;default:i.hasOwnProperty(z)||wt(e,t,z,null,i,X)}}for(var U in i){var z=i[U];if(X=n[U],i.hasOwnProperty(U)&&(z!=null||X!=null))switch(U){case"type":d=z;break;case"name":o=z;break;case"checked":D=z;break;case"defaultChecked":q=z;break;case"value":y=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==X&&wt(e,t,U,z,i,X)}}io(e,y,b,S,D,q,d,o);return;case"select":z=y=b=U=null;for(d in n)if(S=n[d],n.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":z=S;default:i.hasOwnProperty(d)||wt(e,t,d,null,i,S)}for(o in i)if(d=i[o],S=n[o],i.hasOwnProperty(o)&&(d!=null||S!=null))switch(o){case"value":U=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==S&&wt(e,t,o,d,i,S)}t=b,n=y,i=z,U!=null?wi(e,!!n,U,!1):!!i!=!!n&&(t!=null?wi(e,!!n,t,!0):wi(e,!!n,n?[]:"",!1));return;case"textarea":z=U=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!i.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:wt(e,t,b,null,i,o)}for(y in i)if(o=i[y],d=n[y],i.hasOwnProperty(y)&&(o!=null||d!=null))switch(y){case"value":U=o;break;case"defaultValue":z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==d&&wt(e,t,y,o,i,d)}fd(e,U,z);return;case"option":for(var ge in n)if(U=n[ge],n.hasOwnProperty(ge)&&U!=null&&!i.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:wt(e,t,ge,null,i,U)}for(S in i)if(U=i[S],z=n[S],i.hasOwnProperty(S)&&U!==z&&(U!=null||z!=null))switch(S){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:wt(e,t,S,U,i,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in n)U=n[Re],n.hasOwnProperty(Re)&&U!=null&&!i.hasOwnProperty(Re)&&wt(e,t,Re,null,i,U);for(D in i)if(U=i[D],z=n[D],i.hasOwnProperty(D)&&U!==z&&(U!=null||z!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:wt(e,t,D,U,i,z)}return;default:if(so(t)){for(var xt in n)U=n[xt],n.hasOwnProperty(xt)&&U!==void 0&&!i.hasOwnProperty(xt)&&Ku(e,t,xt,void 0,i,U);for(q in i)U=i[q],z=n[q],!i.hasOwnProperty(q)||U===z||U===void 0&&z===void 0||Ku(e,t,q,U,i,z);return}}for(var A in n)U=n[A],n.hasOwnProperty(A)&&U!=null&&!i.hasOwnProperty(A)&&wt(e,t,A,null,i,U);for(X in i)U=i[X],z=n[X],!i.hasOwnProperty(X)||U===z||U==null&&z==null||wt(e,t,X,U,i,z)}function yg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],d=o.transferSize,y=o.initiatorType,b=o.duration;if(d&&b&&yg(y)){for(y=0,b=o.responseEnd,i+=1;i<n.length;i++){var S=n[i],D=S.startTime;if(D>b)break;var q=S.transferSize,X=S.initiatorType;q&&yg(X)&&(S=S.responseEnd,y+=q*(S<b?1:(b-D)/(S-D)))}if(--i,t+=8*(d+y)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ju=null,Zu=null;function _r(e){return e.nodeType===9?e:e.ownerDocument}function vg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pu=null;function xy(){var e=window.event;return e&&e.type==="popstate"?e===Pu?!1:(Pu=e,!0):(Pu=null,!1)}var wg=typeof setTimeout=="function"?setTimeout:void 0,_y=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,Sy=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(Ey)}:wg;function Ey(e){setTimeout(function(){throw e})}function Na(e){return e==="head"}function _g(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),Fi(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ts(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ts(n);for(var d=n.firstChild;d;){var y=d.nextSibling,b=d.nodeName;d[bl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=y}}else n==="body"&&ts(e.ownerDocument.body);n=o}while(n);Fi(t)}function Sg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Fu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fu(n),no(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function jy(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[bl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Cn(e.nextSibling),e===null)break}return null}function Ty(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Cn(e.nextSibling),e===null))return null;return e}function Eg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Cn(e.nextSibling),e===null))return null;return e}function Wu(e){return e.data==="$?"||e.data==="$~"}function ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tc=null;function jg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Cn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Cg(e,t,n){switch(t=_r(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ts(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);no(e)}var An=new Map,Ag=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ua=F.d;F.d={f:Ay,r:Ry,D:Oy,C:Ny,L:ky,m:My,X:Uy,S:Dy,M:zy};function Ay(){var e=ua.f(),t=gr();return e||t}function Ry(e){var t=yi(e);t!==null&&t.tag===5&&t.type==="form"?Vf(t):ua.r(e)}var Zi=typeof document>"u"?null:document;function Rg(e,t,n){var i=Zi;if(i&&typeof t=="string"&&t){var o=wn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Ag.has(o)||(Ag.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),Ft(t,"link",e),Xt(t),i.head.appendChild(t)))}}function Oy(e){ua.D(e),Rg("dns-prefetch",e,null)}function Ny(e,t){ua.C(e,t),Rg("preconnect",e,t)}function ky(e,t,n){ua.L(e,t,n);var i=Zi;if(i&&e&&t){var o='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+wn(n.imageSizes)+'"]')):o+='[href="'+wn(e)+'"]';var d=o;switch(t){case"style":d=Qi(e);break;case"script":d=Pi(e)}An.has(d)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),An.set(d,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(ns(d))||t==="script"&&i.querySelector(as(d))||(t=i.createElement("link"),Ft(t,"link",e),Xt(t),i.head.appendChild(t)))}}function My(e,t){ua.m(e,t);var n=Zi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+wn(i)+'"][href="'+wn(e)+'"]',d=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Pi(e)}if(!An.has(d)&&(e=w({rel:"modulepreload",href:e},t),An.set(d,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(as(d)))return}i=n.createElement("link"),Ft(i,"link",e),Xt(i),n.head.appendChild(i)}}}function Dy(e,t,n){ua.S(e,t,n);var i=Zi;if(i&&e){var o=vi(i).hoistableStyles,d=Qi(e);t=t||"default";var y=o.get(d);if(!y){var b={loading:0,preload:null};if(y=i.querySelector(ns(d)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=An.get(d))&&nc(e,n);var S=y=i.createElement("link");Xt(S),Ft(S,"link",e),S._p=new Promise(function(D,q){S.onload=D,S.onerror=q}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Er(y,t,i)}y={type:"stylesheet",instance:y,count:1,state:b},o.set(d,y)}}}function Uy(e,t){ua.X(e,t);var n=Zi;if(n&&e){var i=vi(n).hoistableScripts,o=Pi(e),d=i.get(o);d||(d=n.querySelector(as(o)),d||(e=w({src:e,async:!0},t),(t=An.get(o))&&ac(e,t),d=n.createElement("script"),Xt(d),Ft(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function zy(e,t){ua.M(e,t);var n=Zi;if(n&&e){var i=vi(n).hoistableScripts,o=Pi(e),d=i.get(o);d||(d=n.querySelector(as(o)),d||(e=w({src:e,async:!0,type:"module"},t),(t=An.get(o))&&ac(e,t),d=n.createElement("script"),Xt(d),Ft(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(o,d))}}function Og(e,t,n,i){var o=(o=ke.current)?Sr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Qi(n.href),n=vi(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Qi(n.href);var d=vi(o).hoistableStyles,y=d.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=o.querySelector(ns(e)))&&!d._p&&(y.instance=d,y.state.loading=5),An.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},An.set(e,n),d||Ly(o,e,n,y.state))),t&&i===null)throw Error(r(528,""));return y}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pi(n),n=vi(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Qi(e){return'href="'+wn(e)+'"'}function ns(e){return'link[rel="stylesheet"]['+e+"]"}function Ng(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Ly(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Ft(t,"link",n),Xt(t),e.head.appendChild(t))}function Pi(e){return'[src="'+wn(e)+'"]'}function as(e){return"script[async]"+e}function kg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(i)return t.instance=i,Xt(i),i;var o=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Xt(i),Ft(i,"style",o),Er(i,n.precedence,e),t.instance=i;case"stylesheet":o=Qi(n.href);var d=e.querySelector(ns(o));if(d)return t.state.loading|=4,t.instance=d,Xt(d),d;i=Ng(n),(o=An.get(o))&&nc(i,o),d=(e.ownerDocument||e).createElement("link"),Xt(d);var y=d;return y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),Ft(d,"link",i),t.state.loading|=4,Er(d,n.precedence,e),t.instance=d;case"script":return d=Pi(n.src),(o=e.querySelector(as(d)))?(t.instance=o,Xt(o),o):(i=n,(o=An.get(d))&&(i=w({},n),ac(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Xt(o),Ft(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Er(i,n.precedence,e));return t.instance}function Er(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,d=o,y=0;y<i.length;y++){var b=i[y];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var jr=null;function Mg(e,t,n){if(jr===null){var i=new Map,o=jr=new Map;o.set(n,i)}else o=jr,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[bl]||d[zt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var b=i.get(y);b?b.push(d):i.set(y,[d])}}return i}function Dg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function By(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ug(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hy(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Qi(i.href),d=t.querySelector(ns(o));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Tr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,Xt(d);return}d=t.ownerDocument||t,i=Ng(i),(o=An.get(o))&&nc(i,o),d=d.createElement("link"),Xt(d);var y=d;y._p=new Promise(function(b,S){y.onload=b,y.onerror=S}),Ft(d,"link",i),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Tr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ic=0;function qy(e,t){return e.stylesheets&&e.count===0&&Ar(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Ar(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&ic===0&&(ic=62500*wy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ar(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>ic?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Tr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ar(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cr=null;function Ar(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cr=new Map,t.forEach($y,e),Cr=null,Tr.call(e))}function $y(e,t){if(!(t.state.loading&4)){var n=Cr.get(e);if(n)var i=n.get(null);else{n=new Map,Cr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var y=o[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),i=y)}i&&n.set(null,i)}o=t.instance,y=o.getAttribute("data-precedence"),d=n.get(y)||i,d===i&&n.set(null,o),n.set(y,o),this.count++,i=Tr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var is={$$typeof:C,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Iy(e,t,n,i,o,d,y,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.hiddenUpdates=Nt(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function zg(e,t,n,i,o,d,y,b,S,D,q,X){return e=new Iy(e,t,n,y,S,D,q,X,b),t=1,d===!0&&(t|=24),d=fn(3,null,null,t),e.current=d,d.stateNode=e,t=Lo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:i,isDehydrated:n,cache:t},$o(d),e}function Lg(e){return e?(e=Ai,e):Ai}function Bg(e,t,n,i,o,d){o=Lg(o),i.context===null?i.context=o:i.pendingContext=o,i=wa(t),i.payload={element:n},d=d===void 0?null:d,d!==null&&(i.callback=d),n=xa(e,i,t),n!==null&&(un(n,e,t),zl(n,e,t))}function Hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lc(e,t){Hg(e,t),(e=e.alternate)&&Hg(e,t)}function qg(e){if(e.tag===13||e.tag===31){var t=Ka(e,67108864);t!==null&&un(t,e,67108864),lc(e,67108864)}}function $g(e){if(e.tag===13||e.tag===31){var t=yn();t=Et(t);var n=Ka(e,t);n!==null&&un(n,e,t),lc(e,t)}}var Rr=!0;function Yy(e,t,n,i){var o=B.T;B.T=null;var d=F.p;try{F.p=2,sc(e,t,n,i)}finally{F.p=d,B.T=o}}function Gy(e,t,n,i){var o=B.T;B.T=null;var d=F.p;try{F.p=8,sc(e,t,n,i)}finally{F.p=d,B.T=o}}function sc(e,t,n,i){if(Rr){var o=rc(i);if(o===null)Xu(e,t,i,Or,n),Yg(e,i);else if(Xy(o,e,t,n,i))i.stopPropagation();else if(Yg(e,i),t&4&&-1<Vy.indexOf(e)){for(;o!==null;){var d=yi(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=re(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var S=1<<31-Ve(y);b.entanglements[1]|=S,y&=~S}In(d),(dt&6)===0&&(fr=be()+500,Fl(0))}}break;case 31:case 13:b=Ka(d,2),b!==null&&un(b,d,2),gr(),lc(d,2)}if(d=rc(i),d===null&&Xu(e,t,i,Or,n),d===o)break;o=d}o!==null&&i.stopPropagation()}else Xu(e,t,i,null,n)}}function rc(e){return e=oo(e),oc(e)}var Or=null;function oc(e){if(Or=null,e=pi(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Or=e,null}function Ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case ae:return 2;case _e:return 8;case ft:case Ot:return 32;case ht:return 268435456;default:return 32}default:return 32}}var uc=!1,ka=null,Ma=null,Da=null,ls=new Map,ss=new Map,Ua=[],Vy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function rs(e,t,n,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},t!==null&&(t=yi(t),t!==null&&qg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Xy(e,t,n,i,o){switch(t){case"focusin":return ka=rs(ka,e,t,n,i,o),!0;case"dragenter":return Ma=rs(Ma,e,t,n,i,o),!0;case"mouseover":return Da=rs(Da,e,t,n,i,o),!0;case"pointerover":var d=o.pointerId;return ls.set(d,rs(ls.get(d)||null,e,t,n,i,o)),!0;case"gotpointercapture":return d=o.pointerId,ss.set(d,rs(ss.get(d)||null,e,t,n,i,o)),!0}return!1}function Gg(e){var t=pi(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,ha(e.priority,function(){$g(n)});return}}else if(t===31){if(t=m(n),t!==null){e.blockedOn=t,ha(e.priority,function(){$g(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ro=i,n.target.dispatchEvent(i),ro=null}else return t=yi(n),t!==null&&qg(t),e.blockedOn=n,!1;t.shift()}return!0}function Vg(e,t,n){Nr(e)&&n.delete(t)}function Ky(){uc=!1,ka!==null&&Nr(ka)&&(ka=null),Ma!==null&&Nr(Ma)&&(Ma=null),Da!==null&&Nr(Da)&&(Da=null),ls.forEach(Vg),ss.forEach(Vg)}function kr(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Ky)))}var Mr=null;function Xg(e){Mr!==e&&(Mr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(oc(i||n)===null)continue;break}var d=yi(n);d!==null&&(e.splice(t,3),t-=3,ru(d,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function Fi(e){function t(S){return kr(S,e)}ka!==null&&kr(ka,e),Ma!==null&&kr(Ma,e),Da!==null&&kr(Da,e),ls.forEach(t),ss.forEach(t);for(var n=0;n<Ua.length;n++){var i=Ua[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ua.length&&(n=Ua[0],n.blockedOn===null);)Gg(n),n.blockedOn===null&&Ua.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],d=n[i+1],y=o[nn]||null;if(typeof d=="function")y||Xg(n);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,y=d[nn]||null)b=y.formAction;else if(oc(o)!==null)continue}else b=y.action;typeof b=="function"?n[i+1]=b:(n.splice(i,3),i-=3),Xg(n)}}}function Kg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return o=y})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function cc(e){this._internalRoot=e}Dr.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=yn();Bg(n,i,e,t,null,null)},Dr.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bg(e.current,2,null,e,null,null),gr(),t[mi]=null}};function Dr(e){this._internalRoot=e}Dr.prototype.unstable_scheduleHydration=function(e){if(e){var t=tn();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ua.length&&t!==0&&t<Ua[n].priority;n++);Ua.splice(n,0,e),n===0&&Gg(e)}};var Jg=a.version;if(Jg!=="19.2.0")throw Error(r(527,Jg,"19.2.0"));F.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Jy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{Ae=Ur.inject(Jy),we=Ur}catch{}}return us.createRoot=function(e,t){if(!u(e))throw Error(r(299));var n=!1,i="",o=th,d=nh,y=ah;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=zg(e,1,!1,null,null,n,i,null,o,d,y,Kg),e[mi]=t.current,Vu(e),new cc(t)},us.hydrateRoot=function(e,t,n){if(!u(e))throw Error(r(299));var i=!1,o="",d=th,y=nh,b=ah,S=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=zg(e,1,!0,t,n??null,i,o,S,d,y,b,Kg),t.context=Lg(null),n=t.current,i=yn(),i=Et(i),o=wa(i),o.callback=null,xa(n,o,i),n=i,t.current.lanes=n,Ue(t,n),In(t),e[mi]=t.current,Vu(e),new Dr(t)},us.version="19.2.0",us}var im;function lv(){if(im)return hc.exports;im=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),hc.exports=iv(),hc.exports}var sv=lv();const rv=Pr(sv);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lm="popstate";function ov(l={}){function a(u,c){let{pathname:f="/",search:m="",hash:p=""}=fi(u.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Oc("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(u,c){let f=u.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=u.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof c=="string"?c:ps(c))}function r(u,c){Nn(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return cv(a,s,r,l)}function Rt(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function Nn(l,a){if(!l){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function uv(){return Math.random().toString(36).substring(2,10)}function sm(l,a){return{usr:l.state,key:l.key,idx:a}}function Oc(l,a,s=null,r){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof a=="string"?fi(a):a,state:s,key:a&&a.key||r||uv()}}function ps({pathname:l="/",search:a="",hash:s=""}){return a&&a!=="?"&&(l+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(l+=s.charAt(0)==="#"?s:"#"+s),l}function fi(l){let a={};if(l){let s=l.indexOf("#");s>=0&&(a.hash=l.substring(s),l=l.substring(0,s));let r=l.indexOf("?");r>=0&&(a.search=l.substring(r),l=l.substring(0,r)),l&&(a.pathname=l)}return a}function cv(l,a,s,r={}){let{window:u=document.defaultView,v5Compat:c=!1}=r,f=u.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function w(){m="POP";let O=v(),R=O==null?null:O-g;g=O,p&&p({action:m,location:k.location,delta:R})}function x(O,R){m="PUSH";let G=Oc(k.location,O,R);s&&s(G,O),g=v()+1;let C=sm(G,g),J=k.createHref(G);try{f.pushState(C,"",J)}catch(me){if(me instanceof DOMException&&me.name==="DataCloneError")throw me;u.location.assign(J)}c&&p&&p({action:m,location:k.location,delta:1})}function E(O,R){m="REPLACE";let G=Oc(k.location,O,R);s&&s(G,O),g=v();let C=sm(G,g),J=k.createHref(G);f.replaceState(C,"",J),c&&p&&p({action:m,location:k.location,delta:0})}function N(O){return dv(O)}let k={get action(){return m},get location(){return l(u,f)},listen(O){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(lm,w),p=O,()=>{u.removeEventListener(lm,w),p=null}},createHref(O){return a(u,O)},createURL:N,encodeLocation(O){let R=N(O);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:x,replace:E,go(O){return f.go(O)}};return k}function dv(l,a=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(s,"No window.location.(origin|href) available to create URL");let r=typeof l=="string"?l:ps(l);return r=r.replace(/ $/,"%20"),!a&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Km(l,a,s="/"){return fv(l,a,s,!1)}function fv(l,a,s,r){let u=typeof a=="string"?fi(a):a,c=fa(u.pathname||"/",s);if(c==null)return null;let f=Jm(l);hv(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Ev(c);m=_v(f[p],g,r)}return m}function Jm(l,a=[],s=[],r="",u=!1){let c=(f,m,p=u,g)=>{let v={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;Rt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let w=da([r,v.relativePath]),x=s.concat(v);f.children&&f.children.length>0&&(Rt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),Jm(f.children,a,x,w,p)),!(f.path==null&&!f.index)&&a.push({path:w,score:wv(w,f.index),routesMeta:x})};return l.forEach((f,m)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))c(f,m);else for(let g of Zm(f.path))c(f,m,!0,g)}),a}function Zm(l){let a=l.split("/");if(a.length===0)return[];let[s,...r]=a,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return u?[c,""]:[c];let f=Zm(r.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),u&&m.push(...f),m.map(p=>l.startsWith("/")&&p===""?"/":p)}function hv(l){l.sort((a,s)=>a.score!==s.score?s.score-a.score:xv(a.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var gv=/^:[\w-]+$/,mv=3,pv=2,yv=1,vv=10,bv=-2,rm=l=>l==="*";function wv(l,a){let s=l.split("/"),r=s.length;return s.some(rm)&&(r+=bv),a&&(r+=pv),s.filter(u=>!rm(u)).reduce((u,c)=>u+(gv.test(c)?mv:c===""?yv:vv),r)}function xv(l,a){return l.length===a.length&&l.slice(0,-1).every((r,u)=>r===a[u])?l[l.length-1]-a[a.length-1]:0}function _v(l,a,s=!1){let{routesMeta:r}=l,u={},c="/",f=[];for(let m=0;m<r.length;++m){let p=r[m],g=m===r.length-1,v=c==="/"?a:a.slice(c.length)||"/",w=Vr({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!w&&g&&s&&!r[r.length-1].route.index&&(w=Vr({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!w)return null;Object.assign(u,w.params),f.push({params:u,pathname:da([c,w.pathname]),pathnameBase:Av(da([c,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(c=da([c,w.pathnameBase]))}return f}function Vr(l,a){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[s,r]=Sv(l.path,l.caseSensitive,l.end),u=a.match(s);if(!u)return null;let c=u[0],f=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:w},x)=>{if(v==="*"){let N=m[x]||"";f=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const E=m[x];return w&&!E?g[v]=void 0:g[v]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:l}}function Sv(l,a=!1,s=!0){Nn(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let r=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(r.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),r]}function Ev(l){try{return l.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Nn(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),l}}function fa(l,a){if(a==="/")return l;if(!l.toLowerCase().startsWith(a.toLowerCase()))return null;let s=a.endsWith("/")?a.length-1:a.length,r=l.charAt(s);return r&&r!=="/"?null:l.slice(s)||"/"}function jv(l,a="/"){let{pathname:s,search:r="",hash:u=""}=typeof l=="string"?fi(l):l;return{pathname:s?s.startsWith("/")?s:Tv(s,a):a,search:Rv(r),hash:Ov(u)}}function Tv(l,a){let s=a.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function yc(l,a,s,r){return`Cannot include a '${l}' character in a manually specified \`to.${a}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cv(l){return l.filter((a,s)=>s===0||a.route.path&&a.route.path.length>0)}function Vc(l){let a=Cv(l);return a.map((s,r)=>r===a.length-1?s.pathname:s.pathnameBase)}function Xc(l,a,s,r=!1){let u;typeof l=="string"?u=fi(l):(u={...l},Rt(!u.pathname||!u.pathname.includes("?"),yc("?","pathname","search",u)),Rt(!u.pathname||!u.pathname.includes("#"),yc("#","pathname","hash",u)),Rt(!u.search||!u.search.includes("#"),yc("#","search","hash",u)));let c=l===""||u.pathname==="",f=c?"/":u.pathname,m;if(f==null)m=s;else{let w=a.length-1;if(!r&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),w-=1;u.pathname=x.join("/")}m=w>=0?a[w]:"/"}let p=jv(u,m),g=f&&f!=="/"&&f.endsWith("/"),v=(c||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var da=l=>l.join("/").replace(/\/\/+/g,"/"),Av=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Rv=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Ov=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Nv(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var Qm=["POST","PUT","PATCH","DELETE"];new Set(Qm);var kv=["GET",...Qm];new Set(kv);var pl=_.createContext(null);pl.displayName="DataRouter";var Fr=_.createContext(null);Fr.displayName="DataRouterState";_.createContext(!1);var Pm=_.createContext({isTransitioning:!1});Pm.displayName="ViewTransition";var Mv=_.createContext(new Map);Mv.displayName="Fetchers";var Dv=_.createContext(null);Dv.displayName="Await";var Bn=_.createContext(null);Bn.displayName="Navigation";var ws=_.createContext(null);ws.displayName="Location";var Gn=_.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var Kc=_.createContext(null);Kc.displayName="RouteError";function Uv(l,{relative:a}={}){Rt(yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=_.useContext(Bn),{hash:u,pathname:c,search:f}=xs(l,{relative:a}),m=c;return s!=="/"&&(m=c==="/"?s:da([s,c])),r.createHref({pathname:m,search:f,hash:u})}function yl(){return _.useContext(ws)!=null}function Vn(){return Rt(yl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(ws).location}var Fm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wm(l){_.useContext(Bn).static||_.useLayoutEffect(l)}function $a(){let{isDataRoute:l}=_.useContext(Gn);return l?Jv():zv()}function zv(){Rt(yl(),"useNavigate() may be used only in the context of a <Router> component.");let l=_.useContext(pl),{basename:a,navigator:s}=_.useContext(Bn),{matches:r}=_.useContext(Gn),{pathname:u}=Vn(),c=JSON.stringify(Vc(r)),f=_.useRef(!1);return Wm(()=>{f.current=!0}),_.useCallback((p,g={})=>{if(Nn(f.current,Fm),!f.current)return;if(typeof p=="number"){s.go(p);return}let v=Xc(p,JSON.parse(c),u,g.relative==="path");l==null&&a!=="/"&&(v.pathname=v.pathname==="/"?a:da([a,v.pathname])),(g.replace?s.replace:s.push)(v,g.state,g)},[a,s,c,u,l])}_.createContext(null);function xs(l,{relative:a}={}){let{matches:s}=_.useContext(Gn),{pathname:r}=Vn(),u=JSON.stringify(Vc(s));return _.useMemo(()=>Xc(l,JSON.parse(u),r,a==="path"),[l,u,r,a])}function Lv(l,a){return e0(l,a)}function e0(l,a,s,r,u){var G;Rt(yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=_.useContext(Bn),{matches:f}=_.useContext(Gn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",w=m&&m.route;{let C=w&&w.path||"";t0(g,!w||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let x=Vn(),E;if(a){let C=typeof a=="string"?fi(a):a;Rt(v==="/"||((G=C.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${C.pathname}" was given in the \`location\` prop.`),E=C}else E=x;let N=E.pathname||"/",k=N;if(v!=="/"){let C=v.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let O=Km(l,{pathname:k});Nn(w||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Nn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Iv(O&&O.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:da([v,c.encodeLocation?c.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:da([v,c.encodeLocation?c.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),f,s,r,u);return a&&R?_.createElement(ws.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function Bv(){let l=Kv(),a=Nv(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),s=l instanceof Error?l.stack:null,r="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",l),f=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:c},"ErrorBoundary")," or"," ",_.createElement("code",{style:c},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},a),s?_.createElement("pre",{style:u},s):null,f)}var Hv=_.createElement(Bv,null),qv=class extends _.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,a){return a.location!==l.location||a.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:a.error,location:a.location,revalidation:l.revalidation||a.revalidation}}componentDidCatch(l,a){this.props.unstable_onError?this.props.unstable_onError(l,a):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?_.createElement(Gn.Provider,{value:this.props.routeContext},_.createElement(Kc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $v({routeContext:l,match:a,children:s}){let r=_.useContext(pl);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),_.createElement(Gn.Provider,{value:l},s)}function Iv(l,a=[],s=null,r=null,u=null){if(l==null){if(!s)return null;if(s.errors)l=s.matches;else if(a.length===0&&!s.initialized&&s.matches.length>0)l=s.matches;else return null}let c=l,f=s==null?void 0:s.errors;if(f!=null){let g=c.findIndex(v=>v.route.id&&(f==null?void 0:f[v.route.id])!==void 0);Rt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,p=-1;if(s)for(let g=0;g<c.length;g++){let v=c[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:w,errors:x}=s,E=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!x||x[v.route.id]===void 0);if(v.route.lazy||E){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((g,v,w)=>{let x,E=!1,N=null,k=null;s&&(x=f&&v.route.id?f[v.route.id]:void 0,N=v.route.errorElement||Hv,m&&(p<0&&w===0?(t0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):p===w&&(E=!0,k=v.route.hydrateFallbackElement||null)));let O=a.concat(c.slice(0,w+1)),R=()=>{let G;return x?G=N:E?G=k:v.route.Component?G=_.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=g,_.createElement($v,{match:v,routeContext:{outlet:g,matches:O,isDataRoute:s!=null},children:G})};return s&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?_.createElement(qv,{location:s.location,revalidation:s.revalidation,component:N,error:x,children:R(),routeContext:{outlet:null,matches:O,isDataRoute:!0},unstable_onError:r}):R()},null)}function Jc(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yv(l){let a=_.useContext(pl);return Rt(a,Jc(l)),a}function Gv(l){let a=_.useContext(Fr);return Rt(a,Jc(l)),a}function Vv(l){let a=_.useContext(Gn);return Rt(a,Jc(l)),a}function Zc(l){let a=Vv(l),s=a.matches[a.matches.length-1];return Rt(s.route.id,`${l} can only be used on routes that contain a unique "id"`),s.route.id}function Xv(){return Zc("useRouteId")}function Kv(){var r;let l=_.useContext(Kc),a=Gv("useRouteError"),s=Zc("useRouteError");return l!==void 0?l:(r=a.errors)==null?void 0:r[s]}function Jv(){let{router:l}=Yv("useNavigate"),a=Zc("useNavigate"),s=_.useRef(!1);return Wm(()=>{s.current=!0}),_.useCallback(async(u,c={})=>{Nn(s.current,Fm),s.current&&(typeof u=="number"?l.navigate(u):await l.navigate(u,{fromRouteId:a,...c}))},[l,a])}var om={};function t0(l,a,s){!a&&!om[l]&&(om[l]=!0,Nn(!1,s))}_.memo(Zv);function Zv({routes:l,future:a,state:s,unstable_onError:r}){return e0(l,void 0,s,r,a)}function n0({to:l,replace:a,state:s,relative:r}){Rt(yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=_.useContext(Bn);Nn(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=_.useContext(Gn),{pathname:f}=Vn(),m=$a(),p=Xc(l,Vc(c),f,r==="path"),g=JSON.stringify(p);return _.useEffect(()=>{m(JSON.parse(g),{replace:a,state:s,relative:r})},[m,g,r,a,s]),null}function cl(l){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qv({basename:l="/",children:a=null,location:s,navigationType:r="POP",navigator:u,static:c=!1}){Rt(!yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=l.replace(/^\/*/,"/"),m=_.useMemo(()=>({basename:f,navigator:u,static:c,future:{}}),[f,u,c]);typeof s=="string"&&(s=fi(s));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:x="default"}=s,E=_.useMemo(()=>{let N=fa(p,f);return N==null?null:{location:{pathname:N,search:g,hash:v,state:w,key:x},navigationType:r}},[f,p,g,v,w,x,r]);return Nn(E!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:_.createElement(Bn.Provider,{value:m},_.createElement(ws.Provider,{children:a,value:E}))}function Pv({children:l,location:a}){return Lv(Nc(l),a)}function Nc(l,a=[]){let s=[];return _.Children.forEach(l,(r,u)=>{if(!_.isValidElement(r))return;let c=[...a,u];if(r.type===_.Fragment){s.push.apply(s,Nc(r.props.children,c));return}Rt(r.type===cl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Nc(r.props.children,c)),s.push(f)}),s}var Yr="get",Gr="application/x-www-form-urlencoded";function Wr(l){return l!=null&&typeof l.tagName=="string"}function Fv(l){return Wr(l)&&l.tagName.toLowerCase()==="button"}function Wv(l){return Wr(l)&&l.tagName.toLowerCase()==="form"}function eb(l){return Wr(l)&&l.tagName.toLowerCase()==="input"}function tb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function nb(l,a){return l.button===0&&(!a||a==="_self")&&!tb(l)}var zr=null;function ab(){if(zr===null)try{new FormData(document.createElement("form"),0),zr=!1}catch{zr=!0}return zr}var ib=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vc(l){return l!=null&&!ib.has(l)?(Nn(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gr}"`),null):l}function lb(l,a){let s,r,u,c,f;if(Wv(l)){let m=l.getAttribute("action");r=m?fa(m,a):null,s=l.getAttribute("method")||Yr,u=vc(l.getAttribute("enctype"))||Gr,c=new FormData(l)}else if(Fv(l)||eb(l)&&(l.type==="submit"||l.type==="image")){let m=l.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=l.getAttribute("formaction")||m.getAttribute("action");if(r=p?fa(p,a):null,s=l.getAttribute("formmethod")||m.getAttribute("method")||Yr,u=vc(l.getAttribute("formenctype"))||vc(m.getAttribute("enctype"))||Gr,c=new FormData(m,l),!ab()){let{name:g,type:v,value:w}=l;if(v==="image"){let x=g?`${g}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else g&&c.append(g,w)}}else{if(Wr(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Yr,r=null,u=Gr,f=l}return c&&u==="text/plain"&&(f=c,c=void 0),{action:r,method:s.toLowerCase(),encType:u,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qc(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function sb(l,a,s){let r=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return r.pathname==="/"?r.pathname=`_root.${s}`:a&&fa(r.pathname,a)==="/"?r.pathname=`${a.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function rb(l,a){if(l.id in a)return a[l.id];try{let s=await import(l.module);return a[l.id]=s,s}catch(s){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ob(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function ub(l,a,s){let r=await Promise.all(l.map(async u=>{let c=a.routes[u.route.id];if(c){let f=await rb(c,s);return f.links?f.links():[]}return[]}));return hb(r.flat(1).filter(ob).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function um(l,a,s,r,u,c){let f=(p,g)=>s[g]?p.route.id!==s[g].route.id:!0,m=(p,g)=>{var v;return s[g].pathname!==p.pathname||((v=s[g].route.path)==null?void 0:v.endsWith("*"))&&s[g].params["*"]!==p.params["*"]};return c==="assets"?a.filter((p,g)=>f(p,g)||m(p,g)):c==="data"?a.filter((p,g)=>{var w;let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((w=s[0])==null?void 0:w.params)||{},nextUrl:new URL(l,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function cb(l,a,{includeHydrateFallback:s}={}){return db(l.map(r=>{let u=a.routes[r.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function db(l){return[...new Set(l)]}function fb(l){let a={},s=Object.keys(l).sort();for(let r of s)a[r]=l[r];return a}function hb(l,a){let s=new Set;return new Set(a),l.reduce((r,u)=>{let c=JSON.stringify(fb(u));return s.has(c)||(s.add(c),r.push({key:c,link:u})),r},[])}function a0(){let l=_.useContext(pl);return Qc(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function gb(){let l=_.useContext(Fr);return Qc(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Pc=_.createContext(void 0);Pc.displayName="FrameworkContext";function i0(){let l=_.useContext(Pc);return Qc(l,"You must render this element inside a <HydratedRouter> element"),l}function mb(l,a){let s=_.useContext(Pc),[r,u]=_.useState(!1),[c,f]=_.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:w}=a,x=_.useRef(null);_.useEffect(()=>{if(l==="render"&&f(!0),l==="viewport"){let k=R=>{R.forEach(G=>{f(G.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[l]),_.useEffect(()=>{if(r){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[r]);let E=()=>{u(!0)},N=()=>{u(!1),f(!1)};return s?l!=="intent"?[c,x,{}]:[c,x,{onFocus:cs(m,E),onBlur:cs(p,N),onMouseEnter:cs(g,E),onMouseLeave:cs(v,N),onTouchStart:cs(w,E)}]:[!1,x,{}]}function cs(l,a){return s=>{l&&l(s),s.defaultPrevented||a(s)}}function pb({page:l,...a}){let{router:s}=a0(),r=_.useMemo(()=>Km(s.routes,l,s.basename),[s.routes,l,s.basename]);return r?_.createElement(vb,{page:l,matches:r,...a}):null}function yb(l){let{manifest:a,routeModules:s}=i0(),[r,u]=_.useState([]);return _.useEffect(()=>{let c=!1;return ub(l,a,s).then(f=>{c||u(f)}),()=>{c=!0}},[l,a,s]),r}function vb({page:l,matches:a,...s}){let r=Vn(),{manifest:u,routeModules:c}=i0(),{basename:f}=a0(),{loaderData:m,matches:p}=gb(),g=_.useMemo(()=>um(l,a,p,u,r,"data"),[l,a,p,u,r]),v=_.useMemo(()=>um(l,a,p,u,r,"assets"),[l,a,p,u,r]),w=_.useMemo(()=>{if(l===r.pathname+r.search+r.hash)return[];let N=new Set,k=!1;if(a.forEach(R=>{var C;let G=u.routes[R.route.id];!G||!G.hasLoader||(!g.some(J=>J.route.id===R.route.id)&&R.route.id in m&&((C=c[R.route.id])!=null&&C.shouldRevalidate)||G.hasClientLoader?k=!0:N.add(R.route.id))}),N.size===0)return[];let O=sb(l,f,"data");return k&&N.size>0&&O.searchParams.set("_routes",a.filter(R=>N.has(R.route.id)).map(R=>R.route.id).join(",")),[O.pathname+O.search]},[f,m,r,u,g,a,l,c]),x=_.useMemo(()=>cb(v,u),[v,u]),E=yb(v);return _.createElement(_.Fragment,null,w.map(N=>_.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),x.map(N=>_.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),E.map(({key:N,link:k})=>_.createElement("link",{key:N,nonce:s.nonce,...k})))}function bb(...l){return a=>{l.forEach(s=>{typeof s=="function"?s(a):s!=null&&(s.current=a)})}}var l0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l0&&(window.__reactRouterVersion="7.9.4")}catch{}function wb({basename:l,children:a,window:s}){let r=_.useRef();r.current==null&&(r.current=ov({window:s,v5Compat:!0}));let u=r.current,[c,f]=_.useState({action:u.action,location:u.location}),m=_.useCallback(p=>{_.startTransition(()=>f(p))},[f]);return _.useLayoutEffect(()=>u.listen(m),[u,m]),_.createElement(Qv,{basename:l,children:a,location:c.location,navigationType:c.action,navigator:u})}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ys=_.forwardRef(function({onClick:a,discover:s="render",prefetch:r="none",relative:u,reloadDocument:c,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:w,...x},E){let{basename:N}=_.useContext(Bn),k=typeof g=="string"&&s0.test(g),O,R=!1;if(typeof g=="string"&&k&&(O=g,l0))try{let V=new URL(window.location.href),oe=g.startsWith("//")?new URL(V.protocol+g):new URL(g),ie=fa(oe.pathname,N);oe.origin===V.origin&&ie!=null?g=ie+oe.search+oe.hash:R=!0}catch{Nn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=Uv(g,{relative:u}),[C,J,me]=mb(r,x),te=Eb(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:u,viewTransition:w});function P(V){a&&a(V),V.defaultPrevented||te(V)}let Me=_.createElement("a",{...x,...me,href:O||G,onClick:R||c?a:P,ref:bb(E,J),target:p,"data-discover":!k&&s==="render"?"true":void 0});return C&&!k?_.createElement(_.Fragment,null,Me,_.createElement(pb,{page:G})):Me});ys.displayName="Link";var xb=_.forwardRef(function({"aria-current":a="page",caseSensitive:s=!1,className:r="",end:u=!1,style:c,to:f,viewTransition:m,children:p,...g},v){let w=xs(f,{relative:g.relative}),x=Vn(),E=_.useContext(Fr),{navigator:N,basename:k}=_.useContext(Bn),O=E!=null&&Rb(w)&&m===!0,R=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,G=x.pathname,C=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;s||(G=G.toLowerCase(),C=C?C.toLowerCase():null,R=R.toLowerCase()),C&&k&&(C=fa(C,k)||C);const J=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let me=G===R||!u&&G.startsWith(R)&&G.charAt(J)==="/",te=C!=null&&(C===R||!u&&C.startsWith(R)&&C.charAt(R.length)==="/"),P={isActive:me,isPending:te,isTransitioning:O},Me=me?a:void 0,V;typeof r=="function"?V=r(P):V=[r,me?"active":null,te?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let oe=typeof c=="function"?c(P):c;return _.createElement(ys,{...g,"aria-current":Me,className:V,ref:v,style:oe,to:f,viewTransition:m},typeof p=="function"?p(P):p)});xb.displayName="NavLink";var _b=_.forwardRef(({discover:l="render",fetcherKey:a,navigate:s,reloadDocument:r,replace:u,state:c,method:f=Yr,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:w,...x},E)=>{let N=Cb(),k=Ab(m,{relative:g}),O=f.toLowerCase()==="get"?"get":"post",R=typeof m=="string"&&s0.test(m),G=C=>{if(p&&p(C),C.defaultPrevented)return;C.preventDefault();let J=C.nativeEvent.submitter,me=(J==null?void 0:J.getAttribute("formmethod"))||f;N(J||C.currentTarget,{fetcherKey:a,method:me,navigate:s,replace:u,state:c,relative:g,preventScrollReset:v,viewTransition:w})};return _.createElement("form",{ref:E,method:O,action:k,onSubmit:r?p:G,...x,"data-discover":!R&&l==="render"?"true":void 0})});_b.displayName="Form";function Sb(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r0(l){let a=_.useContext(pl);return Rt(a,Sb(l)),a}function Eb(l,{target:a,replace:s,state:r,preventScrollReset:u,relative:c,viewTransition:f}={}){let m=$a(),p=Vn(),g=xs(l,{relative:c});return _.useCallback(v=>{if(nb(v,a)){v.preventDefault();let w=s!==void 0?s:ps(p)===ps(g);m(l,{replace:w,state:r,preventScrollReset:u,relative:c,viewTransition:f})}},[p,m,g,s,r,a,l,u,c,f])}var jb=0,Tb=()=>`__${String(++jb)}__`;function Cb(){let{router:l}=r0("useSubmit"),{basename:a}=_.useContext(Bn),s=Xv();return _.useCallback(async(r,u={})=>{let{action:c,method:f,encType:m,formData:p,body:g}=lb(r,a);if(u.navigate===!1){let v=u.fetcherKey||Tb();await l.fetch(v,s,u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:g,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await l.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:p,body:g,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:s,flushSync:u.flushSync,viewTransition:u.viewTransition})},[l,a,s])}function Ab(l,{relative:a}={}){let{basename:s}=_.useContext(Bn),r=_.useContext(Gn);Rt(r,"useFormAction must be used inside a RouteContext");let[u]=r.matches.slice(-1),c={...xs(l||".",{relative:a})},f=Vn();if(l==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let v=m.toString();c.search=v?`?${v}`:""}}return(!l||l===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:da([s,c.pathname])),ps(c)}function Rb(l,{relative:a}={}){let s=_.useContext(Pm);Rt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r0("useViewTransitionState"),u=xs(l,{relative:a});if(!s.isTransitioning)return!1;let c=fa(s.currentLocation.pathname,r)||s.currentLocation.pathname,f=fa(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Vr(u.pathname,f)!=null||Vr(u.pathname,c)!=null}var Ob=Xm();const Nb=Pr(Ob),Fc=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2V6"}),h.jsx("path",{d:"M16 2v20"}),h.jsx("path",{d:"M16 7h-6"}),h.jsx("path",{d:"M16 12h-6"}),h.jsx("path",{d:"M16 17h-6"}),h.jsx("path",{d:"M10 7h-4"}),h.jsx("path",{d:"M10 12h-4"}),h.jsx("path",{d:"M10 17h-4"})]}),o0=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M5 12h14"}),h.jsx("path",{d:"M12 5v14"})]}),kb=l=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:h.jsx("path",{d:"M5 12h14"})}),Mb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("circle",{cx:"11",cy:"11",r:"8"}),h.jsx("path",{d:"m21 21-4.3-4.3"})]}),Db=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M17 6.1H7"}),h.jsx("path",{d:"M21 12.1H3"}),h.jsx("path",{d:"M15 18.1H9"}),h.jsx("path",{d:"M12 3v18"})]}),u0=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),h.jsx("circle",{cx:"9",cy:"9",r:"2"}),h.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),Ub=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("circle",{cx:"6",cy:"6",r:"3"}),h.jsx("circle",{cx:"6",cy:"18",r:"3"}),h.jsx("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),h.jsx("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),h.jsx("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"})]}),zb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M3 7v6h6"}),h.jsx("path",{d:"M21 17a9 9 0 0 0-16-4.05"})]}),Lb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M21 7v6h-6"}),h.jsx("path",{d:"M3 17a9 9 0 0 1 16-4.05"})]}),Wc=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M3 6h18"}),h.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),h.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),h.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),c0=l=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:h.jsx("path",{d:"m18 15-6-6-6 6"})}),Bb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"m17 11-5-5-5 5"}),h.jsx("path",{d:"m17 18-5-5-5 5"})]}),Hb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"m7 13 5 5 5-5"}),h.jsx("path",{d:"m7 6 5 5 5-5"})]}),Xr=l=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:h.jsx("path",{d:"m6 9 6 6 6-6"})}),qb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("rect",{width:"14",height:"6",x:"5",y:"14",rx:"2"}),h.jsx("rect",{width:"10",height:"6",x:"7",y:"4",rx:"2"}),h.jsx("path",{d:"M2 2v20"}),h.jsx("path",{d:"M22 2v20"})]}),$b=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("rect",{width:"14",height:"6",x:"5",y:"12",rx:"2"}),h.jsx("rect",{width:"10",height:"6",x:"7",y:"2",rx:"2"}),h.jsx("path",{d:"M2 2v20"}),h.jsx("path",{d:"M22 2v20"})]}),Ib=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("rect",{width:"14",height:"6",x:"5",y:"4",rx:"2"}),h.jsx("rect",{width:"10",height:"6",x:"7",y:"14",rx:"2"}),h.jsx("path",{d:"M2 2v20"}),h.jsx("path",{d:"M22 2v20"})]}),Yb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"m12.35 6.65.53 1.62.53-1.62a3.8 3.8 0 0 1 5.4-5.4l1.62.54-1.62.53a3.8 3.8 0 0 1-5.4 5.4Z"}),h.jsx("path",{d:"M21.17 12.83c-2 .5-3.5-1-4.17-2.17-1.33-2.33-3.67-4.67-6-7-2.33 2.33-4.67 4.67-7 6 .67 1.17-.67 3.17-2.17 4.17 1 1.5 3 2.5 4.17 2.17 1.17-.33 2.17 1.17 2.17 2.17 1 1.5 2.5 3 4.17 4.17.33-1.17 1.83-2.17 2.83-2.17 1.5 1 2.5 3 4.17 4.17.5-2 2-3.5 2.17-4.17-.33-1.17 1.17-2.17 2.17-2.17Z"})]}),cm=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08"}),h.jsx("path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z"})]}),Gb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),h.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),dm=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),h.jsx("path",{d:"M3 3v5h5"}),h.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),h.jsx("path",{d:"M21 21v-5h-5"})]}),Vb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M18 6 6 18"}),h.jsx("path",{d:"M6 6l12 12"})]}),Xb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("path",{d:"M12 19V4M12 4H7M12 4h5"}),h.jsx("path",{d:"M13 19V4M13 4H8M13 4h5",opacity:"0.4"})]}),Kb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",...l,children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),h.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]}),bc=l=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:h.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Jb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("path",{d:"m4.93 4.93 14.14 14.14"})]}),Zb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("line",{x1:"17",y1:"10",x2:"3",y2:"10"}),h.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),h.jsx("line",{x1:"17",y1:"14",x2:"3",y2:"14"}),h.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]}),Qb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("line",{x1:"18",y1:"10",x2:"6",y2:"10"}),h.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),h.jsx("line",{x1:"18",y1:"14",x2:"6",y2:"14"}),h.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]}),Pb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("line",{x1:"7",y1:"10",x2:"21",y2:"10"}),h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"7",y1:"14",x2:"21",y2:"14"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]}),Fb=l=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...l,children:[h.jsx("line",{x1:"21",y1:"10",x2:"3",y2:"10"}),h.jsx("line",{x1:"21",y1:"6",x2:"3",y2:"6"}),h.jsx("line",{x1:"21",y1:"14",x2:"3",y2:"14"}),h.jsx("line",{x1:"21",y1:"18",x2:"3",y2:"18"})]}),Wb="modulepreload",ew=function(l){return"/Ihulan-cover/"+l},fm={},_s=function(a,s,r){let u=Promise.resolve();if(s&&s.length>0){let f=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));u=f(s.map(g=>{if(g=ew(g),g in fm)return;fm[g]=!0;const v=g.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Wb,v||(x.as="script"),x.crossOrigin="",x.href=g,p&&x.setAttribute("nonce",p),document.head.appendChild(x),v)return new Promise((E,N)=>{x.addEventListener("load",E),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return u.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return a().catch(c)})},tw=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...s)=>_s(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},[]).then(({default:r})=>r(...s)):a=fetch,(...s)=>a(...s)};class ed extends Error{constructor(a,s="FunctionsError",r){super(a),this.name=s,this.context=r}}class hm extends ed{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class gm extends ed{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class mm extends ed{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var kc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(kc||(kc={}));var nw=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};class aw{constructor(a,{headers:s={},customFetch:r,region:u=kc.Any}={}){this.url=a,this.headers=s,this.region=u,this.fetch=tw(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return nw(this,arguments,void 0,function*(s,r={}){var u;try{const{headers:c,method:f,body:m,signal:p}=r;let g={},{region:v}=r;v||(v=this.region);const w=new URL(`${this.url}/${s}`);v&&v!=="any"&&(g["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let x;m&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",x=m):typeof m=="string"?(g["Content-Type"]="text/plain",x=m):typeof FormData<"u"&&m instanceof FormData?x=m:(g["Content-Type"]="application/json",x=JSON.stringify(m)));const E=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:x,signal:p}).catch(R=>{throw R.name==="AbortError"?R:new hm(R)}),N=E.headers.get("x-relay-error");if(N&&N==="true")throw new gm(E);if(!E.ok)throw new mm(E);let k=((u=E.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),O;return k==="application/json"?O=yield E.json():k==="application/octet-stream"?O=yield E.blob():k==="text/event-stream"?O=E:k==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new hm(c)}:{data:null,error:c,response:c instanceof mm||c instanceof gm?c.context:void 0}}})}}var Jt={},Wi={},el={},tl={},nl={},al={},iw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ml=iw();const lw=ml.fetch,d0=ml.fetch.bind(ml),f0=ml.Headers,sw=ml.Request,rw=ml.Response,vl=Object.freeze(Object.defineProperty({__proto__:null,Headers:f0,Request:sw,Response:rw,default:d0,fetch:lw},Symbol.toStringTag,{value:"Module"})),ow=Qy(vl);var Lr={},pm;function h0(){if(pm)return Lr;pm=1,Object.defineProperty(Lr,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Lr.default=l,Lr}var ym;function g0(){if(ym)return al;ym=1;var l=al&&al.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(al,"__esModule",{value:!0});const a=l(ow),s=l(h0());class r{constructor(c){var f,m;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(f=c.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=c.signal,this.isMaybeSingle=(m=c.isMaybeSingle)!==null&&m!==void 0?m:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=new Headers(this.headers),this.headers.set(c,f),this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var v,w,x,E;let N=null,k=null,O=null,R=g.status,G=g.statusText;if(g.ok){if(this.method!=="HEAD"){const te=await g.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?k=te:k=JSON.parse(te))}const J=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),me=(x=g.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");J&&me&&me.length>1&&(O=parseInt(me[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(N={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,O=null,R=406,G="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const J=await g.text();try{N=JSON.parse(J),Array.isArray(N)&&g.status===404&&(k=[],N=null,R=200,G="OK")}catch{g.status===404&&J===""?(R=204,G="No Content"):N={message:J}}if(N&&this.isMaybeSingle&&(!((E=N==null?void 0:N.details)===null||E===void 0)&&E.includes("0 rows"))&&(N=null,R=200,G="OK"),N&&this.shouldThrowOnError)throw new s.default(N)}return{error:N,data:k,count:O,status:R,statusText:G}});return this.shouldThrowOnError||(p=p.catch(g=>{var v,w,x;return{error:{message:`${(v=g==null?void 0:g.name)!==null&&v!==void 0?v:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(w=g==null?void 0:g.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(x=g==null?void 0:g.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,f)}returns(){return this}overrideTypes(){return this}}return al.default=r,al}var vm;function m0(){if(vm)return nl;vm=1;var l=nl&&nl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nl,"__esModule",{value:!0});const a=l(g0());class s extends a.default{select(u){let c=!1;const f=(u??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:f,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${u}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${u}`),this}range(u,c,{foreignTable:f,referencedTable:m=f}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${u}`),this.url.searchParams.set(g,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:f=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var v;const w=[u?"analyze":null,c?"verbose":null,f?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),x=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${x}"; options=${w};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return nl.default=s,nl}var bm;function td(){if(bm)return tl;bm=1;var l=tl&&tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tl,"__esModule",{value:!0});const a=l(m0());class s extends a.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}in(u,c){const f=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:f,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${p}fts${g}.${c}`),this}match(u){return Object.entries(u).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(u,c,f){return this.url.searchParams.append(u,`not.${c}.${f}`),this}or(u,{foreignTable:c,referencedTable:f=c}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${u})`),this}filter(u,c,f){return this.url.searchParams.append(u,`${c}.${f}`),this}}return tl.default=s,tl}var wm;function p0(){if(wm)return el;wm=1;var l=el&&el.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(el,"__esModule",{value:!0});const a=l(td());class s{constructor(u,{headers:c={},schema:f,fetch:m}){this.url=u,this.headers=new Headers(c),this.schema=f,this.fetch=m}select(u,c){const{head:f=!1,count:m}=c??{},p=f?"HEAD":"GET";let g=!1;const v=(u??"*").split("").map(w=>/\s/.test(w)&&!g?"":(w==='"'&&(g=!g),w)).join("");return this.url.searchParams.set("select",v),m&&this.headers.append("Prefer",`count=${m}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:f=!0}={}){var m;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(g.length>0){const v=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:f=!1,count:m,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const w=u.reduce((x,E)=>x.concat(Object.keys(E)),[]);if(w.length>0){const x=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",x.join(","))}}return new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:c}={}){var f;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var c;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return el.default=s,el}var xm;function uw(){if(xm)return Wi;xm=1;var l=Wi&&Wi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Wi,"__esModule",{value:!0});const a=l(p0()),s=l(td());class r{constructor(c,{headers:f={},schema:m,fetch:p}={}){this.url=c,this.headers=new Headers(f),this.schemaName=m,this.fetch=p}from(c){const f=new URL(`${this.url}/${c}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:m=!1,get:p=!1,count:g}={}){var v;let w;const x=new URL(`${this.url}/rpc/${c}`);let E;m||p?(w=m?"HEAD":"GET",Object.entries(f).filter(([k,O])=>O!==void 0).map(([k,O])=>[k,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([k,O])=>{x.searchParams.append(k,O)})):(w="POST",E=f);const N=new Headers(this.headers);return g&&N.set("Prefer",`count=${g}`),new s.default({method:w,url:x,headers:N,schema:this.schemaName,body:E,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Wi.default=r,Wi}var _m;function cw(){if(_m)return Jt;_m=1;var l=Jt&&Jt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const a=l(uw());Jt.PostgrestClient=a.default;const s=l(p0());Jt.PostgrestQueryBuilder=s.default;const r=l(td());Jt.PostgrestFilterBuilder=r.default;const u=l(m0());Jt.PostgrestTransformBuilder=u.default;const c=l(g0());Jt.PostgrestBuilder=c.default;const f=l(h0());return Jt.PostgrestError=f.default,Jt.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:f.default},Jt}var dw=cw();const fw=Pr(dw),{PostgrestClient:hw,PostgrestQueryBuilder:Z_,PostgrestFilterBuilder:Q_,PostgrestTransformBuilder:P_,PostgrestBuilder:F_,PostgrestError:W_}=fw;class gw{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,u=parseInt(r.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`

Suggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){const r=this.getWebSocketConstructor();return new r(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const mw="2.75.1",pw=`realtime-js/${mw}`,yw="1.0.0",Mc=1e4,vw=1e3,bw=100;var hs;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(hs||(hs={}));var Gt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Gt||(Gt={}));var Ln;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Ln||(Ln={}));var Dc;(function(l){l.websocket="websocket"})(Dc||(Dc={}));var ui;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(ui||(ui={}));class ww{constructor(){this.HEADER_LENGTH=1}decode(a,s){return a.constructor===ArrayBuffer?s(this._binaryDecode(a)):s(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const s=new DataView(a),r=new TextDecoder;return this._decodeBroadcast(a,s,r)}_decodeBroadcast(a,s,r){const u=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const m=r.decode(a.slice(f,f+u));f=f+u;const p=r.decode(a.slice(f,f+c));f=f+c;const g=JSON.parse(r.decode(a.slice(f,a.byteLength)));return{ref:null,topic:m,event:p,payload:g}}}class y0{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(jt||(jt={}));const Sm=(l,a,s={})=>{var r;const u=(r=s.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((c,f)=>(c[f]=xw(f,l,a,u),c),{}):{}},xw=(l,a,s,r)=>{const u=a.find(m=>m.name===l),c=u==null?void 0:u.type,f=s[l];return c&&!r.includes(c)?v0(c,f):Uc(f)},v0=(l,a)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return jw(a,s)}switch(l){case jt.bool:return _w(a);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return Sw(a);case jt.json:case jt.jsonb:return Ew(a);case jt.timestamp:return Tw(a);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return Uc(a);default:return Uc(a)}},Uc=l=>l,_w=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Sw=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},Ew=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},jw=(l,a)=>{if(typeof l!="string")return l;const s=l.length-1,r=l[s];if(l[0]==="{"&&r==="}"){let c;const f=l.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>v0(a,m))}return l},Tw=l=>typeof l=="string"?l.replace(" ","T"):l,b0=l=>{let a=l;return a=a.replace(/^ws/i,"http"),a=a.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),a.replace(/\/+$/,"")+"/api/broadcast"};class wc{constructor(a,s,r={},u=Mc){this.channel=a,this.event=s,this.payload=r,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var r;return this._hasReceived(a)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Em;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Em||(Em={}));class gs{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},u=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,u,c,f),this.pendingDiffs.forEach(p=>{this.state=gs.syncDiff(this.state,p,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},u=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=gs.syncDiff(this.state,u,c,f),m())}),this.onJoin((u,c,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:f})}),this.onLeave((u,c,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,r,u){const c=this.cloneDeep(a),f=this.transformState(s),m={},p={};return this.map(c,(g,v)=>{f[g]||(p[g]=v)}),this.map(f,(g,v)=>{const w=c[g];if(w){const x=v.map(O=>O.presence_ref),E=w.map(O=>O.presence_ref),N=v.filter(O=>E.indexOf(O.presence_ref)<0),k=w.filter(O=>x.indexOf(O.presence_ref)<0);N.length>0&&(m[g]=N),k.length>0&&(p[g]=k)}else m[g]=v}),this.syncDiff(c,{joins:m,leaves:p},r,u)}static syncDiff(a,s,r,u){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),u||(u=()=>{}),this.map(c,(m,p)=>{var g;const v=(g=a[m])!==null&&g!==void 0?g:[];if(a[m]=this.cloneDeep(p),v.length>0){const w=a[m].map(E=>E.presence_ref),x=v.filter(E=>w.indexOf(E.presence_ref)<0);a[m].unshift(...x)}r(m,v,p)}),this.map(f,(m,p)=>{let g=a[m];if(!g)return;const v=p.map(w=>w.presence_ref);g=g.filter(w=>v.indexOf(w.presence_ref)<0),a[m]=g,u(m,g,p),g.length===0&&delete a[m]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(r=>s(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,r)=>{const u=a[r];return"metas"in u?s[r]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[r]=u,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jm;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(jm||(jm={}));var ms;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(ms||(ms={}));var ca;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(ca||(ca={}));class nd{constructor(a,s={config:{}},r){var u,c;if(this.topic=a,this.params=s,this.socket=r,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new wc(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new y0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new gs(this),this.broadcastEndpointURL=b0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var r,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(u=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[ms.PRESENCE]&&this.bindings[ms.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},x={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>a==null?void 0:a(ca.CHANNEL_ERROR,E)),this._onClose(()=>a==null?void 0:a(ca.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:E})=>{var N;if(this.socket.setAuth(),E===void 0){a==null||a(ca.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,O=(N=k==null?void 0:k.length)!==null&&N!==void 0?N:0,R=[];for(let G=0;G<O;G++){const C=k[G],{filter:{event:J,schema:me,table:te,filter:P}}=C,Me=E&&E[G];if(Me&&Me.event===J&&Me.schema===me&&Me.table===te&&Me.filter===P)R.push(Object.assign(Object.assign({},C),{id:Me.id}));else{this.unsubscribe(),this.state=Gt.errored,a==null||a(ca.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,a&&a(ca.SUBSCRIBED);return}}).receive("error",E=>{this.state=Gt.errored,a==null||a(ca.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(ca.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,s={}){return await this.send({type:"presence",event:"track",payload:a},s.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,s,r){return this.state===Gt.joined&&a===ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,s,r)}async send(a,s={}){var r,u;if(!this._canPush()&&a.type==="broadcast"){const{event:c,payload:f}=a,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,p;const g=this._push(a.type,a,s.timeout||this.timeout);a.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Gt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(u=>{r=new wc(this,Ln.leave,{},a),r.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}async _fetchWithTimeout(a,s,r){const u=new AbortController,c=setTimeout(()=>u.abort(),r),f=await this.socket.fetch(a,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),f}_push(a,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new wc(this,a,s,r);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>bw){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,r){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,r){var u,c;const f=a.toLocaleLowerCase(),{close:m,error:p,leave:g,join:v}=Ln;if(r&&[m,p,g,v].indexOf(f)>=0&&r!==this._joinRef())return;let x=this._onMessage(f,s,r);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var N,k,O;return((N=E.filter)===null||N===void 0?void 0:N.event)==="*"||((O=(k=E.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(E=>E.callback(x,r)):(c=this.bindings[f])===null||c===void 0||c.filter(E=>{var N,k,O,R,G,C;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const J=E.id,me=(N=E.filter)===null||N===void 0?void 0:N.event;return J&&((k=s.ids)===null||k===void 0?void 0:k.includes(J))&&(me==="*"||(me==null?void 0:me.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const J=(G=(R=E==null?void 0:E.filter)===null||R===void 0?void 0:R.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return J==="*"||J===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:k,table:O,commit_timestamp:R,type:G,errors:C}=N;x=Object.assign(Object.assign({},{schema:k,table:O,commit_timestamp:R,eventType:G,new:{},old:{},errors:C}),this._getPayloadRecords(N))}E.callback(x,r)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,r){const u=a.toLocaleLowerCase(),c={type:u,filter:s,callback:r};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(a,s){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&nd.isEqual(u.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const r in a)if(a[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Ln.close,{},a)}_onError(a){this._on(Ln.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(s.new=Sm(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(s.old=Sm(a.columns,a.old_record)),s}}const xc=()=>{},Br={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Cw=[1e3,2e3,5e3,1e4],Aw=1e4,Rw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ow{constructor(a,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mc,this.transport=null,this.heartbeatIntervalMs=Br.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xc,this.ref=0,this.reconnectTimer=null,this.logger=xc,this.conn=null,this.sendBuffer=[],this.serializer=new ww,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...f)=>_s(async()=>{const{default:m}=await Promise.resolve().then(()=>vl);return{default:m}},void 0).then(({default:m})=>m(...f)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...f)=>c(...f)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${Dc.websocket}`,this.httpEndpoint=b0(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gw.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yw}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},a?this.conn.close(a,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const s=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const a=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,s,r){this.logger(a,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hs.connecting:return ui.Connecting;case hs.open:return ui.Open;case hs.closing:return ui.Closing;default:return ui.Closed}}isConnected(){return this.connectionState()===ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,s={config:{}}){const r=`realtime:${a}`,u=this.getChannels().find(c=>c.topic===r);if(u)return u;{const c=new nd(`realtime:${a}`,s,this);return this.channels.push(c),c}}push(a){const{topic:s,event:r,payload:u,ref:c}=a,f=()=>{this.encode(a,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${r} (${c})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(vw,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Br.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:u,payload:c,ref:f}=s,m=f?`(${f})`:"",p=c.status||"";this.log("receive",`${p} ${r} ${u} ${m}`.trim(),c),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(u,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Ln.error))}_appendParams(a,s){if(Object.keys(s).length===0)return a;const r=a.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${a}${r}${u}`}_workerObjectUrl(a){let s;if(a)s=a;else{const r=new Blob([Rw],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(a,s=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(a=null){let s;a?s=a:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const u={access_token:s,version:pw};s&&r.updateJoinPayload(u),r.joinedOnce&&r._isJoined()&&r._push(Ln.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(s)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new y0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Br.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var s,r,u,c,f,m,p,g,v;if(this.transport=(s=a==null?void 0:a.transport)!==null&&s!==void 0?s:null,this.timeout=(r=a==null?void 0:a.timeout)!==null&&r!==void 0?r:Mc,this.heartbeatIntervalMs=(u=a==null?void 0:a.heartbeatIntervalMs)!==null&&u!==void 0?u:Br.HEARTBEAT_INTERVAL,this.worker=(c=a==null?void 0:a.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=a==null?void 0:a.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=a==null?void 0:a.heartbeatCallback)!==null&&m!==void 0?m:xc,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=a==null?void 0:a.reconnectAfterMs)!==null&&p!==void 0?p:(w=>Cw[w-1]||Aw),this.encode=(g=a==null?void 0:a.encode)!==null&&g!==void 0?g:((w,x)=>x(JSON.stringify(w))),this.decode=(v=a==null?void 0:a.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}class ad extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function It(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class Nw extends ad{constructor(a,s,r){super(a),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zc extends ad{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}}var kw=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};const w0=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...s)=>_s(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},void 0).then(({default:r})=>r(...s)):a=fetch,(...s)=>a(...s)},Mw=()=>kw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>vl),void 0)).Response:Response}),Lc=l=>{if(Array.isArray(l))return l.map(s=>Lc(s));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([s,r])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[u]=Lc(r)}),a},Dw=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var hi=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};const _c=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Uw=(l,a,s)=>hi(void 0,void 0,void 0,function*(){const r=yield Mw();l instanceof r&&!(s!=null&&s.noResolveJson)?l.json().then(u=>{const c=l.status||500,f=(u==null?void 0:u.statusCode)||c+"";a(new Nw(_c(u),c,f))}).catch(u=>{a(new zc(_c(u),u))}):a(new zc(_c(l),l))}),zw=(l,a,s,r)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"||!r?u:(Dw(r)?(u.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),u.body=JSON.stringify(r)):u.body=r,a!=null&&a.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),s))};function Ss(l,a,s,r,u,c){return hi(this,void 0,void 0,function*(){return new Promise((f,m)=>{l(s,zw(a,r,u,c)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>f(p)).catch(p=>Uw(p,m,r))})})}function Kr(l,a,s,r){return hi(this,void 0,void 0,function*(){return Ss(l,"GET",a,s,r)})}function Yn(l,a,s,r,u){return hi(this,void 0,void 0,function*(){return Ss(l,"POST",a,r,u,s)})}function Bc(l,a,s,r,u){return hi(this,void 0,void 0,function*(){return Ss(l,"PUT",a,r,u,s)})}function Lw(l,a,s,r){return hi(this,void 0,void 0,function*(){return Ss(l,"HEAD",a,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function x0(l,a,s,r,u){return hi(this,void 0,void 0,function*(){return Ss(l,"DELETE",a,r,u,s)})}var Bw=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};class Hw{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}execute(){return Bw(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}}var qw=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})},_0;class $w{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[_0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Hw(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return qw(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}}_0=Symbol.toStringTag;var cn=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};const Iw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yw{constructor(a,s={},r,u){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=r,this.fetch=w0(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,s,r,u){return cn(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Tm),u);let m=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",f.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),u!=null&&u.headers&&(m=Object.assign(Object.assign({},m),u.headers));const g=this._removeEmptyFolders(s),v=this._getFinalPath(g),w=yield(a=="PUT"?Bc:Yn)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(It(c))return{data:null,error:c};throw c}})}upload(a,s,r){return cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,s,r)})}uploadToSignedUrl(a,s,r,u){return cn(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(a),f=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let p;const g=Object.assign({upsert:Tm.upsert},u),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const w=yield Bc(this.fetch,m.toString(),p,{headers:v});return{data:{path:c,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(It(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(a,s){return cn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(a);const u=Object.assign({},this.headers);s!=null&&s.upsert&&(u["x-upsert"]="true");const c=yield Yn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:u}),f=new URL(this.url+c.url),m=f.searchParams.get("token");if(!m)throw new ad("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}update(a,s,r){return cn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,s,r)})}move(a,s,r){return cn(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(It(u))return{data:null,error:u};throw u}})}copy(a,s,r){return cn(this,void 0,void 0,function*(){try{return{data:{path:(yield Yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(It(u))return{data:null,error:u};throw u}})}createSignedUrl(a,s,r){return cn(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),c=yield Yn(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(It(u))return{data:null,error:u};throw u}})}createSignedUrls(a,s,r){return cn(this,void 0,void 0,function*(){try{const u=yield Yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:a},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(It(u))return{data:null,error:u};throw u}})}download(a,s){const u=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=c?`?${c}`:"",m=this._getFinalPath(a),p=()=>Kr(this.fetch,`${this.url}/${u}/${m}${f}`,{headers:this.headers,noResolveJson:!0});return new $w(p,this.shouldThrowOnError)}info(a){return cn(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{const r=yield Kr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Lc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}exists(a){return cn(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{return yield Lw(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r)&&r instanceof zc){const u=r.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:r}}throw r}})}getPublicUrl(a,s){const r=this._getFinalPath(a),u=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&u.push(c);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});p!==""&&u.push(p);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${g}`)}}}remove(a){return cn(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}list(a,s,r){return cn(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Iw),s),{prefix:a||""});return{data:yield Yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},r),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(It(u))return{data:null,error:u};throw u}})}listV2(a,s){return cn(this,void 0,void 0,function*(){try{const r=Object.assign({},a);return{data:yield Yn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}}const Gw="2.75.1",Vw={"X-Client-Info":`storage-js/${Gw}`};var il=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};class Xw{constructor(a,s={},r,u){this.shouldThrowOnError=!1;const c=new URL(a);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vw),s),this.fetch=w0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return il(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}})}getBucket(a){return il(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}createBucket(a){return il(this,arguments,void 0,function*(s,r={public:!1}){try{return{data:yield Yn(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(It(u))return{data:null,error:u};throw u}})}updateBucket(a,s){return il(this,void 0,void 0,function*(){try{return{data:yield Bc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}emptyBucket(a){return il(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}deleteBucket(a){return il(this,void 0,void 0,function*(){try{return{data:yield x0(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}}class Kw extends Xw{constructor(a,s={},r,u){super(a,s,r,u)}from(a){return new Yw(this.url,this.headers,a,this.fetch)}}const Jw="2.75.1";let fs="";typeof Deno<"u"?fs="deno":typeof document<"u"?fs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fs="react-native":fs="node";const Zw={"X-Client-Info":`supabase-js-${fs}/${Jw}`},Qw={headers:Zw},Pw={schema:"public"},Fw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ww={};var ex=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};const tx=l=>{let a;return l?a=l:typeof fetch>"u"?a=d0:a=fetch,(...s)=>a(...s)},nx=()=>typeof Headers>"u"?f0:Headers,ax=(l,a,s)=>{const r=tx(s),u=nx();return(c,f)=>ex(void 0,void 0,void 0,function*(){var m;const p=(m=yield a())!==null&&m!==void 0?m:l;let g=new u(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",l),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(c,Object.assign(Object.assign({},f),{headers:g}))})};var ix=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};function lx(l){return l.endsWith("/")?l:l+"/"}function sx(l,a){var s,r;const{db:u,auth:c,realtime:f,global:m}=l,{db:p,auth:g,realtime:v,global:w}=a,x={db:Object.assign(Object.assign({},p),u),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ix(this,void 0,void 0,function*(){return""})};return l.accessToken?x.accessToken=l.accessToken:delete x.accessToken,x}function rx(l){const a=l==null?void 0:l.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lx(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const S0="2.75.1",dl=30*1e3,Hc=3,Sc=Hc*dl,ox="http://localhost:9999",ux="supabase.auth.token",cx={"X-Client-Info":`gotrue-js/${S0}`},qc="X-Supabase-Api-Version",E0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fx=600*1e3;class vs extends Error{constructor(a,s,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function je(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class hx extends vs{constructor(a,s,r){super(a,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function gx(l){return je(l)&&l.name==="AuthApiError"}class ci extends vs{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class Ia extends vs{constructor(a,s,r,u){super(a,r,u),this.name=s,this.status=r}}class Ba extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mx(l){return je(l)&&l.name==="AuthSessionMissingError"}class ll extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hr extends Ia{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class qr extends Ia{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function px(l){return je(l)&&l.name==="AuthImplicitGrantRedirectError"}class Cm extends Ia{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $c extends Ia{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function Ec(l){return je(l)&&l.name==="AuthRetryableFetchError"}class Am extends Ia{constructor(a,s,r){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ic extends Ia{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rm=` 	
\r=`.split(""),yx=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Rm.length;a+=1)l[Rm[a].charCodeAt(0)]=-2;for(let a=0;a<Jr.length;a+=1)l[Jr[a].charCodeAt(0)]=a;return l})();function Om(l,a,s){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;s(Jr[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;s(Jr[r]),a.queuedBits-=6}}function j0(l,a,s){const r=yx[l];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Nm(l){const a=[],s=f=>{a.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=f=>{wx(f,r,s)};for(let f=0;f<l.length;f+=1)j0(l.charCodeAt(f),u,c);return a.join("")}function vx(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function bx(l,a){for(let s=0;s<l.length;s+=1){let r=l.charCodeAt(s);if(r>55295&&r<=56319){const u=(r-55296)*1024&65535;r=(l.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}vx(r,a)}}function wx(l,a,s){if(a.utf8seq===0){if(l<=127){s(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&s(a.codepoint)}}function hl(l){const a=[],s={queue:0,queuedBits:0},r=u=>{a.push(u)};for(let u=0;u<l.length;u+=1)j0(l.charCodeAt(u),s,r);return new Uint8Array(a)}function xx(l){const a=[];return bx(l,s=>a.push(s)),new Uint8Array(a)}function di(l){const a=[],s={queue:0,queuedBits:0},r=u=>{a.push(u)};return l.forEach(u=>Om(u,s,r)),Om(null,s,r),a.join("")}function _x(l){return Math.round(Date.now()/1e3)+l}function Sx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const a=Math.random()*16|0;return(l=="x"?a:a&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",si={tested:!1,writable:!1},T0=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(si.tested)return si.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),si.tested=!0,si.writable=!0}catch{si.tested=!0,si.writable=!1}return si.writable};function Ex(l){const a={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{a[c]=u})}catch{}return s.searchParams.forEach((r,u)=>{a[u]=r}),a}const C0=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...s)=>_s(async()=>{const{default:r}=await Promise.resolve().then(()=>vl);return{default:r}},void 0).then(({default:r})=>r(...s)):a=fetch,(...s)=>a(...s)},jx=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",fl=async(l,a,s)=>{await l.setItem(a,JSON.stringify(s))},ri=async(l,a)=>{const s=await l.getItem(a);if(!s)return null;try{return JSON.parse(s)}catch{return s}},La=async(l,a)=>{await l.removeItem(a)};class eo{constructor(){this.promise=new eo.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}eo.promiseConstructor=Promise;function jc(l){const a=l.split(".");if(a.length!==3)throw new Ic("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!dx.test(a[r]))throw new Ic("JWT not in base64url format");return{header:JSON.parse(Nm(a[0])),payload:JSON.parse(Nm(a[1])),signature:hl(a[2]),raw:{header:a[0],payload:a[1]}}}async function Tx(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function Cx(l,a){return new Promise((r,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await l(c);if(!a(c,null,f)){r(f);return}}catch(f){if(!a(c,f)){u(f);return}}})()})}function Ax(l){return("0"+l.toString(16)).substr(-2)}function Rx(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*r));return u}return crypto.getRandomValues(a),Array.from(a,Ax).join("")}async function Ox(l){const s=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(r);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function Nx(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await Ox(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sl(l,a,s=!1){const r=Rx();let u=r;s&&(u+="/PASSWORD_RECOVERY"),await fl(l,`${a}-code-verifier`,u);const c=await Nx(r);return[c,r===c?"plain":"s256"]}const kx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mx(l){const a=l.headers.get(qc);if(!a||!a.match(kx))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Dx(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function Ux(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rl(l){if(!zx.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tc(){const l={};return new Proxy(l,{get:(a,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function km(l){return JSON.parse(JSON.stringify(l))}var Lx=function(l,a){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&a.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(l);u<r.length;u++)a.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(l,r[u])&&(s[r[u]]=l[r[u]]);return s};const oi=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Bx=[502,503,504];async function Mm(l){var a;if(!jx(l))throw new $c(oi(l),0);if(Bx.includes(l.status))throw new $c(oi(l),l.status);let s;try{s=await l.json()}catch(c){throw new ci(oi(c),c)}let r;const u=Mx(l);if(u&&u.getTime()>=E0["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Am(oi(s),l.status,((a=s.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new Ba}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Am(oi(s),l.status,s.weak_password.reasons);throw new hx(oi(s),l.status||500,r)}const Hx=(l,a,s,r)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),u.body=JSON.stringify(r),Object.assign(Object.assign({},u),s))};async function Be(l,a,s,r){var u;const c=Object.assign({},r==null?void 0:r.headers);c[qc]||(c[qc]=E0["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const f=(u=r==null?void 0:r.query)!==null&&u!==void 0?u:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await qx(l,a,s+m,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function qx(l,a,s,r,u,c){const f=Hx(a,r,u,c);let m;try{m=await l(s,Object.assign({},f))}catch(p){throw console.error(p),new $c(oi(p),0)}if(m.ok||await Mm(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(p){await Mm(p)}}function zn(l){var a;let s=null;Yx(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=_x(l.expires_in)));const r=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:s,user:r},error:null}}function Dm(l){const a=zn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(a.data.weak_password=l.weak_password),a}function Ha(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function $x(l){return{data:l,error:null}}function Ix(l){const{action_link:a,email_otp:s,hashed_token:r,redirect_to:u,verification_type:c}=l,f=Lx(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:a,email_otp:s,hashed_token:r,redirect_to:u,verification_type:c},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function Um(l){return l}function Yx(l){return l.access_token&&l.refresh_token&&l.expires_in}const Cc=["global","local","others"];var Gx=function(l,a){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&a.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(l);u<r.length;u++)a.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(l,r[u])&&(s[r[u]]=l[r[u]]);return s};class Vx{constructor({url:a="",headers:s={},fetch:r}){this.url=a,this.headers=s,this.fetch=C0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,s=Cc[0]){if(Cc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cc.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,s={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ha})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:s}=a,r=Gx(a,["options"]),u=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(u.new_email=r==null?void 0:r.newEmail,delete u.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Ix,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(je(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(a){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:Ha})}catch(s){if(je(s))return{data:{user:null},error:s};throw s}}async listUsers(a){var s,r,u,c,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=a==null?void 0:a.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Um});if(v.error)throw v.error;const w=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(N.split(";")[1].split("=")[1]);g[`${O}Page`]=k}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(je(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){rl(a);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:Ha})}catch(s){if(je(s))return{data:{user:null},error:s};throw s}}async updateUserById(a,s){rl(a);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:s,headers:this.headers,xform:Ha})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,s=!1){rl(a);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ha})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){rl(a.userId);try{const{data:s,error:r}=await Be(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:r}}catch(s){if(je(s))return{data:null,error:s};throw s}}async _deleteFactor(a){rl(a.userId),rl(a.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}}async _listOAuthClients(a){var s,r,u,c,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=a==null?void 0:a.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Um});if(v.error)throw v.error;const w=await v.json(),x=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(N=>{const k=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(N.split(";")[1].split("=")[1]);g[`${O}Page`]=k}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},w),g),error:null}}catch(g){if(je(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _getOAuthClient(a){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(a){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(a){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(je(s))return{data:null,error:s};throw s}}}function zm(l={}){return{getItem:a=>l[a]||null,setItem:(a,s)=>{l[a]=s},removeItem:a=>{delete l[a]}}}const ol={debug:!!(globalThis&&T0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A0 extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Xx extends A0{}async function Kx(l,a,s){ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),ol.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async u=>{if(u){ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await s()}finally{ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(a===0)throw ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Xx(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ol.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Jx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function R0(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Zx(l){return parseInt(l,16)}function Qx(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function Px(l){var a;const{chainId:s,domain:r,expirationTime:u,issuedAt:c=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:v,uri:w,version:x}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const E=R0(l.address),N=v?`${v}://${r}`:r,k=l.statement?`${l.statement}
`:"",O=`${N} wants you to sign in with your Ethereum account:
${E}

${k}`;let R=`URI: ${w}
Version: ${x}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(u&&(R+=`
Expiration Time: ${u.toISOString()}`),m&&(R+=`
Not Before: ${m.toISOString()}`),p&&(R+=`
Request ID: ${p}`),g){let G=`
Resources:`;for(const C of g){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);G+=`
- ${C}`}R+=G}return`${O}
${R}`}class $t extends Error{constructor({message:a,code:s,cause:r,name:u}){var c;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=u??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Zr extends $t{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function Fx({error:l,options:a}){var s,r,u;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new $t({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new $t({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new $t({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new $t({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new $t({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new $t({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new $t({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new $t({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(N0(f)){if(c.rp.id!==f)return new $t({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new $t({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Wx({error:l,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new $t({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new $t({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(N0(r)){if(s.rpId!==r)return new $t({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new $t({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new $t({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new $t({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}var O0=function(l,a){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&a.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(l);u<r.length;u++)a.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(l,r[u])&&(s[r[u]]=l[r[u]]);return s};class e_{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const t_=new e_;function n_(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:s,excludeCredentials:r}=l,u=O0(l,["challenge","user","excludeCredentials"]),c=hl(a).buffer,f=Object.assign(Object.assign({},s),{id:hl(s.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:f});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const g=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:hl(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function a_(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:s}=l,r=O0(l,["challenge","allowCredentials"]),u=hl(a).buffer,c=Object.assign(Object.assign({},r),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const m=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},m),{id:hl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function i_(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:di(new Uint8Array(l.response.attestationObject)),clientDataJSON:di(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function l_(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,r=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:di(new Uint8Array(u.authenticatorData)),clientDataJSON:di(new Uint8Array(u.clientDataJSON)),signature:di(new Uint8Array(u.signature)),userHandle:u.userHandle?di(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=s.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function N0(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Lm(){var l,a;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function s_(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Zr("Browser returned unexpected credential type",a)}:{data:null,error:new Zr("Empty credential response",a)}}catch(a){return{data:null,error:Fx({error:a,options:l})}}}async function r_(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Zr("Browser returned unexpected credential type",a)}:{data:null,error:new Zr("Empty credential response",a)}}catch(a){return{data:null,error:Wx({error:a,options:l})}}}const o_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},u_={userVerification:"preferred",hints:["security-key"]};function Qr(...l){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),r={};for(const u of l)if(u)for(const c in u){const f=u[c];if(f!==void 0)if(Array.isArray(f))r[c]=f;else if(s(f))r[c]=f;else if(a(f)){const m=r[c];a(m)?r[c]=Qr(m,f):r[c]=Qr(f)}else r[c]=f}return r}function c_(l,a){return Qr(o_,l,a||{})}function d_(l,a){return Qr(u_,l,a||{})}class f_{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:s,friendlyName:r,signal:u},c){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:s});if(!f)return{data:null,error:m};const p=u??t_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${r}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=c_(f.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:v,error:w}=await s_({publicKey:g,signal:p});return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}case"request":{const g=d_(f.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:v,error:w}=await r_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:w}}}}catch(f){return je(f)?{data:null,error:f}:{data:null,error:new ci("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u}},c){if(!s)return{data:null,error:new vs("rpId is required for WebAuthn authentication")};try{if(!Lm())return{data:null,error:new ci("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:a,webauthn:{rpId:s,rpOrigins:r},signal:u},{request:c});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:r,credential_response:p.credential_response}})}catch(f){return je(f)?{data:null,error:f}:{data:null,error:new ci("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:u},c){if(!s)return{data:null,error:new vs("rpId is required for WebAuthn registration")};try{if(!Lm())return{data:null,error:new ci("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(v=>{var w;return(w=v.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:u},{create:c});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return je(f)?{data:null,error:f}:{data:null,error:new ci("Unexpected error in register",f)}}}}Jx();const h_={url:ox,storageKey:ux,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bm(l,a,s){return await s()}const ul={};class bs{get jwks(){var a,s;return(s=(a=ul[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(a){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,s;return(s=(a=ul[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{cachedAt:a})}constructor(a){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},h_),a);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Vx({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=C0(u.fetch),this.lock=u.lock||Bm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:vn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Kx:this.lock=Bm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f_(this)},this.persistSession?(u.storage?this.storage=u.storage:T0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zm(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=zm(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${S0}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const s=Ex(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),px(c)){const p=(a=c.details)===null||a===void 0?void 0:a.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return je(s)?{error:s}:{error:new ci("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var s,r,u;try{const c=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=a==null?void 0:a.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(u=a==null?void 0:a.options)===null||u===void 0?void 0:u.captchaToken}},xform:zn}),{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(a){var s,r,u;try{let c;if("email"in a){const{email:v,password:w,options:x}=a;let E=null,N=null;this.flowType==="pkce"&&([E,N]=await sl(this.storage,this.storageKey)),c=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:v,password:w,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:E,code_challenge_method:N},xform:zn})}else if("phone"in a){const{phone:v,password:w,options:x}=a;c=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(u=x==null?void 0:x.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:zn})}else throw new Hr("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(a){try{let s;if("email"in a){const{email:c,password:f,options:m}=a;s=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dm})}else if("phone"in a){const{phone:c,password:f,options:m}=a;s=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dm})}else throw new Hr("You must provide either an email or phone number and a password");const{data:r,error:u}=s;return u?{data:{user:null,session:null},error:u}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ll}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:u})}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(a){var s,r,u,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(s=a.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:s}=a;switch(s){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(a){var s,r,u,c,f,m,p,g,v,w,x;let E,N;if("message"in a)E=a.message,N=a.signature;else{const{chain:k,wallet:O,statement:R,options:G}=a;let C;if(vn())if(typeof O=="object")C=O;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")C=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(G!=null&&G.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=O}const J=new URL((s=G==null?void 0:G.url)!==null&&s!==void 0?s:window.location.href),me=await C.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!me||me.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=R0(me[0]);let P=(r=G==null?void 0:G.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const V=await C.request({method:"eth_chainId"});P=Zx(V)}const Me={domain:J.host,address:te,statement:R,uri:J.href,version:"1",chainId:P,nonce:(u=G==null?void 0:G.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(c=G==null?void 0:G.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=G==null?void 0:G.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=G==null?void 0:G.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=G==null?void 0:G.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=G==null?void 0:G.signInWithEthereum)===null||v===void 0?void 0:v.resources};E=Px(Me),N=await C.request({method:"personal_sign",params:[Qx(E),te]})}try{const{data:k,error:O}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:N},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:zn});if(O)throw O;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ll}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:O})}catch(k){if(je(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(a){var s,r,u,c,f,m,p,g,v,w,x,E;let N,k;if("message"in a)N=a.message,k=a.signature;else{const{chain:O,wallet:R,statement:G,options:C}=a;let J;if(vn())if(typeof R=="object")J=R;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))J=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=R}const me=new URL((s=C==null?void 0:C.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in J&&J.signIn){const te=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:me.host,uri:me.href}),G?{statement:G}:null));let P;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")P=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)P=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)N=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),k=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${me.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${me.href}`,`Issued At: ${(u=(r=C==null?void 0:C.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((m=C==null?void 0:C.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((g=C==null?void 0:C.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((w=(v=C==null?void 0:C.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...C.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const te=await J.signMessage(new TextEncoder().encode(N),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=te}}try{const{data:O,error:R}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:di(k)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=a.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:zn});if(R)throw R;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ll}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:R})}catch(O){if(je(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(a){const s=await ri(this.storage,`${this.storageKey}-code-verifier`),[r,u]=(s??"").split("/");try{const{data:c,error:f}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:zn});if(await La(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ll}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:f})}catch(c){if(je(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(a){try{const{options:s,provider:r,token:u,access_token:c,nonce:f}=a,m=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:u,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zn}),{data:p,error:g}=m;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ll}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(a){var s,r,u,c,f;try{if("email"in a){const{email:m,options:p}=a;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await sl(this.storage,this.storageKey));const{error:w}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in a){const{phone:m,options:p}=a,{data:g,error:v}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p==null?void 0:p.data)!==null&&u!==void 0?u:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(f=p==null?void 0:p.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v}}throw new Hr("You must provide either an email or phone number.")}catch(m){if(je(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(a){var s,r;try{let u,c;"options"in a&&(u=(s=a.options)===null||s===void 0?void 0:s.redirectTo,c=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:m}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:zn});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(je(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(a){var s,r,u;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await sl(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(s=a.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((u=a==null?void 0:a.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:$x})}catch(c){if(je(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:s},error:r}=a;if(r)throw r;if(!s)throw new Ba;const{error:u}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:u}})}catch(a){if(je(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const s=`${this.url}/resend`;if("email"in a){const{email:r,type:u,options:c}=a,{error:f}=await Be(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in a){const{phone:r,type:u,options:c}=a,{data:f,error:m}=await Be(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Hr("You must provide either an email or phone number and a type")}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(a,s){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await a(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const s=await ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?a=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Sc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const f=await ri(this.userStorage,this.storageKey+"-user");f!=null&&f.user?a.user=f.user:a.user=Tc()}if(this.storage.isServer&&a.user){let f=this.suppressGetSessionWarning;a=new Proxy(a,{get:(p,g,v)=>(!f&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,v))})}return{data:{session:a},error:null}}const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{session:null},error:c}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:Ha}):await this._useSession(async s=>{var r,u,c;const{data:f,error:m}=s;if(m)throw m;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ba}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:Ha})})}catch(s){if(je(s))return mx(s)&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(a,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,s))}async _updateUser(a,s={}){try{return await this._useSession(async r=>{const{data:u,error:c}=r;if(c)throw c;if(!u.session)throw new Ba;const f=u.session;let m=null,p=null;this.flowType==="pkce"&&a.email!=null&&([m,p]=await sl(this.storage,this.storageKey));const{data:g,error:v}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:Ha});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(r){if(je(r))return{data:{user:null},error:r};throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new Ba;const s=Date.now()/1e3;let r=s,u=!0,c=null;const{payload:f}=jc(a.access_token);if(f.exp&&(r=f.exp,u=r<=s),u){const{data:m,error:p}=await this._callRefreshToken(a.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(a.access_token);if(p)throw p;c={access_token:a.access_token,refresh_token:a.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(je(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async s=>{var r;if(!a){const{data:f,error:m}=s;if(m)throw m;a=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(a!=null&&a.refresh_token))throw new Ba;const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{user:null,session:null},error:c}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(a,s){try{if(!vn())throw new qr("No browser detected.");if(a.error||a.error_description||a.error_code)throw new qr(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Cm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Cm("No code detected.");const{data:G,error:C}=await this._exchangeCodeForSession(a.code);if(C)throw C;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:u,access_token:c,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=a;if(!c||!m||!f||!g)throw new qr("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(m);let x=v+w;p&&(x=parseInt(p));const E=x-v;E*1e3<=dl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const N=x-w;v-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,v):v-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,x,v);const{data:k,error:O}=await this._getUser(c);if(O)throw O;const R={provider_token:r,provider_refresh_token:u,access_token:c,expires_in:w,expires_at:x,refresh_token:f,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:a.type},error:null}}catch(r){if(je(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const s=await ri(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&s)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return{error:c};const f=(r=u.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:m}=await this.admin.signOut(f,a);if(m&&!(gx(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return a!=="others"&&(await this._removeSession(),await La(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const s=Sx(),r={id:s,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async s=>{var r,u;try{const{data:{session:c},error:f}=s;if(f)throw f;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,s={}){let r=null,u=null;this.flowType==="pkce"&&([r,u]=await sl(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(je(c))return{data:null,error:c};throw c}}async getUserIdentities(){var a;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(a=s.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var s;try{const{data:r,error:u}=await this._useSession(async c=>{var f,m,p,g,v;const{data:w,error:x}=c;if(x)throw x;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=a.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=a.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",E,{headers:this.headers,jwt:(v=(g=w.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return vn()&&!(!((s=a.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:a.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(je(r))return{data:{provider:a.provider,url:null},error:r};throw r}}async linkIdentityIdToken(a){return await this._useSession(async s=>{var r;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:f,provider:m,token:p,access_token:g,nonce:v}=a,w=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c==null?void 0:c.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:zn}),{data:x,error:E}=w;return E?{data:{user:null,session:null},error:E}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new ll}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:E})}catch(u){if(je(u))return{data:{user:null,session:null},error:u};throw u}})}async unlinkIdentity(a){try{return await this._useSession(async s=>{var r,u;const{data:c,error:f}=s;if(f)throw f;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _refreshAccessToken(a){const s=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Cx(async u=>(u>0&&await Tx(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:zn})),(u,c)=>{const f=200*Math.pow(2,u);return c&&Ec(c)&&Date.now()+f-r<dl})}catch(r){if(this._debug(s,"error",r),je(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",s,"url",r),vn()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const u=await ri(this.storage,this.storageKey);if(u&&this.userStorage){let f=await ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await fl(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f==null?void 0:f.user)!==null&&a!==void 0?a:Tc()}else if(u&&!u.user&&!u.user){const f=await ri(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await La(this.storage,this.storageKey+"-user"),await fl(this.storage,this.storageKey,u)):u.user=Tc()}if(this._debug(r,"session from storage",u),!this._isValidSession(u)){this._debug(r,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Sc;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${Sc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Ec(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(r,"error",u),console.error(u);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var s,r;if(!a)throw new Ba;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new eo;const{data:c,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!c.session)throw new Ba;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),je(c)){const f={data:null,error:c};return Ec(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,s,r=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(a,s)}catch(p){c.push(p)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const s=Object.assign({},a),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await fl(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=km(u);await fl(this.storage,this.storageKey,c)}else{const u=km(s);await fl(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await La(this.storage,this.storageKey),await La(this.storage,this.storageKey+"-code-verifier"),await La(this.storage,this.storageKey+"-user"),this.userStorage&&await La(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),dl);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((r.expires_at*1e3-a)/dl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${dl}ms, refresh threshold is ${Hc} ticks`),u<=Hc&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof A0)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const s=`#_onVisibilityChanged(${a})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,s,r){const u=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&u.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&u.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,f]=await sl(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);u.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&u.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;return c?{data:null,error:c}:await Be(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _enroll(a){try{return await this._useSession(async s=>{var r,u;const{data:c,error:f}=s;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:p,error:g}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(a.factorType==="totp"&&p.type==="totp"&&(!((u=p==null?void 0:p.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return{data:null,error:c};const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?i_(a.webauthn.credential_response):l_(a.webauthn.credential_response)})}:{code:a.code}),{data:m,error:p}=await Be(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:p})})}catch(s){if(je(s))return{data:null,error:s};throw s}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:u,error:c}=s;if(c)return{data:null,error:c};const f=await Be(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=u==null?void 0:u.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:n_(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:a_(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(je(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(a){const{data:s,error:r}=await this._challenge({factorId:a.factorId});return r?{data:null,error:r}:await this._verify({factorId:a.factorId,challengeId:s.id,code:a.code})}async _listFactors(){var a;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=s==null?void 0:s.factors)!==null&&a!==void 0?a:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var s,r;const{data:{session:u},error:c}=a;if(c)return{data:null,error:c};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=jc(u.access_token);let m=null;f.aal&&(m=f.aal);let p=m;((r=(s=u.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const v=f.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(a,s={keys:[]}){let r=s.keys.find(m=>m.kid===a);if(r)return r;const u=Date.now();if(r=this.jwks.keys.find(m=>m.kid===a),r&&this.jwks_cached_at+fx>u)return r;const{data:c,error:f}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,r=c.keys.find(m=>m.kid===a),!r)?null:r}async getClaims(a,s={}){try{let r=a;if(!r){const{data:E,error:N}=await this.getSession();if(N||!E.session)return{data:null,error:N};r=E.session.access_token}const{header:u,payload:c,signature:f,raw:{header:m,payload:p}}=jc(r);s!=null&&s.allowExpired||Dx(c.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:E}=await this.getUser(r);if(E)throw E;return{data:{claims:c,header:u,signature:f},error:null}}const v=Ux(u.alg),w=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,f,xx(`${m}.${p}`)))throw new Ic("Invalid JWT signature");return{data:{claims:c,header:u,signature:f},error:null}}catch(r){if(je(r))return{data:null,error:r};throw r}}}bs.nextInstanceID=0;const g_=bs;class m_ extends g_{constructor(a){super(a)}}var p_=function(l,a,s,r){function u(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(v){try{g(r.next(v))}catch(w){f(w)}}function p(v){try{g(r.throw(v))}catch(w){f(w)}}function g(v){v.done?c(v.value):u(v.value).then(m,p)}g((r=r.apply(l,a||[])).next())})};class y_{constructor(a,s,r){var u,c,f;this.supabaseUrl=a,this.supabaseKey=s;const m=rx(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:Pw,realtime:Ww,auth:Object.assign(Object.assign({},Fw),{storageKey:p}),global:Qw},v=sx(r??{},g);this.storageKey=(u=v.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=ax(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new hw(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Kw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new aw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,r)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return p_(this,void 0,void 0,function*(){var a,s;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:r,storage:u,userStorage:c,storageKey:f,flowType:m,lock:p,debug:g},v,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m_({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),v),storageKey:f,autoRefreshToken:a,persistSession:s,detectSessionInUrl:r,storage:u,userStorage:c,flowType:m,lock:p,debug:g,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new Ow(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(a,s,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const v_=(l,a,s)=>new y_(l,a,s);function b_(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}b_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const w_="https://dimfitabwerbszmocvgm.supabase.co",x_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRpbWZpdGFid2VyYnN6bW9jdmdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMjA4OTMsImV4cCI6MjA3NTg5Njg5M30.E8Yd4Iaz6yoQZBTgICKDEF8cWFsDch_YBbxtN77Dq3w",On=v_(w_,x_),k0=_.createContext({session:null,user:null,loading:!0}),__=({children:l})=>{const[a,s]=_.useState(null),[r,u]=_.useState(null),[c,f]=_.useState(!0);return _.useEffect(()=>{On.auth.getSession().then(({data:{session:p}})=>{s(p),u((p==null?void 0:p.user)??null),f(!1)});const{data:{subscription:m}}=On.auth.onAuthStateChange((p,g)=>{s(g),u((g==null?void 0:g.user)??null)});return()=>{m.unsubscribe()}},[]),h.jsx(k0.Provider,{value:{session:a,user:r,loading:c},children:l})},gi=()=>_.useContext(k0),M0=()=>{const{user:l}=gi(),a=$a(),s=async()=>{await On.auth.signOut(),a("/")};return h.jsx("header",{className:"bg-slate-900/80 backdrop-blur-sm sticky top-0 z-50",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"flex justify-between items-center py-4 border-b border-slate-800",children:[h.jsxs(ys,{to:"/",className:"flex items-center gap-2 text-2xl font-bold text-white",children:[h.jsx(Fc,{className:"w-8 h-8 text-blue-500"}),h.jsx("span",{children:""})]}),h.jsx("div",{className:"flex items-center gap-4",children:l?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-sm text-slate-400",children:l.email}),h.jsx("button",{onClick:s,className:"text-sm text-slate-400 hover:text-white",children:""})]}):h.jsx(ys,{to:"/auth",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:""})})]})})})},S_=[{title:" ",subtitle:" ",img:"https://picsum.photos/seed/salon/400/500"},{title:" ",subtitle:" ",img:"https://picsum.photos/seed/art/400/500"},{title:" ",subtitle:"  ",img:"https://picsum.photos/seed/travel/400/500"},{title:" ",subtitle:" 2024",img:"https://picsum.photos/seed/tech/400/500"}],E_=()=>{const[l,a]=_.useState(""),{user:s,loading:r}=gi(),u=$a();return _.useEffect(()=>{fetch("./metadata.json").then(c=>c.json()).then(c=>a(c.version||"")).catch(c=>console.error("Error fetching metadata:",c))},[]),_.useEffect(()=>{!r&&s&&u("/templates",{replace:!0})},[s,r,u]),r?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#111827] text-white",children:"..."}):h.jsxs("div",{className:"flex flex-col min-h-screen bg-[#111827]",children:[h.jsx(M0,{}),h.jsxs("main",{className:"flex-grow container mx-auto px-4 py-16 text-center",children:[h.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold text-white mb-4",children:""}),h.jsxs("p",{className:"text-xl md:text-2xl text-slate-300 mb-8 max-w-3xl mx-auto",children:[" ,  . ",h.jsx("br",{}),"         ."]}),h.jsx(ys,{to:"/templates",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 transform hover:scale-105",children:" "}),h.jsx("div",{className:"mt-20",children:h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8",children:S_.map((c,f)=>h.jsxs("div",{className:"bg-slate-800 rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300",children:[h.jsx("img",{src:c.img,alt:c.title,className:"w-full h-64 object-cover"}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-lg font-bold",children:c.title}),h.jsx("p",{className:"text-sm text-slate-400",children:c.subtitle})]})]},f))})})]}),h.jsx("footer",{className:"py-6 text-center text-slate-400",children:h.jsxs("p",{children:[" 2025 .   .",l&&h.jsxs("span",{className:"text-xs opacity-75 mr-2",children:["v",l]})]})})]})};var Te=(l=>(l.Text="text",l.Image="image",l.Cutter="cutter",l))(Te||{});const D0=_.createContext(void 0),Hm=l=>({id:l.id,name:l.name||"  ",previewImage:l.previewImage,user_id:l.user_id,is_public:l.is_public??!1,is_active:l.is_active??!0,created_at:l.created_at}),qm={fontFamily:"Heebo",fontSize:32,fontWeight:400,color:"#FFFFFF",textShadow:"",lineHeight:1.2},j_=l=>{const a=l.template_data,s=((a==null?void 0:a.items)||[]).map(r=>{var c,f,m;if(!r||!r.type)return null;const u={id:r.id,type:r.type,x:r.x??0,y:r.y??0,width:r.width??100,height:r.height??100,rotation:r.rotation??0,zIndex:r.zIndex??1};if(r.type==="text"){const p=Array.isArray(r.spans)?r.spans:[];let g=r.lineHeight;const v=p.map(x=>{const E=x.style&&typeof x.style=="object"?x.style:{},N={...qm,...E};return g!==void 0&&(N.lineHeight=E.lineHeight??g),{text:typeof x.text=="string"?x.text:"",style:N}});return v.length===0&&v.push({text:"",style:qm}),{...u,type:Te.Text,spans:v,textAlign:r.textAlign??"right",verticalAlign:r.verticalAlign??"middle",letterSpacing:r.letterSpacing??0,backgroundColor:r.backgroundColor??"transparent",padding:r.padding??10,backgroundShape:r.backgroundShape??"rectangle",outline:{enabled:((c=r.outline)==null?void 0:c.enabled)??!1,color:((f=r.outline)==null?void 0:f.color)??"#FFFFFF",width:((m=r.outline)==null?void 0:m.width)??2}}}return r.type==="image"?{...u,type:Te.Image,src:r.src??null,originalSrc:r.originalSrc??r.src??null,objectFit:r.objectFit??"cover",editState:r.editState??null}:r.type==="cutter"?{...u,type:Te.Cutter}:null}).filter(r=>r!==null);return{id:l.id,name:l.name||"  ",previewImage:l.previewImage,user_id:l.user_id,is_public:l.is_public??!1,is_active:l.is_active??!0,created_at:l.created_at,width:(a==null?void 0:a.width)||800,height:(a==null?void 0:a.height)||1e3,background_color:(a==null?void 0:a.backgroundColor)||"#1a202c",elements:s}},T_=({children:l})=>{const{user:a}=gi(),[s,r]=_.useState({myTemplates:[],publicTemplates:[],loading:!0,error:null,initialLoadComplete:!1}),[u,c]=_.useState({});_.useEffect(()=>{a&&!s.initialLoadComplete?(async()=>{r(x=>({...x,loading:!0,error:null}));try{const{data:x,error:E}=await On.from("templates").select("id, name, previewImage, user_id, is_public, is_active, created_at").eq("user_id",a.id).eq("is_active",!0).eq("is_public",!1).order("created_at",{ascending:!1});if(E)throw E;const{data:N,error:k}=await On.from("templates").select("id, name, previewImage, user_id, is_public, is_active, created_at").eq("is_public",!0).eq("is_active",!0);if(k)throw k;r({myTemplates:(x||[]).map(Hm),publicTemplates:(N||[]).map(Hm),loading:!1,error:null,initialLoadComplete:!0})}catch(x){console.error("Failed to fetch template previews in context:",x),r(E=>({...E,loading:!1,error:"    .    ."}))}})():a||(r({myTemplates:[],publicTemplates:[],loading:!1,error:null,initialLoadComplete:!1}),c({}))},[a,s.initialLoadComplete]);const f=_.useCallback((w,x)=>{r(E=>{const N=E.myTemplates.findIndex(O=>O.id===w.id);let k;return N>-1?(k=[...E.myTemplates],k[N]=w):k=[w,...E.myTemplates],{...E,myTemplates:k}}),x&&c(E=>({...E,[x.id]:x}))},[]),m=_.useCallback(w=>{r(x=>({...x,myTemplates:x.myTemplates.filter(E=>E.id!==w)})),c(x=>{const E={...x};return delete E[w],E})},[]),p=_.useCallback(w=>u[w],[u]),g=_.useCallback(async w=>{const x=p(w);if(x)return x;try{const{data:E,error:N}=await On.from("templates").select("*").eq("id",w).single();if(N)throw N;if(E){const k=j_(E);return c(O=>({...O,[w]:k})),k}return null}catch(E){return console.error("Failed to fetch full template in context:",E),null}},[p]),v={...s,upsertTemplate:f,removeTemplate:m,fetchFullTemplate:g,getTemplateFromCache:p};return h.jsx(D0.Provider,{value:v,children:l})},U0=()=>{const l=_.useContext(D0);if(l===void 0)throw new Error("useTemplates must be used within a TemplateProvider");return l},C_=()=>{const l=$a(),{user:a}=gi(),{myTemplates:s,publicTemplates:r,loading:u,error:c,removeTemplate:f,fetchFullTemplate:m}=U0(),[p,g]=_.useState(""),[v,w]=_.useState(()=>{const ie=sessionStorage.getItem("templatesPageActiveTab");return ie==="my"||ie==="public"?ie:"public"}),[x,E]=_.useState(null),[N,k]=_.useState(null),[O,R]=_.useState(null);_.useEffect(()=>{sessionStorage.setItem("templatesPageActiveTab",v)},[v]);const G=ie=>{k(ie)},C=()=>{k(null)},J=async()=>{if(!N)return;const ie=N.id;k(null);try{const{error:ue}=await On.from("templates").update({is_active:!1}).eq("id",ie);if(ue)throw ue;f(ie)}catch(ue){console.error("Error soft-deleting template:",ue),E(`  : ${ue.message}`)}},me=async ie=>{E(null),R(ie.id);try{const ue=await m(ie.id);if(ue)l("/editor",{state:{template:ue}});else throw new Error("      .")}catch(ue){console.error("Error fetching full template:",ue),E(`  : ${ue.message}`),R(null)}},te=async()=>{E(null),R("new_design");try{const ie=await fetch("./templates/default.json");if(!ie.ok)throw new Error(` : ${ie.statusText}`);const ue=await ie.json(),ze=(ue.items||[]).map(He=>({...He,id:`${He.id}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`})),gt={id:`new_${Date.now()}`,name:" ",width:ue.width||800,height:ue.height||1e3,background_color:ue.backgroundColor||"#1a202c",elements:ze,user_id:a==null?void 0:a.id,is_public:!1,is_active:!0};l("/editor",{state:{template:gt}})}catch(ie){console.error("Error fetching default template:",ie),E(`    : ${ie.message}`),R(null)}},P=v==="my"?s:r,Me=_.useMemo(()=>P.filter(ie=>ie.name.toLowerCase().includes(p.toLowerCase())),[p,P]),V=()=>u?h.jsx("div",{className:"flex items-center justify-center pt-20",children:h.jsx(bc,{className:"w-12 h-12 text-blue-500 animate-spin"})}):c||x?h.jsx("div",{className:"text-center text-red-400",children:c||x}):h.jsx("div",{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 ${O?"opacity-50 pointer-events-none":""}`,children:Me.map(ie=>{const ue=O===ie.id;return h.jsxs("div",{className:"group relative flex flex-col",children:[h.jsxs("div",{onClick:()=>!O&&me(ie),className:"w-[70%] mx-auto cursor-pointer relative bg-slate-800 rounded-lg shadow-lg overflow-hidden transform group-hover:scale-105 group-hover:shadow-blue-500/50 transition-all duration-300 aspect-[4/5]",children:[h.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${ie.previewImage})`}}),h.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-opacity duration-300"}),ue&&h.jsx("div",{className:"absolute inset-0 bg-slate-900/80 flex items-center justify-center",children:h.jsx(bc,{className:"w-8 h-8 text-white animate-spin"})})]}),h.jsxs("div",{className:"w-[70%] mx-auto flex justify-center items-center mt-3 relative",children:[h.jsx("h3",{className:"font-semibold text-white text-center truncate",children:ie.name}),v==="my"&&h.jsx("button",{onClick:ze=>{ze.stopPropagation(),G(ie)},className:"absolute left-0 text-slate-500 hover:text-red-500 opacity-50 group-hover:opacity-100 transition-colors",title:" ",children:h.jsx(Wc,{className:"w-5 h-5"})})]}),(N==null?void 0:N.id)===ie.id&&h.jsxs("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm z-10 flex flex-col items-center justify-center p-4 rounded-lg text-center transition-opacity duration-300",onClick:ze=>ze.stopPropagation(),children:[h.jsxs("p",{className:"text-white font-bold mb-4",children:['    "',ie.name,'"?']}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:C,className:"bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-6 rounded-md transition-colors",children:""}),h.jsx("button",{onClick:J,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-md transition-colors",children:""})]})]})]},ie.id)})}),oe=ie=>`px-4 py-2 text-sm font-medium rounded-md ${v===ie?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-700"}`;return h.jsxs("div",{className:"flex flex-col min-h-screen bg-[#111827]",children:[h.jsx(M0,{}),h.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl font-bold mb-2",children:"   "}),h.jsx("p",{className:"text-slate-400",children:"       ."})]}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("div",{className:"relative w-full md:w-1/3",children:[h.jsx("input",{type:"text",placeholder:"...",value:p,onChange:ie=>g(ie.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg py-2 pr-10 pl-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),h.jsx(Mb,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"})]}),h.jsxs("button",{onClick:()=>!O&&te(),disabled:!!O,className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[O==="new_design"?h.jsx(bc,{className:"w-5 h-5 animate-spin"}):h.jsx(o0,{className:"w-5 h-5"}),h.jsx("span",{children:" "})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 p-1 rounded-lg",children:[h.jsx("button",{onClick:()=>w("my"),className:oe("my"),children:" "}),h.jsx("button",{onClick:()=>w("public"),className:oe("public"),children:" "})]})]}),V()]})]})},Yc=[{name:"Heebo",weights:[400,500,700,900]},{name:"Rubik Moonrocks",weights:[400,500,700,900]},{name:"Fredoka",weights:[400,500,700,900]},{name:"Playpen Sans Hebrew",weights:[400,500,700,900]},{name:"Secular One",weights:[400,500,700,900]},{name:"David Libree",weights:[400,500,700,900]}],z0=()=>Yc.length===0?null:`https://fonts.googleapis.com/css2?${Yc.map(a=>`family=${a.name.replace(/ /g,"+")}:wght@${a.weights.join(";")}`).join("&")}&display=swap`,A_=async()=>{const l=z0();if(!l)return null;try{let s=await(await fetch(l)).text();const u=[...s.matchAll(/url\((https:\/\/[^)]+)\)/g)].map(f=>f[1]).map(async f=>{const p=await(await fetch(f)).blob();return new Promise((g,v)=>{const w=new FileReader;w.onloadend=()=>{typeof w.result=="string"?g([f,w.result]):v(new Error("Failed to read font file as Data URL"))},w.onerror=v,w.readAsDataURL(p)})}),c=await Promise.all(u);for(const[f,m]of c)s=s.replace(f,m);return s}catch(a){return console.error("Failed to fetch and embed fonts:",a),null}},Rn=({label:l,value:a,onChange:s,min:r=-1/0,max:u=1/0,step:c=1,toFixed:f,presets:m})=>{const p=C=>f!==void 0?C.toFixed(f):C.toString(),[g,v]=_.useState(p(a)),[w,x]=_.useState(!1),E=_.useRef(null);_.useEffect(()=>{const C=J=>{E.current&&!E.current.contains(J.target)&&x(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),_.useEffect(()=>{v(p(a))},[a,f]);const N=()=>{s(Math.min(u,a+c))},k=()=>{s(Math.max(r,a-c))},O=C=>{v(C.target.value)},R=()=>{const C=parseFloat(g);if(isNaN(C)||g.trim()==="")v(p(a));else{const J=Math.max(r,Math.min(u,C));s(J)}},G=C=>{C.key==="Enter"?(R(),C.currentTarget.blur()):C.key==="Escape"&&(v(p(a)),C.currentTarget.blur())};return h.jsxs("div",{className:"w-full",ref:E,children:[h.jsx("span",{className:"text-sm text-slate-400",children:l}),h.jsxs("div",{className:"relative flex items-center mt-1",children:[h.jsx("input",{type:"number",value:g,onChange:O,onBlur:R,onKeyDown:G,step:c,className:`w-full bg-slate-700 border border-slate-600 rounded p-2 text-sm h-[30px] ${m?"pl-12":"pl-8"}`,"aria-label":l}),h.jsxs("div",{className:"absolute left-1 flex items-stretch h-full",children:[m&&h.jsx("button",{onClick:()=>x(C=>!C),className:"w-6 flex items-center justify-center text-slate-400 hover:text-white","aria-label":"  ",title:"  ",children:h.jsx(Xr,{className:"w-4 h-4"})}),h.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[h.jsx("button",{onClick:N,className:"h-1/2 w-6 flex items-center justify-center text-slate-400 hover:text-white","aria-label":` ${l}`,children:h.jsx(c0,{className:"w-4 h-4"})}),h.jsx("button",{onClick:k,className:"h-1/2 w-6 flex items-center justify-center text-slate-400 hover:text-white","aria-label":` ${l}`,children:h.jsx(Xr,{className:"w-4 h-4"})})]})]}),m&&w&&h.jsx("div",{className:"absolute top-full left-0 mt-1 bg-slate-600 border border-slate-500 rounded-md shadow-lg z-20 max-h-48 overflow-y-auto w-full",children:h.jsx("ul",{className:"py-1",children:m.map(C=>h.jsx("li",{children:h.jsx("button",{className:"w-full text-right px-3 py-1.5 text-sm hover:bg-blue-600",onMouseDown:J=>{J.preventDefault(),s(C,!0),x(!1)},children:C})},C))})})]})]})},R_={tl:"top-0 left-0 -translate-x-1/2 -translate-y-1/2",t:"top-0 left-1/2 -translate-x-1/2 -translate-y-1/2",tr:"top-0 right-0 translate-x-1/2 -translate-y-1/2",l:"top-1/2 left-0 -translate-x-1/2 -translate-y-1/2",r:"top-1/2 right-0 translate-x-1/2 -translate-y-1/2",bl:"bottom-0 left-0 -translate-x-1/2 translate-y-1/2",b:"bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2",br:"bottom-0 right-0 translate-x-1/2 translate-y-1/2"},O_={tl:"cursor-nwse-resize",br:"cursor-nwse-resize",tr:"cursor-nesw-resize",bl:"cursor-nesw-resize",t:"cursor-ns-resize",b:"cursor-ns-resize",l:"cursor-ew-resize",r:"cursor-ew-resize"},Ac="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTIxIDJ2NmgtNiIvPjxwYXRoIGQ9Ik0zIDEyYTkgOSAwIDAgMSAxNS02LjdMMjEgOCIvPjwvc3ZnPg==",N_=()=>{const l=[];for(let f=0;f<20;f++){const m=f%2===0?50:40,p=f*Math.PI/10-Math.PI/2,g=50+m*Math.cos(p),v=50+m*Math.sin(p);l.push(`${g.toFixed(2)}% ${v.toFixed(2)}%`)}return`polygon(${l.join(", ")})`},$m="url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTIgMlYyMk0yIDEySDIyTTEyIDJMMTAgNk0xMiAyTDE0IDZNMTIgMjJMMTAgMThNMTIgMjJMMTQgMThNMiAxMkw2IDEwTTIgMTJMNiAxNE0yMiAxMkwxOCAxME0yMiAxMkwxOCAxNCIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMTIgMlYyMk0yIDEySDIyTTEyIDJMMTAgNk0xMiAyTDE0IDZNMTIgMjJMMTAgMThNMTIgMjJMMTQgMThNMiAxMkw2IDEwTTIgMTJMNiAxNE0yMiAxMkwxOCAxME0yMiAxMkwxOCAxNCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0xMCA5SDE0TTEwIDE1SDE0TTEyIDlWMTUiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PHBhdGggZD0iTTEwIDlIMTRNMTAgMTVIMTRNMTIgOVYxNSIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvc3ZnPg==') 12 12, move",qa={fontFamily:"Heebo",fontSize:32,fontWeight:400,color:"#FFFFFF",textShadow:"",lineHeight:1.2},k_=({element:l,isSelected:a,onSelect:s,onUpdate:r,onInteractionEnd:u,onTextSelect:c,onElementRefsChange:f,onEditImage:m,canvasWidth:p,canvasHeight:g,otherElements:v,setSnapLines:w,onInteractionStart:x,isCutterTarget:E,activeStyle:N})=>{const k=_.useRef(null),O=_.useRef(null),R=_.useRef(null),G=_.useRef(null),[C,J]=_.useState(!1),[me,te]=_.useState(!1),[P,Me]=_.useState(!1),[V,oe]=_.useState(null),[ie,ue]=_.useState({visible:!1,x:0,y:0,text:""}),[ze,gt]=_.useState([]);_.useEffect(()=>(l.type===Te.Text&&f(l.id,{content:O.current,wrapper:R.current}),()=>{l.type===Te.Text&&f(l.id,{content:null,wrapper:null})}),[l.id,l.type,f]),_.useEffect(()=>{a||Me(!1)},[a]),_.useEffect(()=>{if(P&&V&&O.current){const{x:ce,y:de}=V,Ye=O.current;Ye.focus();let fe=null;if(document.caretRangeFromPoint)fe=document.caretRangeFromPoint(ce,de);else if(document.caretPositionFromPoint){const Ce=document.caretPositionFromPoint(ce,de);Ce&&(fe=document.createRange(),fe.setStart(Ce.offsetNode,Ce.offset),fe.collapse(!0))}if(fe&&Ye.contains(fe.startContainer)){const Ce=window.getSelection();Ce&&(Ce.removeAllRanges(),Ce.addRange(fe))}oe(null)}else P&&O.current&&O.current.focus()},[P,V]),_.useEffect(()=>{if(a&&l.type===Te.Text){const ce=()=>{var fe;const de=document.getSelection(),Ye=O.current;if(de&&Ye&&de.rangeCount>0&&de.containsNode(Ye,!0)){const Ce=ds(Ye);if(c(Ce),de.isCollapsed)gt([]);else{const qe=l,ut=N||((fe=qe.spans[0])==null?void 0:fe.style)||qa,Ze=de.getRangeAt(0),at=R.current;if(!at)return;const _t=at.getBoundingClientRect(),H=Array.from(Ze.getClientRects()),K=qe.rotation*Math.PI/180,ee=Math.abs(Math.cos(K)),Q=Math.abs(Math.sin(K)),Oe=H.map(xe=>{const be=ut.fontSize*ut.lineHeight;let pe;ee>=Q?pe=ee>1e-6?(xe.width-be*Q)/ee:0:pe=Q>1e-6?(xe.height-be*ee)/Q:0;const ae=xe.left+xe.width/2,_e=xe.top+xe.height/2,ft=_t.left+_t.width/2,Ot=_t.top+_t.height/2;let ht=ae-ft,lt=_e-Ot;const mt=-K,Ae=Math.cos(mt),we=Math.sin(mt),Ne=ht*Ae-lt*we,Ve=ht*we+lt*Ae,st=qe.width/2,L=qe.height/2+Ve-be/2,Z=st+Ne-pe/2;return new DOMRect(Z,L,pe,be)});gt(Oe)}}else c(null),gt([])};return document.addEventListener("selectionchange",ce),ce(),()=>{document.removeEventListener("selectionchange",ce)}}else c(null),gt([])},[a,l,N,c]);const He=ce=>{if(a&&l.type===Te.Text){if(ce.key==="Enter"){ce.preventDefault();const Ye=l.spans.map(Ze=>Ze.text).join(""),{start:fe,end:Ce}=ds(ce.currentTarget),qe=Ye.substring(0,fe)+`
`+Ye.substring(Ce),ut={start:fe+1,end:fe+1};r(l.id,{textContent:qe},!0,ut)}else if(ce.key==="Delete"||ce.key==="Backspace"){const Ye=l.spans.map(Ce=>Ce.text).join(""),fe=ds(ce.currentTarget);if(fe.start!==fe.end){ce.preventDefault();const Ce=Ye.substring(0,fe.start)+Ye.substring(fe.end),qe={start:fe.start,end:fe.start};r(l.id,{textContent:Ce},!0,qe)}}}},B=ce=>{ce.preventDefault();const de=ce.clipboardData.getData("text/plain");if(!de)return;const fe=l.spans.map(Ze=>Ze.text).join(""),Ce=ds(ce.currentTarget),qe=fe.substring(0,Ce.start)+de+fe.substring(Ce.end),ut={start:Ce.start+de.length,end:Ce.start+de.length};r(l.id,{textContent:qe},!0,ut)},F=ce=>{if(l.type===Te.Image){if(ce.target.files&&ce.target.files[0]){const de=ce.target.files[0],Ye=new FileReader;Ye.onload=fe=>{var qe;const Ce=(qe=fe.target)==null?void 0:qe.result;Ce&&m(l,Ce)},Ye.readAsDataURL(de)}ce.target&&(ce.target.value="")}},he=ce=>{var ut;if(P&&l.type===Te.Text&&((ut=O.current)!=null&&ut.contains(ce.target)))return;ce.preventDefault(),ce.stopPropagation();const de=ce.clientX,Ye=ce.clientY;let fe=!1;a||s();const Ce=Ze=>{if(!fe&&(Math.abs(Ze.clientX-de)>5||Math.abs(Ze.clientY-Ye)>5)&&(fe=!0,x()),fe){const at=Ze.clientX-de,_t=Ze.clientY-Ye,H=l.x,K=l.y;let ee=H+at,Q=K+_t;if(l.type!==Te.Cutter){const xe={left:ee,right:ee+l.width,top:Q,bottom:Q+l.height,hCenter:ee+l.width/2,vCenter:Q+l.height/2},be=[0,p/2,p],pe=[0,g/2,g],ae={x:[],y:[]};for(const _e of be){if(Math.abs(xe.left-_e)<5){ee=_e,ae.x.push(_e);break}if(Math.abs(xe.hCenter-_e)<5){ee=_e-l.width/2,ae.x.push(_e);break}if(Math.abs(xe.right-_e)<5){ee=_e-l.width,ae.x.push(_e);break}}for(const _e of pe){if(Math.abs(xe.top-_e)<5){Q=_e,ae.y.push(_e);break}if(Math.abs(xe.vCenter-_e)<5){Q=_e-l.height/2,ae.y.push(_e);break}if(Math.abs(xe.bottom-_e)<5){Q=_e-l.height,ae.y.push(_e);break}}w(ae)}else w({x:[],y:[]});r(l.id,{x:ee,y:Q},!1)}},qe=Ze=>{document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",qe),fe?u():a&&l.type===Te.Text&&(Me(!0),oe({x:Ze.clientX,y:Ze.clientY}))};document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",qe)},ve=(ce,de)=>{ce.preventDefault(),ce.stopPropagation(),x();const Ye=ce.clientX,fe=ce.clientY,{x:Ce,y:qe,width:ut,height:Ze,rotation:at}=l,_t=Ce+ut/2,H=qe+Ze/2,K=at*Math.PI/180,ee=Math.cos(K),Q=Math.sin(K),Oe=be=>{const pe=be.clientX,ae=be.clientY,_e=pe-Ye,ft=ae-fe,Ot=-K,ht=Math.cos(Ot),lt=Math.sin(Ot),mt=_e*ht-ft*lt,Ae=_e*lt+ft*ht;let we=ut,Ne=Ze;const Ve=de.includes("r"),st=de.includes("l"),$=de.includes("b"),L=de.includes("t");if(Ve&&(we=ut+mt),st&&(we=ut-mt),$&&(Ne=Ze+Ae),L&&(Ne=Ze-Ae),we>10&&Ne>10){const Z=we-ut,le=Ne-Ze;let ne=0;st&&(ne=-Z/2),Ve&&(ne=Z/2);let re=0;L&&(re=-le/2),$&&(re=le/2);const De=ne*ee-re*Q,$e=ne*Q+re*ee,ct=_t+De,Vt=H+$e;let Nt=ct-we/2,Ue=Vt-Ne/2;if(l.type!==Te.Cutter){const Qe=[0,p/2,p],pt=[0,g/2,g],Pe={x:[],y:[]},Et={left:Nt,right:Nt+we,top:Ue,bottom:Ue+Ne,hCenter:Nt+we/2,vCenter:Ue+Ne/2};for(const Ke of Qe){if(Math.abs(Et.left-Ke)<5){Nt=Ke,Pe.x.push(Ke);break}if(Math.abs(Et.hCenter-Ke)<5){Nt=Ke-we/2,Pe.x.push(Ke);break}if(Math.abs(Et.right-Ke)<5){Nt=Ke-we,Pe.x.push(Ke);break}}for(const Ke of pt){if(Math.abs(Et.top-Ke)<5){Ue=Ke,Pe.y.push(Ke);break}if(Math.abs(Et.vCenter-Ke)<5){Ue=Ke-Ne/2,Pe.y.push(Ke);break}if(Math.abs(Et.bottom-Ke)<5){Ue=Ke-Ne,Pe.y.push(Ke);break}}w(Pe)}else w({x:[],y:[]});r(l.id,{width:we,height:Ne,x:Nt,y:Ue},!1)}},xe=()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",xe),u()};document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",xe)},Je=ce=>{ce.preventDefault(),ce.stopPropagation(),x(),te(!0);const Ye=k.current.getBoundingClientRect(),fe=Ye.left+Ye.width/2,Ce=Ye.top+Ye.height/2,qe=Math.atan2(ce.clientY-Ce,ce.clientX-fe),ut=l.rotation;document.body.style.cursor=`url('${Ac}') 12 12, auto`;const Ze=_t=>{const K=(Math.atan2(_t.clientY-Ce,_t.clientX-fe)-qe)*(180/Math.PI),ee=ut+K;let Q=ee;l.type!==Te.Cutter&&(Q=Math.round(ee/5)*5),r(l.id,{rotation:Q},!1),ue({visible:!0,x:_t.clientX,y:_t.clientY,text:`${Math.round(Q)}`})},at=()=>{document.removeEventListener("mousemove",Ze),document.removeEventListener("mouseup",at),u(),ue({visible:!1,x:0,y:0,text:""}),document.body.style.cursor="",te(!1)};document.addEventListener("mousemove",Ze),document.addEventListener("mouseup",at)},j={top:"flex-start",middle:"center",bottom:"flex-end"},I=3,W=_.useMemo(()=>{if(l.type===Te.Text){if(P)return{wrapper:"default",content:"text"};if(a)return{wrapper:$m,content:$m}}return{wrapper:"move",content:"move"}},[l.type,a,P]),se={position:"absolute",top:`${l.y}px`,left:`${l.x}px`,width:`${l.width}px`,height:`${l.height}px`,transform:`rotate(${l.rotation}deg)`,zIndex:l.zIndex,cursor:W.wrapper,boxSizing:"border-box"};l.type===Te.Text&&(se.padding=`${I}px`);const Ee=()=>{var ce;switch(l.type){case Te.Text:const de=l,Ye=de.backgroundShape||"rectangle",fe=de.outline||{enabled:!1,width:0,color:"#FFFFFF"},Ce={width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:j[de.verticalAlign],backgroundColor:de.backgroundColor,overflow:"hidden",position:"relative"};Ye==="rounded"?Ce.borderRadius="25px":Ye==="ellipse"?Ce.borderRadius="50%":Ye==="sun"&&(Ce.clipPath=N_()),fe.enabled&&fe.width>0&&(Ce.border=`${fe.width}px solid ${fe.color}`);const qe=(ce=de.spans[0])==null?void 0:ce.style,ut={outline:"none",padding:`${de.padding}px`,letterSpacing:`${de.letterSpacing}px`,textAlign:de.textAlign,textAlignLast:de.textAlign==="justify"?"justify":"auto",userSelect:P?"text":"none",cursor:W.content,whiteSpace:"pre-wrap",position:"relative",zIndex:1,...qe&&{fontFamily:qe.fontFamily,fontSize:`${qe.fontSize}px`,fontWeight:qe.fontWeight,color:qe.color,textShadow:qe.textShadow,lineHeight:qe.lineHeight||1.2}};return h.jsxs("div",{ref:R,style:Ce,children:[a&&ze.map((at,_t)=>{const H=at.height*.7,K=at.y+at.height*(1-.7)/2;return h.jsx("div",{style:{position:"absolute",top:`${K}px`,left:`${at.x}px`,width:`${at.width}px`,height:`${H}px`,backgroundColor:"#64748b",pointerEvents:"none",zIndex:0}},`selection-rect-${_t}`)}),h.jsx("div",{ref:O,style:ut,className:a?"has-custom-selection":"",contentEditable:P,suppressContentEditableWarning:!0,dir:"auto",onKeyDown:He,onPaste:B,onInput:at=>{const _t=at.currentTarget.innerText,H=de.spans.map(K=>K.text).join("");if(_t!==H){const K=ds(at.currentTarget);r(l.id,{textContent:_t},!0,K)}},children:de.spans.map((at,_t)=>h.jsx("span",{style:{fontFamily:at.style.fontFamily,fontSize:`${at.style.fontSize}px`,fontWeight:at.style.fontWeight,color:at.style.color,textShadow:at.style.textShadow,lineHeight:at.style.lineHeight||1.2},children:at.text},_t))})]});case Te.Image:const Ze=l;return h.jsx(h.Fragment,{children:Ze.src?h.jsx("img",{src:Ze.src,alt:"Uploaded content",className:"w-full h-full pointer-events-none",style:{objectFit:Ze.objectFit}}):h.jsxs("div",{className:"w-full h-full border-2 border-dashed border-gray-400 bg-gray-700 flex flex-col items-center justify-center text-center text-gray-300 pointer-events-none",children:[h.jsx(u0,{className:"w-8 h-8 mb-2"}),h.jsx("span",{children:" "})]})});case Te.Cutter:return h.jsx("div",{className:"w-full h-full bg-red-500/30 border-2 border-dashed border-red-500 pointer-events-none flex items-center justify-center text-center p-4",style:{borderRadius:"50%"},children:h.jsx("span",{className:"text-white text-sm",children:"          ."})});default:return null}},ke=["tl","t","tr","l","r","bl","b","br"],et=()=>ie.visible?Nb.createPortal(h.jsx("div",{style:{position:"fixed",top:`${ie.y}px`,left:`${ie.x}px`,transform:"translate(15px, -25px)",backgroundColor:"rgba(17, 24, 39, 0.9)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none",zIndex:1e4,whiteSpace:"nowrap"},children:ie.text}),document.body):null;return h.jsxs(h.Fragment,{children:[et(),h.jsxs("div",{ref:k,style:se,onMouseDown:he,onMouseEnter:()=>J(!0),onMouseLeave:()=>J(!1),"data-element-id":l.id,children:[l.type===Te.Image&&h.jsx("input",{type:"file",ref:G,className:"hidden",accept:"image/*",onChange:F}),Ee(),E&&h.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-white pointer-events-none"}),a&&!P&&h.jsx("div",{className:"absolute inset-0 border-2 border-blue-500 pointer-events-none",style:l.type===Te.Cutter?{borderRadius:"50%"}:{}}),a&&P&&l.type===Te.Text&&h.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-blue-500 pointer-events-none"}),C&&!a&&h.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-slate-400 pointer-events-none"}),a&&!P&&h.jsxs(h.Fragment,{children:[ke.map(ce=>h.jsx("div",{onMouseDown:de=>ve(de,ce),style:me?{cursor:`url('${Ac}') 12 12, auto`}:{},className:`absolute bg-blue-500 border-2 border-white rounded-full w-3 h-3 z-50 ${R_[ce]} ${O_[ce]}`},ce)),h.jsx("div",{onMouseDown:Je,style:{cursor:`url('${Ac}') 12 12, auto`},className:`absolute -top-8 left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 border-2 border-white rounded-full z-50
                                        before:content-[''] before:absolute before:left-1/2 before:-translate-x-1/2 before:top-full before:w-0.5 before:h-4 before:bg-blue-500`})]})]})]})};function ds(l){let a=0,s=0;const r=window.getSelection();if(r&&r.rangeCount>0){const u=r.getRangeAt(0);if(l.contains(u.commonAncestorContainer)){const c=u.cloneRange();c.selectNodeContents(l),c.setEnd(u.startContainer,u.startOffset),a=c.toString().length,s=a+u.toString().length}else a=s=l.innerText.length}return{start:a,end:s}}function Im(l,a,s){var w;const r=window.getSelection();if(!r)return;let u=null,c=0,f=null,m=0;const p=document.createNodeIterator(l,NodeFilter.SHOW_TEXT);let g,v=0;for(;(g=p.nextNode())&&!f;){const x=((w=g.textContent)==null?void 0:w.length)||0,E=v+x;!u&&a>=v&&a<=E&&(u=g,c=a-v),!f&&s>=v&&s<=E&&(f=g,m=s-v),v=E}if(u&&f){const x=document.createRange();x.setStart(u,c),x.setEnd(f,m),r.removeAllRanges(),r.addRange(x)}}function M_(l,a,s){if(!a)return l;const r=p=>{if(p.length<2)return p.filter(v=>v.text.length>0||p.length===1);const g=[];if(p.length>0){g.push(p[0]);for(let v=1;v<p.length;v++){const w=g[g.length-1],x=p[v];x.text&&JSON.stringify(w.style)===JSON.stringify(x.style)?w.text+=x.text:(x.text||p.length===1&&x.text==="")&&g.push(x)}}return g.filter(v=>v.text.length>0||g.length===1)},{start:u,end:c}=a;if(u===c){let p=0;const g=l.map(v=>{const w=p+v.text.length,x=u>=p&&u<=w;return p=w,x?{...v,style:{...qa,...v.style,...s}}:v});return r(g)}const f=[];let m=0;for(const p of l){const g=m+p.text.length;if(g<=u||m>=c)f.push({...p});else{const v=p.text.substring(0,Math.max(0,u-m)),w=p.text.substring(Math.max(0,u-m),Math.min(p.text.length,c-m)),x=p.text.substring(Math.min(p.text.length,c-m));if(v&&f.push({...p,text:v}),w){const E={...qa,...p.style,...s};f.push({...p,text:w,style:E})}x&&f.push({...p,text:x})}m=g}return r(f)}const Ym=l=>{const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},D_=l=>{if(!l||l==="transparent")return{hex:"#ffffff",alpha:0};if(l.startsWith("#"))return{hex:l,alpha:1};if(l.startsWith("rgb")){const a=l.match(/[\d.]+/g);if(a&&a.length>=3){const[s,r,u,c="1"]=a,f=p=>parseInt(p).toString(16).padStart(2,"0");return{hex:`#${f(s)}${f(r)}${f(u)}`,alpha:parseFloat(c)}}}return{hex:"#000000",alpha:1}},U_=({selectedElement:l,onUpdateElement:a,onAddElement:s,onDeleteElement:r,template:u,onUpdateTemplate:c,onEditImage:f,onStyleUpdate:m,activeStyle:p,onDeselect:g,onLayerOrderChange:v,onApplyCut:w,isApplyingCut:x})=>{const[E,N]=_.useState((l==null?void 0:l.id)||""),[k,O]=_.useState(null);_.useEffect(()=>{l&&N(l.id)},[l]),_.useEffect(()=>{l?l.type===Te.Text?O(" "):O(" "):O(" ")},[l==null?void 0:l.id]);const R=C=>{O(J=>J===C?null:C)},G=()=>{if(!l)return;const C=!u.elements.some(J=>J.id===E&&J.id!==l.id);E&&E!==l.id&&C?a(l.id,{id:E}):(N(l.id),C||console.warn(`ID "${E}" already exists. Reverting.`))};return h.jsxs("aside",{className:"w-80 bg-slate-800 text-white flex flex-col h-full border-r border-slate-700",dir:"rtl",children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center gap-2",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-bold",children:l?` ${l.type==="text"?"":l.type==="image"?"":" "}`:""}),!l&&h.jsx("p",{className:"text-xs text-slate-400",children:"    ..."})]}),l&&h.jsx("button",{onClick:g,className:"p-1 rounded-full hover:bg-slate-700","aria-label":"    ",children:h.jsx(Vb,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"flex-grow overflow-y-auto",children:l?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between gap-4",children:[h.jsx("label",{htmlFor:"elementIdInput",className:"text-sm text-slate-400 whitespace-nowrap",children:"  (ID)"}),h.jsx("input",{id:"elementIdInput",type:"text",value:E,onChange:C=>N(C.target.value),onBlur:G,onKeyDown:C=>{C.key==="Enter"&&C.target.blur()},className:"flex-grow bg-slate-700 border border-slate-600 rounded p-2 text-sm"})]}),l.type===Te.Cutter&&h.jsx("div",{className:"p-4 border-b border-slate-700",children:h.jsx("button",{onClick:w,disabled:x,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 disabled:cursor-wait",children:x?"...":" "})}),l.type===Te.Text&&h.jsx(B_,{element:l,onUpdate:a,onStyleUpdate:m,activeStyle:p,openAccordion:k,onAccordionToggle:R}),l.type===Te.Image&&h.jsx(H_,{element:l,onEditImage:f}),(l.type===Te.Image||l.type===Te.Cutter||l.type===Te.Text)&&h.jsx(gl,{title:" ",isOpen:k===" ",onToggle:()=>R(" "),children:h.jsx(q_,{element:l,onUpdate:a})}),h.jsx(gl,{title:"",isOpen:k==="",onToggle:()=>R(""),children:h.jsx(z_,{element:l,onLayerOrderChange:v,totalElements:u.elements.length})}),h.jsx("div",{className:"p-4 mt-4 border-t border-slate-700",children:h.jsxs("button",{onClick:()=>r(l.id),className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded flex items-center justify-center gap-2",children:[h.jsx(Wc,{className:"w-4 h-4"})," "]})})]}):h.jsx(L_,{onAddElement:s,template:u,onUpdateTemplate:c,openAccordion:k,onAccordionToggle:R})})]})},gl=({title:l,children:a,isOpen:s,onToggle:r})=>{const[u,c]=_.useState(!1);return _.useEffect(()=>{if(s){const f=setTimeout(()=>{c(!0)},500);return()=>clearTimeout(f)}else c(!1)},[s]),h.jsxs("div",{className:`border-b border-slate-700 relative ${s?"z-10":"z-0"}`,children:[h.jsxs("button",{onClick:r,className:"w-full flex items-center p-4 hover:bg-slate-700/50 gap-2",children:[h.jsx(Xr,{className:`w-5 h-5 transition-transform duration-300 ${s?"rotate-180":""}`}),h.jsx("span",{className:"font-semibold",children:l})]}),h.jsx("div",{className:`transition-all duration-500 ease-in-out ${u?"overflow-visible":"overflow-hidden"} ${s?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:h.jsx("div",{className:"py-4 pl-4 pr-11 bg-slate-900/50",children:a})})]})},z_=({element:l,onLayerOrderChange:a,totalElements:s})=>{const r=l.zIndex<=1,u=l.zIndex>=s,c="flex items-center justify-center bg-slate-700 hover:bg-slate-600 px-2 rounded-md disabled:opacity-50 disabled:cursor-not-allowed h-[30px]";return h.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[h.jsx("button",{onClick:()=>a(l.id,"front"),disabled:u,className:c,title:" ",children:h.jsx(Bb,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>a(l.id,"forward"),disabled:u,className:c,title:" ",children:h.jsx(c0,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>a(l.id,"backward"),disabled:r,className:c,title:" ",children:h.jsx(Xr,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>a(l.id,"back"),disabled:r,className:c,title:" ",children:h.jsx(Hb,{className:"w-5 h-5"})})]})},L_=({onAddElement:l,template:a,onUpdateTemplate:s,openAccordion:r,onAccordionToggle:u})=>h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-2",children:" "}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>l(Te.Text),className:"flex flex-col items-center justify-center gap-2 bg-slate-700 hover:bg-slate-600 p-4 rounded-md",children:[h.jsx(Db,{className:"w-6 h-6"}),h.jsx("span",{children:" "})]}),h.jsxs("button",{onClick:()=>l(Te.Image),className:"flex flex-col items-center justify-center gap-2 bg-slate-700 hover:bg-slate-600 p-4 rounded-md",children:[h.jsx(u0,{className:"w-6 h-6"}),h.jsx("span",{children:" "})]}),h.jsxs("button",{onClick:()=>l(Te.Cutter),className:"col-span-2 flex items-center justify-center gap-2 bg-slate-700 hover:bg-slate-600 p-4 rounded-md",children:[h.jsx(Ub,{className:"w-6 h-6"}),h.jsx("span",{children:"  "})]})]})]}),h.jsx("div",{children:h.jsxs("label",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-slate-400 whitespace-nowrap",children:" "}),h.jsx("input",{type:"text",value:a.name,onChange:c=>s({name:c.target.value}),className:"w-full bg-slate-700 border border-slate-600 rounded p-2 text-sm"})]})}),h.jsx(gl,{title:" ",isOpen:r===" ",onToggle:()=>u(" "),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Rn,{label:"",value:a.width,onChange:c=>s({width:c}),step:10}),h.jsx(Rn,{label:"",value:a.height,onChange:c=>s({height:c}),step:10})]}),h.jsxs("label",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsx("input",{type:"color",value:a.background_color,onChange:c=>s({background_color:c.target.value}),className:"w-24 h-10 bg-slate-700 border border-slate-600 rounded p-1"})]})]})})]}),B_=({element:l,onUpdate:a,onStyleUpdate:s,activeStyle:r,openAccordion:u,onAccordionToggle:c})=>{var Me;const f=_.useRef(null),m=_.useRef(null),p=_.useRef(null),g=[8,10,12,14,16,18,24,30,36,48,60,72,96],v=(V,oe)=>{a(l.id,{[V]:oe})},w=(V,oe,ie)=>{s({[V]:oe},ie)},x=r||((Me=l.spans[0])==null?void 0:Me.style);if(!x)return null;const E={...qa,...x},{hex:N,alpha:k}=D_(l.backgroundColor),O=l.outline||{enabled:!1,color:"#FFFFFF",width:1},R=V=>{const oe=Ym(V);if(oe){const ie=l.backgroundColor==="transparent"?1:k,ue=`rgba(${oe.r}, ${oe.g}, ${oe.b}, ${ie})`;v("backgroundColor",ue)}},G=V=>{const oe=Ym(N);if(oe){const ie=`rgba(${oe.r}, ${oe.g}, ${oe.b}, ${V/100})`;v("backgroundColor",ie)}},C=E.textShadow&&E.textShadow!=="none"&&E.textShadow!=="",J="2px 2px 4px rgba(0,0,0,0.5)",me=()=>{w("textShadow",C?"":J)},te=V=>{a(l.id,{outline:{...O,...V}})},P={right:{icon:Pb,title:" "},center:{icon:Qb,title:" "},left:{icon:Zb,title:" "},justify:{icon:Fb,title:"  "}};return h.jsxs("div",{children:[h.jsx(gl,{title:" ",isOpen:u===" ",onToggle:()=>c(" "),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm text-slate-400",children:""}),h.jsx("select",{value:E.fontFamily,onChange:V=>w("fontFamily",V.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-2 h-[30px] mt-1 text-sm",children:Yc.map(V=>h.jsx("option",{value:V.name,style:{fontFamily:V.name},children:V.name},V.name))})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(Rn,{label:"",value:E.fontSize,onChange:(V,oe)=>w("fontSize",V,oe),min:1,presets:g}),h.jsxs("label",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:""}),h.jsxs("select",{value:E.fontWeight,onChange:V=>w("fontWeight",parseInt(V.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded px-2 h-[30px] mt-1 text-sm",children:[h.jsx("option",{value:"400",children:""}),h.jsx("option",{value:"500",children:""}),h.jsx("option",{value:"700",children:""}),h.jsx("option",{value:"900",children:""})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("label",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsx("div",{className:"flex items-center gap-2 mt-1",children:h.jsxs("div",{onClick:()=>{var V;return(V=f.current)==null?void 0:V.click()},className:"relative w-full h-[30px] rounded-md cursor-pointer bg-slate-900/50 p-0.5 ring-1 ring-slate-600 hover:ring-blue-500 transition-all shadow-inner shadow-black/20",children:[h.jsx("div",{className:"w-full h-full rounded-sm",style:{backgroundColor:E.color}}),h.jsx("input",{ref:f,type:"color",value:E.color,onChange:V=>w("color",V.target.value),className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer"})]})})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsx("button",{onClick:me,title:C?"  ":"  ",className:`w-full flex items-center justify-center h-[30px] rounded mt-1 transition-colors ${C?"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:h.jsx(Xb,{className:"w-5 h-5"})})]})]})]})}),h.jsx(gl,{title:" ",isOpen:u===" ",onToggle:()=>c(" "),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("label",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsxs("div",{onClick:()=>{var V;return(V=m.current)==null?void 0:V.click()},className:"relative w-full h-[30px] rounded-md cursor-pointer bg-slate-900/50 p-0.5 ring-1 ring-slate-600 hover:ring-blue-500 transition-all shadow-inner shadow-black/20",children:[h.jsx("div",{className:"w-full h-full rounded-sm",style:{backgroundColor:l.backgroundColor,backgroundImage:l.backgroundColor==="transparent"?`linear-gradient(45deg, #ccc 25%, transparent 25%),
                                               linear-gradient(-45deg, #ccc 25%, transparent 25%),
                                               linear-gradient(45deg, transparent 75%, #ccc 75%),
                                               linear-gradient(-45deg, transparent 75%, #ccc 75%)`:"none",backgroundSize:"10px 10px",backgroundPosition:"0 0, 0 5px, 5px -5px, -5px 0px"}}),h.jsx("input",{ref:m,type:"color",value:N,onChange:V=>R(V.target.value),className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer"})]}),h.jsx("button",{onClick:()=>v("backgroundColor","transparent"),className:"h-[30px] w-[30px] bg-slate-700 hover:bg-slate-600 rounded flex-shrink-0 flex items-center justify-center",title:"  ","aria-label":"Set background to transparent",children:h.jsx(Jb,{className:"w-5 h-5 text-slate-400"})})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:[" : ",Math.round(k*100),"%"]}),h.jsx("input",{type:"range",min:"0",max:"100",value:Math.round(k*100),onChange:V=>G(parseInt(V.target.value,10)),className:"w-full"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsxs("select",{value:l.backgroundShape||"rectangle",onChange:V=>v("backgroundShape",V.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-2 h-[30px] mt-1 text-sm",children:[h.jsx("option",{value:"rectangle",children:""}),h.jsx("option",{value:"rounded",children:" "}),h.jsx("option",{value:"ellipse",children:""}),h.jsx("option",{value:"sun",children:""})]})]}),h.jsxs("div",{className:"space-y-2 pt-2 border-t border-slate-700",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[h.jsx("input",{type:"checkbox",checked:O.enabled,onChange:V=>te({enabled:V.target.checked}),className:"w-4 h-4 rounded bg-slate-600 border-slate-500 text-blue-500 focus:ring-blue-500"}),h.jsx("span",{children:" "})]}),O.enabled&&h.jsxs("div",{className:"grid grid-cols-2 gap-2 items-end",children:[h.jsx(Rn,{label:"",value:O.width,onChange:V=>te({width:V}),min:0}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:""}),h.jsxs("div",{onClick:()=>{var V;return(V=p.current)==null?void 0:V.click()},className:"relative w-full h-[30px] rounded-md cursor-pointer bg-slate-900/50 p-0.5 ring-1 ring-slate-600 hover:ring-blue-500 transition-all shadow-inner shadow-black/20 mt-1",children:[h.jsx("div",{className:"w-full h-full rounded-sm",style:{backgroundColor:O.color}}),h.jsx("input",{ref:p,type:"color",value:O.color,onChange:V=>te({color:V.target.value}),className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer"})]})]})]})]})]})}),h.jsx(gl,{title:" ",isOpen:u===" ",onToggle:()=>c(" "),children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsx("div",{className:"grid grid-cols-4 gap-1 p-1 bg-slate-900 rounded-md mt-1",children:["right","center","left","justify"].map(V=>{const oe=P[V].icon;return h.jsx("button",{onClick:()=>v("textAlign",V),title:P[V].title,className:`px-2 h-[30px] rounded flex items-center justify-center ${l.textAlign===V?"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:h.jsx(oe,{className:"w-5 h-5 mx-auto"})},V)})})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-slate-400",children:" "}),h.jsxs("div",{className:"grid grid-cols-3 gap-1 p-1 bg-slate-900 rounded-md mt-1",children:[h.jsx("button",{onClick:()=>v("verticalAlign","top"),title:" ",className:`px-2 h-[30px] rounded ${l.verticalAlign==="top"?"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:h.jsx(Ib,{className:"w-5 h-5 mx-auto"})}),h.jsx("button",{onClick:()=>v("verticalAlign","middle"),title:" ",className:`px-2 h-[30px] rounded ${l.verticalAlign==="middle"?"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:h.jsx($b,{className:"w-5 h-5 mx-auto"})}),h.jsx("button",{onClick:()=>v("verticalAlign","bottom"),title:" ",className:`px-2 h-[30px] rounded ${l.verticalAlign==="bottom"?"bg-blue-600":"bg-slate-700 hover:bg-slate-600"}`,children:h.jsx(qb,{className:"w-5 h-5 mx-auto"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx(Rn,{label:" ",value:E.lineHeight||1.2,onChange:V=>w("lineHeight",V),step:.1,min:0,toFixed:1}),h.jsx(Rn,{label:" ",value:l.letterSpacing,onChange:V=>v("letterSpacing",V)})]}),h.jsx(Rn,{label:"",value:l.padding,onChange:V=>v("padding",V),min:0})]})})]})},H_=({element:l,onEditImage:a})=>{const s=_.useRef(null),r=()=>{var c;l.src?a(l):(c=s.current)==null||c.click()},u=c=>{if(c.target.files&&c.target.files[0]){const f=c.target.files[0],m=new FileReader;m.onload=p=>{var v;const g=(v=p.target)==null?void 0:v.result;g&&a(l,g)},m.readAsDataURL(f)}c.target&&(c.target.value="")};return h.jsxs("div",{className:"p-4 border-b border-slate-700",children:[h.jsx("input",{type:"file",ref:s,className:"hidden",accept:"image/*",onChange:u}),h.jsx("button",{onClick:r,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:l.src?" ":" "})]})},q_=({element:l,onUpdate:a})=>{const s=(r,u)=>{isNaN(u)||a(l.id,{[r]:u})};return h.jsxs("div",{className:"p-4 grid grid-cols-2 gap-x-2 gap-y-3",children:[h.jsx(Rn,{label:" (W)",value:Math.round(l.width),onChange:r=>s("width",r),min:10}),h.jsx(Rn,{label:" (H)",value:Math.round(l.height),onChange:r=>s("height",r),min:10}),h.jsx(Rn,{label:" X",value:Math.round(l.x),onChange:r=>s("x",r)}),h.jsx(Rn,{label:" Y",value:Math.round(l.y),onChange:r=>s("y",r)}),h.jsx("div",{className:"col-span-2",children:h.jsx(Rn,{label:" ()",value:Math.round(l.rotation),onChange:r=>s("rotation",r),min:-360,max:360})})]})},Rc="embedded-google-fonts-stylesheet",L0=_.createContext({fontCss:null,loading:!0}),$_=({children:l})=>{const[a,s]=_.useState(null),[r,u]=_.useState(!0);return _.useEffect(()=>{(async()=>{if(document.getElementById(Rc)){u(!1);return}try{const f=await A_();if(f){s(f);const m=document.createElement("style");m.id=Rc,m.textContent=f,document.head.appendChild(m)}else{const m=z0();if(m){const p=document.createElement("link");p.id=Rc,p.rel="stylesheet",p.href=m,document.head.appendChild(p)}}}catch(f){console.error("Error in FontProvider:",f)}finally{u(!1)}})()},[]),h.jsx(L0.Provider,{value:{fontCss:a,loading:r},children:l})},I_=()=>_.useContext(L0),Y_=_.forwardRef(({initialTemplate:l,onEditImage:a,onSaveTemplate:s},r)=>{const u=$a(),{fontCss:c}=I_(),[f,m]=_.useState(null),[p,g]=_.useState({x:[],y:[]}),[v,w]=_.useState(l),x=_.useRef(v);x.current=v;const E=_.useRef(null),[N,k]=_.useState(!1),[O,R]=_.useState(!1),[G,C]=_.useState(!1),[J,me]=_.useState(null),[te,P]=_.useState(null),[Me,V]=_.useState([l]),[oe,ie]=_.useState(0),ue=_.useRef(null),ze=_.useRef({}),[gt,He]=_.useState(null);_.useEffect(()=>{w(l)},[l]),_.useEffect(()=>{const H=JSON.stringify(v)!==JSON.stringify(l);R(H)},[v,l]),_.useLayoutEffect(()=>{var H;if(gt){const{id:K,pos:ee}=gt,Q=(H=ze.current[K])==null?void 0:H.content;Q&&(Q.focus({preventScroll:!0}),Im(Q,ee.start,ee.end)),He(null)}},[gt]),_.useEffect(()=>{const H=G?"none":"";return document.body.style.userSelect=H,document.body.style.webkitUserSelect=H,()=>{document.body.style.userSelect="",document.body.style.webkitUserSelect=""}},[G]);const B=_.useCallback((H,K)=>{ze.current[H]||(ze.current[H]={}),Object.assign(ze.current[H],K)},[]),F=_.useCallback(H=>{V(K=>{const ee=K.slice(0,oe+1);return ee.push(H),ie(ee.length-1),ee})},[oe]),he=_.useCallback((H,K=!0)=>{w(H),K&&F(H)},[F]);_.useImperativeHandle(r,()=>({updateTemplateFromParent:H=>{he(H,!0)},applyImageEdit:(H,K)=>{const ee=E.current;if(!ee)return;const{newSrc:Q,newOriginalSrc:Oe,editState:xe}=K,be=ee.elements.map(ae=>ae.id===H?{...ae,src:Q,originalSrc:Oe,editState:xe}:ae),pe={...ee,elements:be};he(pe,!0),E.current=null}}),[he]);const ve=_.useCallback((H,K)=>{const ee=K.filter(Q=>Q.id!==H.id&&(Q.type==="image"||Q.type==="text")).sort((Q,Oe)=>Oe.zIndex-Q.zIndex);for(const Q of ee){const Oe={x:H.x+H.width/2,y:H.y+H.height/2},xe={a:H.width/2,b:H.height/2};if(xe.a<=0||xe.b<=0)continue;const be=H.rotation*(Math.PI/180),pe={x:Q.x+Q.width/2,y:Q.y+Q.height/2},ae={w:Q.width/2,h:Q.height/2},_e=Q.rotation*(Math.PI/180),ft=[{x:-ae.w,y:-ae.h},{x:ae.w,y:-ae.h},{x:ae.w,y:ae.h},{x:-ae.w,y:ae.h}].map(Ae=>{const we=Math.cos(_e),Ne=Math.sin(_e),Ve=Ae.x*we-Ae.y*Ne,st=Ae.x*Ne+Ae.y*we;return{x:Ve+pe.x,y:st+pe.y}}),Ot=xe.a,ht=xe.b>0?xe.a/xe.b:0,lt=ft.map(Ae=>{let we=Ae.x-Oe.x,Ne=Ae.y-Oe.y;const Ve=Math.cos(-be),st=Math.sin(-be);let $=we*Ve-Ne*st,Z=(we*st+Ne*Ve)*ht;return{x:$,y:Z}});let mt=!1;for(let Ae=0,we=lt.length-1;Ae<lt.length;we=Ae++){const Ne=lt[Ae],Ve=lt[we];Ne.y>0!=Ve.y>0&&(Ve.x-Ne.x)*(0-Ne.y)/(Ve.y-Ne.y)+Ne.x>0&&(mt=!mt)}if(mt)return Q;for(let Ae=0,we=lt.length-1;Ae<lt.length;we=Ae++){const Ne=lt[Ae],Ve=lt[we],st={x:Ve.x-Ne.x,y:Ve.y-Ne.y},$={x:-Ne.x,y:-Ne.y},L=st.x*st.x+st.y*st.y;if(L===0)continue;const Z=$.x*st.x+$.y*st.y,le=Math.max(0,Math.min(1,Z/L)),ne={x:Ne.x+le*st.x,y:Ne.y+le*st.y};if(ne.x*ne.x+ne.y*ne.y<=Ot*Ot)return Q}}return null},[]),Je=_.useCallback(()=>{F(x.current),C(!1),g({x:[],y:[]}),m(null)},[F]),j=(H,K,ee=!0,Q)=>{let Oe=Q;const xe=v.elements.map(pe=>{var ae,_e;if(pe.id!==H)return pe;if(pe.type===Te.Text){const{textContent:ft,...Ot}=K;let ht=pe.spans;if(ft!==void 0){const lt=ft;if(lt==="")ht=[{text:"",style:((ae=pe.spans[0])==null?void 0:ae.style)||qa}],Oe={start:0,end:0};else{const mt=pe.spans.map(Ae=>Ae.text).join("");if(mt===lt)ht=pe.spans;else{let Ae=0;for(;Ae<mt.length&&Ae<lt.length&&mt[Ae]===lt[Ae];)Ae++;let we=0;for(;we<mt.length-Ae&&we<lt.length-Ae&&mt[mt.length-1-we]===lt[lt.length-1-we];)we++;const Ne=lt.substring(Ae,lt.length-we);let Ve=((_e=pe.spans[0])==null?void 0:_e.style)||{fontFamily:"Heebo",fontSize:16,fontWeight:400,color:"#FFFFFF",textShadow:"",lineHeight:1.2},st=0;for(const re of pe.spans){const De=st+re.text.length;if(Ae>=st&&Ae<=De){Ve=re.style;break}pe.spans.length>0&&Ae>De&&(Ve=pe.spans[pe.spans.length-1].style),st=De}const $=[],L=[];st=0;for(const re of pe.spans){const De=st,$e=De+re.text.length;if($e<=Ae)$.push({...re});else if(De<Ae){const ct=re.text.substring(0,Ae-De);$.push({text:ct,style:re.style})}if(De>=mt.length-we)L.push({...re});else if($e>mt.length-we){const ct=re.text.substring(mt.length-we-De);L.push({text:ct,style:re.style})}st=$e}const Z=Ne?[{text:Ne,style:Ve}]:[],le=[...$,...Z,...L],ne=[];if(le.length>0){ne.push(le[0]);for(let re=1;re<le.length;re++){const De=ne[ne.length-1],$e=le[re];$e.text&&JSON.stringify(De.style)===JSON.stringify($e.style)?De.text+=$e.text:$e.text&&ne.push($e)}}ht=ne.filter(re=>re.text.length>0),ht.length===0&&ht.push({text:"",style:Ve}),ht=ht.map(re=>({...re,style:{...qa,...re.style}}))}}}return{...pe,...Ot,spans:ht}}return pe.type===Te.Image?{...pe,...K}:pe.type===Te.Cutter?{...pe,...K}:pe}),be=xe.find(pe=>pe.id===H);if(be&&be.type===Te.Cutter){const pe=be,ae=ve(pe,xe);m(ae?ae.id:null);const{x:_e,y:ft,width:Ot,height:ht,rotation:lt}=pe,mt={x:_e,y:ft,width:Ot,height:ht,rotation:lt},Ae=`cutterState_${v.id}`;try{sessionStorage.setItem(Ae,JSON.stringify(mt))}catch(we){console.error("Failed to save cutter state to sessionStorage",we)}}he({...v,elements:xe},ee),Oe&&He({id:H,pos:Oe}),K.id&&K.id!==H&&J===H&&me(K.id)},I=(H,K=!1)=>{if(!J)return;const ee=v.elements.map(Q=>{var Oe;if(Q.id===J&&Q.type===Te.Text){if(H.fontSize!==void 0&&te===null&&!K){const ae=(Ce==null?void 0:Ce.fontSize)||((Oe=Q.spans[0])==null?void 0:Oe.style.fontSize)||qa.fontSize,_e=H.fontSize;if(ae>0&&_e!==ae){const ft=_e/ae,Ot=Q.spans.map(ht=>({...ht,style:{...ht.style,fontSize:Math.round(ht.style.fontSize*ft*10)/10}}));return{...Q,spans:Ot}}return Q}const xe=te===null?{start:0,end:Q.spans.reduce((ae,_e)=>ae+_e.text.length,0)}:te,be=M_(Q.spans,xe,H);return{...Q,spans:be}}return Q});he({...v,elements:ee}),setTimeout(()=>{var Oe;const Q=(Oe=ze.current[J])==null?void 0:Oe.content;Q&&te&&(Q.focus({preventScroll:!0}),Im(Q,te.start,te.end))},0)},W=(H,K)=>{const ee=v.elements.length>0?Math.max(...v.elements.map(be=>be.zIndex))+1:1;let Q;const Oe=`el_${Date.now()}`;if(H===Te.Text)Q={id:Oe,type:Te.Text,x:(v.width-300)/2,y:(v.height-100)/2,width:300,height:100,rotation:0,zIndex:ee,spans:[{text:" ",style:{...qa,fontSize:48,fontWeight:700}}],textAlign:"right",verticalAlign:"middle",letterSpacing:0,backgroundColor:"transparent",padding:10,backgroundShape:"rectangle",outline:{enabled:!1,color:"#FFFFFF",width:2}};else if(H===Te.Cutter){const be=`cutterState_${v.id}`,pe=sessionStorage.getItem(be);let ae=null;if(pe)try{ae=JSON.parse(pe)}catch(ft){console.error("Failed to parse cutter state from sessionStorage",ft)}const _e=250;Q={id:Oe,type:Te.Cutter,x:(ae==null?void 0:ae.x)??(v.width-_e)/2,y:(ae==null?void 0:ae.y)??(v.height-_e)/2,width:(ae==null?void 0:ae.width)??_e,height:(ae==null?void 0:ae.height)??_e,rotation:(ae==null?void 0:ae.rotation)??0,zIndex:9999}}else Q={id:Oe,type:Te.Image,x:(v.width-400)/2,y:(v.height-300)/2,width:400,height:300,rotation:0,zIndex:ee,src:(K==null?void 0:K.src)||null,originalSrc:(K==null?void 0:K.src)||null,objectFit:"cover"};const xe=[...v.elements,Q];he({...v,elements:xe}),me(Oe),H===Te.Image&&(K!=null&&K.src)&&se(Q,K.src)},se=(H,K)=>{E.current=v,a(H,K)},Ee=H=>{const K=v.elements.filter(ee=>ee.id!==H);he({...v,elements:K}),me(null)},ke=()=>{if(oe>0){const H=oe-1;ie(H),w(Me[H])}},et=()=>{if(oe<Me.length-1){const H=oe+1;ie(H),w(Me[H])}},ce=async()=>{k(!0),qe(null),await new Promise(K=>setTimeout(K,50));let H=v.previewImage||void 0;if(ue.current&&window.htmlToImage)try{const K=await window.htmlToImage.toPng(ue.current,{pixelRatio:1,fontEmbedCSS:c??void 0}),ee=new Image;H=await new Promise((Oe,xe)=>{ee.onload=()=>{const pe=ee.height/ee.width,ae=Math.round(400*pe),_e=document.createElement("canvas");_e.width=400,_e.height=ae;const ft=_e.getContext("2d");ft?(ft.drawImage(ee,0,0,400,ae),Oe(_e.toDataURL("image/png"))):xe(new Error("Could not get 2D context for thumbnail canvas."))},ee.onerror=be=>{console.error("Image loading for thumbnail failed:",be),xe(new Error("Failed to load full-resolution image for resizing."))},ee.src=K})}catch(K){console.error("html-to-image failed for preview:",K)}await s({...v},H),k(!1)},de=async()=>{var xe;const H=v.elements.find(be=>be.id===J&&be.type===Te.Cutter);if(!H)return;const K=ve(H,v.elements);if(!K){alert("     .");return}k(!0);let ee=null,Q=null;if(K.type===Te.Text){const be=(xe=ze.current[K.id])==null?void 0:xe.wrapper;if(!be||!c){alert("   .   ."),k(!1);return}try{const pe=await window.htmlToImage.toPng(be,{backgroundColor:"transparent",pixelRatio:2,fontEmbedCSS:c});ee=pe,Q=pe}catch(pe){console.error("html-to-image failed for text element:",pe),alert("   ."),k(!1);return}}else K.type===Te.Image&&(ee=K.src);if(!ee){alert("      ."),k(!1);return}const Oe=new Image;Oe.crossOrigin="Anonymous",Oe.onload=()=>{const pe=document.createElement("canvas");pe.width=K.width*2.5,pe.height=K.height*2.5;const ae=pe.getContext("2d");if(!ae){k(!1);return}ae.imageSmoothingEnabled=!0,ae.imageSmoothingQuality="high",ae.drawImage(Oe,0,0,pe.width,pe.height),ae.globalCompositeOperation="destination-out";const _e={x:K.x+K.width/2,y:K.y+K.height/2},ft={x:H.x+H.width/2,y:H.y+H.height/2},Ot={x:ft.x-_e.x,y:ft.y-_e.y},ht=-K.rotation*(Math.PI/180),lt=Math.cos(ht),mt=Math.sin(ht),Ae={x:Ot.x*lt-Ot.y*mt,y:Ot.x*mt+Ot.y*lt},we={x:(K.width/2+Ae.x)*2.5,y:(K.height/2+Ae.y)*2.5},Ne=H.width*2.5,Ve=H.height*2.5,st=(H.rotation-K.rotation)*(Math.PI/180);ae.save(),ae.translate(we.x,we.y),ae.rotate(st),ae.beginPath(),ae.ellipse(0,0,Ne/2,Ve/2,0,0,2*Math.PI),ae.fill(),ae.restore();const $=pe.toDataURL("image/png");let L,Z;if(K.type===Te.Image)L=v.elements.map(le=>le.id===K.id?{...le,src:$,objectFit:"fill"}:le).filter(le=>le.id!==H.id),Z=K.id;else{const le={id:`clipped_${Date.now()}`,type:Te.Image,x:K.x,y:K.y,width:K.width,height:K.height,rotation:K.rotation,zIndex:K.zIndex,src:$,originalSrc:Q,objectFit:"fill",editState:null};L=v.elements.filter(ne=>ne.id!==H.id&&ne.id!==K.id).concat(le),Z=le.id}he({...v,elements:L}),me(Z),k(!1)},Oe.onerror=()=>{alert("   ."),k(!1)},Oe.src=ee},Ye=(H,K)=>{let ee=[...v.elements].sort((xe,be)=>xe.zIndex-be.zIndex);const Q=ee.findIndex(xe=>xe.id===H);if(Q===-1)return;if(K==="forward")Q<ee.length-1&&([ee[Q],ee[Q+1]]=[ee[Q+1],ee[Q]]);else if(K==="backward")Q>0&&([ee[Q],ee[Q-1]]=[ee[Q-1],ee[Q]]);else if(K==="front"){const[xe]=ee.splice(Q,1);ee.push(xe)}else if(K==="back"){const[xe]=ee.splice(Q,1);ee.unshift(xe)}const Oe=ee.map((xe,be)=>({...xe,zIndex:be+1}));he({...v,elements:Oe})},fe=v.elements.find(H=>H.id===J)||null,Ce=_.useMemo(()=>{var K,ee;if((fe==null?void 0:fe.type)!==Te.Text||!te)return(fe==null?void 0:fe.type)===Te.Text&&((K=fe.spans[0])==null?void 0:K.style)||null;let H=0;for(const Q of fe.spans){const Oe=H+Q.text.length;if(te.start>=H&&te.start<Oe)return Q.style;H=Oe}return((ee=fe.spans[0])==null?void 0:ee.style)||null},[fe,te]),qe=_.useCallback(H=>{var Q;const K=J;if(K&&K!==H){const Oe=x.current.elements.find(xe=>xe.id===K);if(Oe&&Oe.type===Te.Cutter){const xe=x.current.elements.filter(be=>be.id!==K);he({...x.current,elements:xe})}}const ee=H?x.current.elements.find(Oe=>Oe.id===H):null;(!ee||ee.type!==Te.Cutter)&&m(null),H!==K&&((Q=window.getSelection())==null||Q.removeAllRanges()),me(H),P(null)},[J,he]),ut=H=>{H.target===H.currentTarget&&qe(null)},Ze=async()=>{if(ue.current&&window.htmlToImage&&window.saveAs){qe(null),await new Promise(H=>setTimeout(H,50));try{const H=await window.htmlToImage.toBlob(ue.current,{pixelRatio:3,fontEmbedCSS:c??void 0});H&&window.saveAs(H,`${v.name}.png`)}catch(H){console.error("Error exporting to PNG with html-to-image:",H),alert("  .  .")}}},at=()=>{const H={width:v.width,height:v.height,backgroundColor:v.background_color,items:v.elements},K=`data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(H,null,2))}`,ee=document.createElement("a");ee.href=K,ee.download=`${v.name}.json`,ee.click()},_t=H=>{he({...v,...H})};return h.jsxs("div",{className:"flex h-screen bg-slate-900 overflow-hidden",dir:"rtl",children:[h.jsxs("div",{className:"flex-grow flex flex-col",children:[h.jsxs("header",{className:"bg-slate-800 px-4 py-2 flex justify-between items-center text-white border-b border-slate-700",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("button",{onClick:()=>u("/templates"),className:"flex items-center gap-2 font-bold text-lg",children:[h.jsx(Fc,{className:"w-6 h-6 text-blue-400"}),""]})}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:ke,disabled:oe===0,className:"p-2 rounded hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(zb,{className:"w-5 h-5"})}),h.jsx("button",{onClick:et,disabled:oe>=Me.length-1,className:"p-2 rounded hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(Lb,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:ce,disabled:N||!O,className:`bg-green-600 hover:bg-green-700 text-sm font-medium py-2 px-4 rounded-md transition-all duration-200 disabled:opacity-50 ${O?"ring-2 ring-offset-2 ring-offset-slate-800 ring-red-500":""}`,children:N?"...":""}),h.jsx("button",{onClick:at,className:"bg-slate-700 hover:bg-slate-600 text-sm font-medium py-2 px-4 rounded-md transition-colors",children:" "}),h.jsx("button",{onClick:Ze,className:"bg-blue-600 hover:bg-blue-700 text-sm font-medium py-2 px-4 rounded-md transition-colors",children:" "})]})]}),h.jsx("main",{className:"flex-grow bg-slate-900 flex items-start justify-center p-8 overflow-auto",children:h.jsxs("div",{ref:ue,className:"shadow-2xl relative",style:{width:`${v.width}px`,height:`${v.height}px`,backgroundColor:v.background_color},onMouseDown:ut,children:[v.elements.map(H=>h.jsx(k_,{element:H,isSelected:J===H.id,isCutterTarget:f===H.id,onSelect:()=>qe(H.id),onUpdate:j,onInteractionStart:()=>C(!0),onInteractionEnd:Je,onTextSelect:P,onElementRefsChange:B,onEditImage:se,canvasWidth:v.width,canvasHeight:v.height,otherElements:v.elements.filter(K=>K.id!==H.id),setSnapLines:g,activeStyle:J===H.id?Ce:null},H.id)),p.x.map((H,K)=>h.jsx("div",{className:"absolute bg-red-500 opacity-75",style:{left:H,top:0,width:1,height:"100%",zIndex:9999}},`snap-x-${K}`)),p.y.map((H,K)=>h.jsx("div",{className:"absolute bg-red-500 opacity-75",style:{top:H,left:0,height:1,width:"100%",zIndex:9999}},`snap-y-${K}`))]})})]}),h.jsx(U_,{selectedElement:fe,onUpdateElement:j,onStyleUpdate:I,activeStyle:Ce,onAddElement:W,onDeleteElement:Ee,template:v,onUpdateTemplate:_t,onEditImage:se,onDeselect:()=>qe(null),onLayerOrderChange:Ye,onApplyCut:de,isApplyingCut:N})]})}),$r=l=>{const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null},Gm=(l,a)=>{const s=l.r-a.r,r=l.g-a.g,u=l.b-a.b;return Math.sqrt(s*s+r*r+u*u)},Ir=({title:l,children:a,isOpen:s,onToggle:r})=>h.jsxs("div",{className:"border-b border-slate-700",children:[h.jsxs("button",{onClick:r,className:"w-full flex items-center p-3 hover:bg-slate-700/50 gap-2",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-300 ${s?"rotate-180":""}`,children:h.jsx("path",{d:"m6 9 6 6 6-6"})}),h.jsx("span",{className:"font-semibold text-sm",children:l})]}),h.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${s?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:h.jsx("div",{className:"py-3 pl-3 pr-10 bg-slate-900/50",children:a})})]}),G_=({imageSrc:l,elementWidth:a,elementHeight:s,onComplete:r,onCancel:u,initialEditState:c})=>{var Ve,st;const f=_.useRef(null),m=_.useRef(null),p=_.useRef(null),g=_.useRef(null),v=_.useRef(null),w=_.useRef(null),x=_.useRef(!1),[E,N]=_.useState(l),[k,O]=_.useState(l),[R,G]=_.useState({width:0,height:0}),[C,J]=_.useState(1),[me,te]=_.useState(1),[P,Me]=_.useState(1),[V,oe]=_.useState({x:0,y:0}),[ie,ue]=_.useState(!1),[ze,gt]=_.useState({brightness:100,contrast:100,saturate:100,grayscale:0,sepia:0}),[He,B]=_.useState({from:[],to:"#ff00ff",tolerance:20,enabled:!1}),[F,he]=_.useState(!1),[ve,Je]=_.useState({thickness:0,style:"none",color:"#000000"}),[j,I]=_.useState(null),[W,se]=_.useState(20),[Ee,ke]=_.useState(!1),[et,ce]=_.useState(!1),[de,Ye]=_.useState(null),[fe,Ce]=_.useState(!1),[qe,ut]=_.useState(""),Ze=$=>{ut(L=>L===$?null:$)},at=()=>gt({brightness:100,contrast:100,saturate:100,grayscale:0,sepia:0}),_t=()=>B({from:[],to:"#ff00ff",tolerance:20,enabled:!1}),H=_.useCallback(()=>{var L;const $=(L=g.current)==null?void 0:L.getContext("2d");$&&g.current&&$.clearRect(0,0,g.current.width,g.current.height),ke(!1),Ce(!1),I(null)},[]),K=_.useCallback(()=>{at(),_t(),H(),Je({thickness:0,style:"none",color:"#000000"}),oe({x:0,y:0})},[H]),ee=($,L,Z,le)=>{const ne=g.current;if(!ne)return;const re=ne.getContext("2d");re&&(re.beginPath(),re.moveTo($,L),re.lineTo(Z,le),re.stroke())},Q=_.useCallback(()=>{const $=f.current,L=$==null?void 0:$.getContext("2d",{willReadFrequently:!0}),Z=m.current,le=p.current,ne=g.current;if(!L||!Z||!le||R.width===0||!ne)return;const{width:re,height:De}=le.getBoundingClientRect();[$,ne].forEach(Ue=>{Ue&&(Ue.width!==Z.width||Ue.height!==Z.height)&&(Ue.width=Z.width,Ue.height=Z.height)});const $e=document.createElement("canvas");$e.width=Z.width,$e.height=Z.height;const ct=$e.getContext("2d",{willReadFrequently:!0});if(!ct)return;if(ct.filter=`brightness(${ze.brightness}%) contrast(${ze.contrast}%) saturate(${ze.saturate}%) grayscale(${ze.grayscale}%) sepia(${ze.sepia}%)`,ct.drawImage(Z,0,0),He.enabled&&He.from.length>0){const Ue=He.from.map($r).filter(Boolean),Xe=$r(He.to);if(Ue.length>0&&Xe){const Qe=ct.getImageData(0,0,Z.width,Z.height),pt=Qe.data,Pe=He.tolerance*2.55;for(let Et=0;Et<pt.length;Et+=4){const Ke={r:pt[Et],g:pt[Et+1],b:pt[Et+2]};for(const tn of Ue)if(Gm(Ke,tn)<Pe){pt[Et]=Xe.r,pt[Et+1]=Xe.g,pt[Et+2]=Xe.b;break}}ct.putImageData(Qe,0,0)}}if($.width=re,$.height=De,L.fillStyle="#111827",L.fillRect(0,0,re,De),L.save(),L.translate(re/2+V.x,De/2+V.y),L.scale(C,C),Ee&&fe){const Ue=document.createElement("canvas");Ue.width=Z.width,Ue.height=Z.height;const Xe=Ue.getContext("2d");Xe&&(Xe.filter="blur(8px)",Xe.drawImage($e,0,0),L.drawImage(Ue,-Z.width/2,-Z.height/2)),L.save(),L.globalCompositeOperation="destination-out",L.drawImage(ne,-Z.width/2,-Z.height/2),L.restore(),L.save(),L.globalCompositeOperation="destination-over",L.drawImage($e,-Z.width/2,-Z.height/2),L.restore()}else L.drawImage($e,-Z.width/2,-Z.height/2);if(j&&fe){const Ue=document.createElement("canvas");Ue.width=Z.width,Ue.height=Z.height;const Xe=Ue.getContext("2d");Xe&&(Xe.drawImage(ne,0,0),Xe.globalCompositeOperation="source-in",Xe.fillStyle="purple",Xe.fillRect(0,0,Z.width,Z.height),L.save(),L.globalAlpha=.4,L.drawImage(Ue,-Z.width/2,-Z.height/2),L.restore())}L.restore();const Vt=(re-R.width)/2,Nt=(De-R.height)/2;if(L.save(),L.fillStyle="rgba(0, 0, 0, 0.5)",L.beginPath(),L.rect(0,0,re,De),L.rect(Vt+1,Nt+1,R.width-2,R.height-2),L.closePath(),L.fill("evenodd"),L.strokeStyle="white",L.lineWidth=2,L.strokeRect(Vt,Nt,R.width,R.height),L.restore(),ve.thickness>0&&ve.style!=="none"){L.save(),L.strokeStyle=ve.color,L.lineWidth=ve.thickness;const Ue=Vt+ve.thickness/2,Xe=Nt+ve.thickness/2,Qe=R.width-ve.thickness,pt=R.height-ve.thickness;if(Qe>0&&pt>0&&(ve.style==="dashed"?L.setLineDash([15,10]):ve.style==="dotted"&&L.setLineDash([2,5]),L.strokeRect(Ue,Xe,Qe,pt),ve.style==="double")){const Pe=ve.thickness*.3;L.lineWidth=Math.max(1,ve.thickness*.2),L.strokeRect(Ue+Pe,Xe+Pe,Qe-Pe*2,pt-Pe*2)}L.restore()}j&&de&&(L.beginPath(),L.arc(de.x,de.y,W/2*C,0,Math.PI*2),L.strokeStyle="white",L.lineWidth=1,L.stroke())},[C,V,ze,R,He,Ee,fe,j,W,de,ve]),Oe=$=>{if($.target.files&&$.target.files[0]){const L=new FileReader;L.onload=Z=>{var le;if((le=Z.target)!=null&&le.result){const ne=Z.target.result;x.current=!0,O(ne),N(ne)}},L.readAsDataURL($.target.files[0])}$.target&&($.target.value="")},xe=()=>{fe&&(ke($=>!$),I(null))};_.useEffect(()=>{const $=p.current;if($){const Z=$.offsetWidth-40,le=$.offsetHeight-40;let ne=a,re=s;if(a>Z||s>le){const De=a/s,$e=Z*.8,ct=le*.8;ne=$e,re=ne/De,re>ct&&(re=ct,ne=re*De)}G({width:ne,height:re})}},[a,s]),_.useEffect(()=>{if(!k||R.width===0)return;const $=new Image;$.crossOrigin="anonymous",$.src=k,$.onload=()=>{var $e,ct;m.current=$,g.current&&(g.current.width=$.width,g.current.height=$.height);const L=Math.max(R.width/$.width,R.height/$.height),Z=a>0?R.width/a:1;let le,ne,re;$.width<a&&$.height<s?(le=Z,ne=Z,re=Z):(ne=L,le=L,re=Z,ne>re&&(re=ne)),te(ne),Me(re);const De=x.current;if(De&&(x.current=!1),c&&!De){const Vt=Math.max(ne,Math.min(re,c.zoom)),Nt=Math.max(0,($.width*Vt-R.width)/2),Ue=Math.max(0,($.height*Vt-R.height)/2),Xe={x:Math.max(-Nt,Math.min(Nt,c.offset.x)),y:Math.max(-Ue,Math.min(Ue,c.offset.y))};J(Vt),oe(Xe),gt({...{brightness:100,contrast:100,saturate:100,grayscale:0,sepia:0},...c.filters});const pt={from:[],to:"#ff00ff",tolerance:20,enabled:!1},Pe=($e=c.colorReplace)==null?void 0:$e.from,Et=Array.isArray(Pe)?Pe:typeof Pe=="string"?[Pe]:[];B({...pt,...c.colorReplace,from:Et}),Je({...{thickness:0,style:"none",color:"#000000"},...c.frame}),ke(c.isBlurApplied??!1),Ce(c.hasMask??!1);const tn=(ct=g.current)==null?void 0:ct.getContext("2d");if(tn&&g.current&&tn.clearRect(0,0,g.current.width,g.current.height),c.maskDataUrl&&g.current){const ha=new Image;ha.src=c.maskDataUrl,ha.onload=()=>{var kn,zt;(zt=(kn=g.current)==null?void 0:kn.getContext("2d"))==null||zt.drawImage(ha,0,0)}}}else K(),J(le),oe({x:0,y:0})}},[k,R,c,a,s,K]),_.useEffect(()=>{Q()},[Q]);const be=$=>{const L=f.current,Z=m.current;if(!L||!Z)return null;const le=L.getBoundingClientRect(),ne=$.clientX-le.left,re=$.clientY-le.top,De=(ne-(L.width/2+V.x))/C+Z.width/2,$e=(re-(L.height/2+V.y))/C+Z.height/2;return{x:De,y:$e}},pe=$=>{if($.button===0)if(j){ce(!0);const L=be($);L&&(v.current=L)}else ue(!0)},ae=()=>{ue(!1),ce(!1),v.current=null},_e=$=>{$.clientX,$.clientY;const L=f.current;if(L){const Z=L.getBoundingClientRect();Ye({x:$.clientX-Z.left,y:$.clientY-Z.top})}if(ie){const Z=m.current;if(!Z||R.width===0)return;oe(le=>{const ne=le.x+$.movementX,re=le.y+$.movementY,De=Math.max(0,(Z.width*C-R.width)/2),$e=Math.max(0,(Z.height*C-R.height)/2),ct=Math.max(-De,Math.min(De,ne)),Vt=Math.max(-$e,Math.min($e,re));return{x:ct,y:Vt}})}else if(et&&j){const Z=g.current;if(!Z)return;const le=Z.getContext("2d");if(!le)return;const ne=be($);if(!ne)return;le.lineCap="round",le.lineJoin="round",le.lineWidth=W,j==="brush"?(le.globalCompositeOperation="source-over",le.strokeStyle="white"):(le.globalCompositeOperation="destination-out",le.strokeStyle="rgba(0,0,0,1)"),v.current&&ee(v.current.x,v.current.y,ne.x,ne.y),v.current=ne,Ce(!0)}},ft=()=>{ue(!1),ce(!1),v.current=null,Ye(null)},Ot=_.useCallback(($,L)=>{const Z=f.current,le=m.current;if(!Z||!le)return;const ne=Math.max(me,Math.min(P,$));if(ne===C)return;let re=V.x,De=V.y;if(L){const Ue=(L.x-(Z.width/2+V.x))/C,Xe=(L.y-(Z.height/2+V.y))/C;re=V.x-Ue*(ne-C),De=V.y-Xe*(ne-C)}else{const Ue=ne/C;re*=Ue,De*=Ue}const $e=Math.max(0,(le.width*ne-R.width)/2),ct=Math.max(0,(le.height*ne-R.height)/2),Vt=Math.max(-$e,Math.min($e,re)),Nt=Math.max(-ct,Math.min(ct,De));J(ne),oe({x:Vt,y:Nt})},[C,V,me,P,R]),ht=$=>{$.preventDefault();const L=f.current;if(!L)return;const Z=L.getBoundingClientRect(),le=1.1,ne=$.deltaY<0?C*le:C/le;Ot(ne,{x:$.clientX-Z.left,y:$.clientY-Z.top})},lt=$=>{if(F){const L=f.current,Z=L==null?void 0:L.getContext("2d",{willReadFrequently:!0});if(!Z||!L)return;const le=L.getBoundingClientRect(),ne=$.clientX-le.left,re=$.clientY-le.top,De=Z.getImageData(ne,re,1,1).data,$e="#"+("000000"+(De[0]<<16|De[1]<<8|De[2]).toString(16)).slice(-6);B(ct=>ct.from.includes($e)?ct:{...ct,from:[...ct.from,$e],enabled:!0}),he(!1)}},mt=$=>{B(L=>{const Z=L.from.filter((le,ne)=>ne!==$);return{...L,from:Z,enabled:Z.length>0}})},Ae=()=>{var Ue;const $=document.createElement("canvas"),L=$.getContext("2d",{willReadFrequently:!0}),Z=m.current;if(!L||!Z||R.width===0)return;$.width=a,$.height=s;const le=document.createElement("canvas");le.width=Z.width,le.height=Z.height;const ne=le.getContext("2d",{willReadFrequently:!0});if(!ne)return;if(ne.filter=`brightness(${ze.brightness}%) contrast(${ze.contrast}%) saturate(${ze.saturate}%) grayscale(${ze.grayscale}%) sepia(${ze.sepia}%)`,ne.drawImage(Z,0,0),He.enabled&&He.from.length>0){const Xe=He.from.map($r).filter(Boolean),Qe=$r(He.to);if(Xe.length>0&&Qe){const pt=ne.getImageData(0,0,Z.width,Z.height),Pe=pt.data,Et=He.tolerance*2.55;for(let Ke=0;Ke<Pe.length;Ke+=4){const tn={r:Pe[Ke],g:Pe[Ke+1],b:Pe[Ke+2]};for(const ha of Xe)if(Gm(tn,ha)<Et){Pe[Ke]=Qe.r,Pe[Ke+1]=Qe.g,Pe[Ke+2]=Qe.b;break}}ne.putImageData(pt,0,0)}}let re=le;if(Ee&&fe&&g.current){const Xe=document.createElement("canvas");Xe.width=Z.width,Xe.height=Z.height;const Qe=Xe.getContext("2d");if(Qe){const pt=document.createElement("canvas");pt.width=Z.width,pt.height=Z.height;const Pe=pt.getContext("2d");Pe&&(Pe.filter="blur(8px)",Pe.drawImage(le,0,0),Qe.drawImage(pt,0,0),Qe.save(),Qe.globalCompositeOperation="destination-out",Qe.drawImage(g.current,0,0),Qe.restore(),Qe.save(),Qe.globalCompositeOperation="destination-over",Qe.drawImage(le,0,0),Qe.restore(),re=Xe)}}const De=-R.width/2/C-V.x/C+Z.width/2,$e=-R.height/2/C-V.y/C+Z.height/2,ct=R.width/C,Vt=R.height/C;if(L.drawImage(re,De,$e,ct,Vt,0,0,a,s),ve.thickness>0&&ve.style!=="none"){const Xe=a/R.width,Qe=ve.thickness*Xe;if(Qe>0){L.save(),L.strokeStyle=ve.color,L.lineWidth=Qe;const pt=Qe/2,Pe=Qe/2,Et=$.width-Qe,Ke=$.height-Qe;if(ve.style==="dashed"?L.setLineDash([15*Xe,10*Xe]):ve.style==="dotted"&&L.setLineDash([2*Xe,5*Xe]),L.strokeRect(pt,Pe,Et,Ke),ve.style==="double"){const tn=Qe*.3;L.lineWidth=Math.max(1,Qe*.2),L.strokeRect(pt+tn,Pe+tn,Et-tn*2,Ke-tn*2)}L.restore()}}const Nt={zoom:C,offset:V,filters:ze,colorReplace:He,frame:ve,isBlurApplied:Ee,hasMask:fe,maskDataUrl:fe?((Ue=g.current)==null?void 0:Ue.toDataURL())??null:null};r({newSrc:$.toDataURL(),newOriginalSrc:E,editState:Nt})},we="bg-blue-600",Ne="bg-slate-700 hover:bg-slate-600";return h.jsxs("div",{className:"fixed inset-0 z-[100] flex h-screen bg-[#111827] text-white",dir:"rtl",children:[h.jsxs("main",{className:"flex-grow flex flex-col",children:[h.jsxs("header",{className:"bg-slate-800 px-4 py-2 flex justify-between items-center border-b border-slate-700",children:[h.jsx("button",{onClick:u,className:"text-sm p-2 rounded hover:bg-slate-700",children:"X"}),h.jsx("h2",{className:"font-bold text-lg",children:" "}),h.jsxs("div",{children:[h.jsx("input",{type:"file",ref:w,className:"hidden",accept:"image/*",onChange:Oe}),h.jsx("button",{onClick:u,className:"bg-slate-700 hover:bg-slate-600 text-sm font-medium py-2 px-4 rounded-md transition-colors mr-2",children:""}),h.jsx("button",{onClick:()=>{var $;return($=w.current)==null?void 0:$.click()},className:"bg-slate-700 hover:bg-slate-600 text-sm font-medium py-2 px-4 rounded-md transition-colors mr-2",children:" "}),h.jsx("button",{onClick:Ae,className:"bg-blue-600 hover:bg-blue-700 text-sm font-medium py-2 px-4 rounded-md transition-colors",children:" "})]})]}),h.jsxs("div",{ref:p,className:"flex-grow relative overflow-hidden",style:{cursor:F?"crosshair":j?"none":"move"},onMouseDown:F?void 0:pe,onMouseUp:F?void 0:ae,onMouseLeave:F?void 0:ft,onMouseMove:F?void 0:_e,onWheel:ht,onClick:lt,onContextMenu:$=>$.preventDefault(),children:[h.jsx("canvas",{ref:f}),h.jsx("canvas",{ref:g,className:"hidden"})]})]}),h.jsxs("aside",{className:"w-96 bg-slate-800 flex flex-col border-r border-slate-700 overflow-y-auto",children:[h.jsxs("div",{className:"p-3 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold",children:""}),h.jsxs("p",{className:"text-xs text-slate-400",children:[" : ",(Ve=m.current)==null?void 0:Ve.width,"x",(st=m.current)==null?void 0:st.height]}),h.jsxs("p",{className:"text-xs text-slate-400",children:[" : ",Math.round(a),"x",Math.round(s)]})]}),h.jsx("div",{className:"p-3 border-b border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("span",{className:"w-20",children:""}),h.jsx("input",{type:"range",min:me*100,max:P*100,value:C*100,onChange:$=>Ot(parseInt($.target.value,10)/100),className:"w-full disabled:opacity-50 disabled:cursor-not-allowed",disabled:P<=me}),h.jsxs("span",{className:"w-8 text-right",children:[Math.round(C*100),"%"]})]})}),h.jsx(Ir,{title:"",isOpen:qe==="",onToggle:()=>Ze(""),children:h.jsxs("div",{className:"space-y-2",children:[["brightness","contrast","saturate","grayscale","sepia"].map($=>h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("span",{className:"w-20 capitalize",children:$}),h.jsx("input",{type:"range",min:($.includes("gray")||$.includes("sepia"),0),max:$.includes("gray")||$.includes("sepia")?100:200,value:ze[$],onChange:L=>gt(Z=>({...Z,[$]:parseInt(L.target.value)})),className:"w-full"}),h.jsxs("span",{className:"w-8 text-right",children:[ze[$],"%"]})]},$)),h.jsxs("button",{onClick:at,className:"w-full mt-2 text-xs bg-slate-700 hover:bg-slate-600 p-2 rounded flex items-center justify-center gap-1",children:[h.jsx(dm,{className:"w-3 h-3"})," "]})]})}),h.jsx(Ir,{title:" ",isOpen:qe===" ",onToggle:()=>Ze(" "),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsxs("div",{className:"flex-grow",children:[h.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"  ( )"}),h.jsx("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-slate-900/50 rounded-md min-h-[48px]",children:He.from.map(($,L)=>h.jsx("button",{onClick:()=>mt(L),style:{backgroundColor:$},className:"w-8 h-8 rounded-md border-2 border-slate-500 relative flex items-center justify-center",title:`  ${$}`,children:h.jsx(Wc,{className:"w-4 h-4 text-white transition-opacity",style:{mixBlendMode:"difference"}})},`${$}-${L}`))})]}),h.jsx("button",{onClick:()=>he(!0),className:`p-2 h-10 flex items-center justify-center rounded-md border-2 transition-colors ${F?"border-blue-500 ring-2 ring-blue-500/50":"border-slate-600 hover:border-slate-500"}`,title:"  ",children:h.jsx(Yb,{className:"w-6 h-6 text-white"})}),h.jsx("div",{className:"text-slate-400 pb-2 text-xl",children:""}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-slate-400 block mb-1 text-center",children:""}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-10 h-10 rounded-md border-2 border-slate-600",style:{backgroundColor:He.to}}),h.jsx("input",{type:"color",value:He.to,onChange:$=>B(L=>({...L,to:$.target.value,enabled:L.from.length>0})),className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer"})]})]})]}),h.jsxs("label",{className:"text-sm text-slate-400",children:[": ",He.tolerance]}),h.jsx("input",{type:"range",min:"0",max:"100",value:He.tolerance,onChange:$=>B(L=>({...L,tolerance:parseInt($.target.value),enabled:L.from.length>0})),className:"w-full mt-1"}),h.jsx("button",{onClick:_t,disabled:!He.enabled&&He.from.length===0,className:"w-full mt-2 text-xs bg-slate-700 hover:bg-slate-600 p-2 rounded flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:" "})]})}),h.jsx(Ir,{title:"",isOpen:qe==="",onToggle:()=>Ze(""),children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"    .   ."}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{htmlFor:"brush-size-slider",className:"text-sm text-slate-400 whitespace-nowrap",children:" :"}),h.jsx("input",{id:"brush-size-slider",type:"range",min:"5",max:"300",value:W,onChange:$=>se(parseInt($.target.value,10)),className:"w-full"}),h.jsx("span",{className:"text-sm w-8 text-right",children:W})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-2 pt-2 border-t border-slate-700",children:[h.jsxs("button",{onClick:()=>{I("brush"),ke(!1)},title:" ",className:`p-2 rounded flex items-center justify-center text-sm gap-1 ${j==="brush"?we:Ne}`,children:[h.jsx(o0,{className:"w-4 h-4"}),h.jsx(cm,{className:"w-5 h-5"})]}),h.jsxs("button",{onClick:()=>{I("eraser"),ke(!1)},title:" ",className:`p-2 rounded flex items-center justify-center text-sm gap-1 ${j==="eraser"?we:Ne}`,children:[h.jsx(kb,{className:"w-4 h-4"}),h.jsx(cm,{className:"w-5 h-5"})]}),h.jsx("button",{onClick:xe,disabled:!fe,title:"/ ",className:`p-2 rounded flex items-center justify-center text-sm ${Ee?we:"bg-slate-600 hover:bg-slate-500"} disabled:opacity-50 disabled:cursor-not-allowed`,children:h.jsx(Gb,{className:"w-5 h-5"})}),h.jsx("button",{onClick:H,title:" ",className:"p-2 rounded flex items-center justify-center text-sm bg-slate-700 hover:bg-slate-600",children:h.jsx(dm,{className:"w-5 h-5"})})]})]})}),h.jsx(Ir,{title:"",isOpen:qe==="",onToggle:()=>Ze(""),children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm text-slate-400",children:[": ",ve.thickness,"px"]}),h.jsx("input",{type:"range",min:"0",max:"50",value:ve.thickness,onChange:$=>Je(L=>({...L,thickness:parseInt($.target.value)})),className:"w-full mt-1"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-slate-400",children:""}),h.jsxs("select",{value:ve.style,onChange:$=>Je(L=>({...L,style:$.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded p-2 mt-1 text-sm",children:[h.jsx("option",{value:"none",children:" "}),h.jsx("option",{value:"solid",children:" "}),h.jsx("option",{value:"dashed",children:" "}),h.jsx("option",{value:"dotted",children:" "}),h.jsx("option",{value:"double",children:" "})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm text-slate-400",children:""}),h.jsx("input",{type:"color",value:ve.color,onChange:$=>Je(L=>({...L,color:$.target.value})),className:"w-full h-10 bg-slate-700 border border-slate-600 rounded p-1 mt-1"})]})]})})]})]})},V_=()=>{const l=Vn(),a=$a(),{user:s}=gi(),{upsertTemplate:r}=U0(),u=_.useRef(null),[c,f]=_.useState(null),[m,p]=_.useState(null),[g,v]=_.useState(!0),[w,x]=_.useState(null);_.useEffect(()=>{const R=l.state;R!=null&&R.template?(f(R.template),p(R.template),v(!1)):a("/templates")},[l.state,a]);const E=async(R,G)=>{var V;if(!s||!m)return;const C=m.is_public===!0,J=R.name!==m.name,me=R.id.startsWith("new_")||C||J,te=oe=>{if(oe===null||typeof oe!="object")return oe;if(Array.isArray(oe))return oe.map(ue=>te(ue));const ie={};for(const ue in oe)if(Object.prototype.hasOwnProperty.call(oe,ue)){const ze=oe[ue];ie[ue]=typeof ze<"u"?te(ze):null}return ie},P={width:R.width,height:R.height,backgroundColor:R.background_color,items:te(R.elements)},Me={name:R.name,previewImage:G??null,template_data:P};try{const{data:oe,error:ie}=me?await On.from("templates").insert({...Me,user_id:s.id,is_public:!1,is_active:!0}).select():await On.from("templates").update(Me).eq("id",R.id).select();if(ie)throw ie;if(oe&&oe[0]){const ue=oe[0],ze=ue.template_data,gt={id:ue.id,name:ue.name||"  ",user_id:ue.user_id,created_at:ue.created_at,previewImage:ue.previewImage,is_public:ue.is_public??!1,is_active:ue.is_active??!0,width:ze.width,height:ze.height,background_color:ze.backgroundColor||"#1a202c",elements:ze.items||[]},He={id:ue.id,name:ue.name||"  ",previewImage:ue.previewImage,user_id:ue.user_id,is_public:ue.is_public??!1,is_active:ue.is_active??!0,created_at:ue.created_at};He.is_public||r(He,gt),f(gt),p(gt),me&&((V=u.current)==null||V.updateTemplateFromParent(gt))}}catch(oe){console.error("Error saving template:",oe);const ie=(oe==null?void 0:oe.message)||"An unexpected error occurred.";alert(`  : ${ie}`)}},N=(R,G)=>{const C=G||R.originalSrc||R.src;x({id:R.id,src:C||"",width:R.width,height:R.height,editState:R.editState})},k=R=>{u.current&&w&&u.current.applyImageEdit(w.id,R),x(null)},O=()=>{x(null)};return g||!c?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900 text-white",children:" ..."}):h.jsxs(h.Fragment,{children:[h.jsx(Y_,{ref:u,initialTemplate:c,onEditImage:N,onSaveTemplate:E}),w&&h.jsx(G_,{imageSrc:w.src,elementWidth:w.width,elementHeight:w.height,onComplete:k,onCancel:O,initialEditState:w.editState??void 0})]})},X_=()=>{const[l,a]=_.useState(""),[s,r]=_.useState(""),[u,c]=_.useState(!1),[f,m]=_.useState(null),p=$a(),{user:g,loading:v}=gi();_.useEffect(()=>{!v&&g&&p("/templates",{replace:!0})},[g,v,p]);const w=async E=>{E.preventDefault(),m(null),c(!0);const{error:N}=await On.auth.signInWithPassword({email:l,password:s});N?m(N.message):p("/templates"),c(!1)},x=async()=>{m(null),c(!0);const E=window.location.href.split("#")[0],{error:N}=await On.auth.signInWithOAuth({provider:"google",options:{redirectTo:E}});N&&(m(N.message),c(!1))};return v||g?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"..."})}):h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsxs("div",{className:"max-w-md w-full bg-slate-800 p-8 rounded-lg shadow-lg",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(Fc,{className:"w-12 h-12 mx-auto text-blue-500"}),h.jsx("h1",{className:"text-3xl font-bold text-white mt-4",children:""}),h.jsx("p",{className:"text-slate-400",children:"     "})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("button",{onClick:x,disabled:u,className:"w-full flex items-center justify-center gap-3 bg-white text-slate-700 font-semibold py-2.5 px-4 rounded-lg transition-colors hover:bg-slate-200 disabled:opacity-50",children:[h.jsx(Kb,{className:"w-5 h-5"}),"  "]}),h.jsxs("div",{className:"relative flex py-2 items-center",children:[h.jsx("div",{className:"flex-grow border-t border-slate-600"}),h.jsx("span",{className:"flex-shrink mx-4 text-slate-400 text-sm",children:""}),h.jsx("div",{className:"flex-grow border-t border-slate-600"})]}),h.jsxs("form",{onSubmit:w,className:"space-y-4",children:[h.jsx("input",{type:"email",placeholder:"",value:l,onChange:E=>a(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-left",dir:"ltr",required:!0}),h.jsx("input",{type:"password",placeholder:"",value:s,onChange:E=>r(E.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg py-2 px-4 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-left",dir:"ltr",required:!0}),f&&h.jsx("p",{className:"text-red-400 text-sm pt-2 text-center",children:f}),h.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:u?"...":"  "})]})]})]})})},Vm=({children:l})=>{const{user:a,loading:s}=gi(),r=Vn();return s?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900 text-white",children:"..."}):a?h.jsx(h.Fragment,{children:l}):h.jsx(n0,{to:"/auth",state:{from:r},replace:!0})};function K_(){return h.jsx("div",{className:"min-h-screen bg-slate-900 text-gray-200",children:h.jsxs(Pv,{children:[h.jsx(cl,{path:"/",element:h.jsx(E_,{})}),h.jsx(cl,{path:"/auth",element:h.jsx(X_,{})}),h.jsx(cl,{path:"/templates",element:h.jsx(Vm,{children:h.jsx(C_,{})})}),h.jsx(cl,{path:"/editor",element:h.jsx(Vm,{children:h.jsx(V_,{})})}),h.jsx(cl,{path:"*",element:h.jsx(n0,{to:"/"})})]})})}const B0=document.getElementById("root");if(!B0)throw new Error("Could not find root element to mount to");const J_=rv.createRoot(B0);On.auth.getSession().finally(()=>{J_.render(h.jsx(ev.StrictMode,{children:h.jsx(wb,{children:h.jsx(__,{children:h.jsx(T_,{children:h.jsx($_,{children:h.jsx(K_,{})})})})})}))});
